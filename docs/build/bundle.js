var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function i(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function o(e,t,n,r,s,l,a){const o=function(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}(t,r,s,l);if(o){const s=i(t,n,r,a);e.p(s,o)}}function c(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function h(){return m(" ")}function g(){return m("")}function $(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e){return""===e?null:+e}function w(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function b(e,t){e.value=null==t?"":t}function k(e,t,n){e.classList[n?"add":"remove"](t)}let x;function S(e){x=e}function q(e){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_mount.push(e)}function C(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const T=[],_=[],O=[],j=[],z=Promise.resolve();let M=!1;function N(e){O.push(e)}let P=!1;const L=new Set;function A(){if(!P){P=!0;do{for(let e=0;e<T.length;e+=1){const t=T[e];S(t),G(t.$$)}for(S(null),T.length=0;_.length;)_.pop()();for(let e=0;e<O.length;e+=1){const t=O[e];L.has(t)||(L.add(t),t())}O.length=0}while(T.length);for(;j.length;)j.pop()();M=!1,P=!1,L.clear()}}function G(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(N)}}const H=new Set;let R;function D(){R={r:0,c:[],p:R}}function U(){R.r||r(R.c),R=R.p}function E(e,t){e&&e.i&&(H.delete(e),e.i(t))}function B(e,t,n,r){if(e&&e.o){if(H.has(e))return;H.add(e),R.c.push((()=>{H.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const J="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function W(e,t){e.d(1),t.delete(e.key)}function I(e,t){B(e,1,1,(()=>{t.delete(e.key)}))}function Y(e,t,n,r,s,l,a,i,o,c,u,p){let d=e.length,f=l.length,m=d;const h={};for(;m--;)h[e[m].key]=m;const g=[],$=new Map,v=new Map;for(m=f;m--;){const e=p(s,l,m),i=n(e);let o=a.get(i);o?r&&o.p(e,t):(o=c(i,e),o.c()),$.set(i,g[m]=o),i in h&&v.set(i,Math.abs(m-h[i]))}const y=new Set,w=new Set;function b(e){E(e,1),e.m(i,u),a.set(e.key,e),u=e.first,f--}for(;d&&f;){const t=g[f-1],n=e[d-1],r=t.key,s=n.key;t===n?(u=t.first,d--,f--):$.has(s)?!a.has(r)||y.has(r)?b(t):w.has(s)?d--:v.get(r)>v.get(s)?(w.add(r),b(t)):(y.add(s),d--):(o(n,a),d--)}for(;d--;){const t=e[d];$.has(t.key)||o(t,a)}for(;f;)b(g[f-1]);return g}function F(e){e&&e.c()}function Q(e,n,l,a){const{fragment:i,on_mount:o,on_destroy:c,after_update:u}=e.$$;i&&i.m(n,l),a||N((()=>{const n=o.map(t).filter(s);c?c.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(N)}function K(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function V(e,t){-1===e.$$.dirty[0]&&(T.push(e),M||(M=!0,z.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function X(t,s,l,a,i,o,c=[-1]){const u=x;S(t);const d=t.$$={fragment:null,ctx:null,props:o,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let f=!1;if(d.ctx=l?l(t,s.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return d.ctx&&i(d.ctx[e],d.ctx[e]=s)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](s),f&&V(t,e)),n})):[],d.update(),f=!0,r(d.before_update),d.fragment=!!a&&a(d.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);d.fragment&&d.fragment.l(e),e.forEach(p)}else d.fragment&&d.fragment.c();s.intro&&E(t.$$.fragment),Q(t,s.target,s.anchor,s.customElement),A()}S(u)}class Z{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ee=[];function te(t,n=e){let r;const s=[];function a(e){if(l(t,e)&&(t=e,r)){const e=!ee.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),ee.push(n,t)}if(e){for(let e=0;e<ee.length;e+=2)ee[e][0](ee[e+1]);ee.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(l,i=e){const o=[l,i];return s.push(o),1===s.length&&(r=n(a)||e),l(t),()=>{const e=s.indexOf(o);-1!==e&&s.splice(e,1),0===s.length&&(r(),r=null)}}}}const{API_URL:ne}={API_URL:"https://api.mbs3.fightthe.pw",UI_URL:"https://mbs3.fightthe.pw",isProd:!0},re=te(null),se=te(null),le=te([]),ae=te([]),ie=te([]),oe=te([]),ce=te(null),ue=new Set(["players","countries","qualifiers","qualifiers!maps","qualifiers!elite","qualifiers!elite!maps","qualifiers!lobbies","groups","groups!results","groups!maps","groups!rolls","ro64","ro64!maps","ro64!rolls","scuffed!drawing","referee!helper"]),pe=()=>{const{hash:e}=location,[,t]=e.split("/");ue.has(t)?ce.set(t):(ce.set("home"),"#/"!=e&&(location.hash="#/"))};window.addEventListener("hashchange",pe),pe();const de=(e,t={headers:{}},n)=>fetch(`${ne}${e}`,Object.assign(Object.assign({},t),{headers:Object.assign({Authorization:fe?`Bearer ${fe}`:void 0},t.headers)})).then((async r=>{var s,l;const a=await r.json();if("Token expired."==(null===(l=null===(s=a.errors)||void 0===s?void 0:s[0])||void 0===l?void 0:l.message)&&!n){const n=await fetch(`${ne}/auth/refresh`,{method:"POST",credentials:"include"});if(200==n.status){const r=await n.json();return fe=r.data.access_token,de(e,t,!0)}}return a}));let fe;function me(t){let n,r;return{c(){n=f("a"),r=m("Login"),v(n,"href",t[3])},m(e,t){u(e,n,t),c(n,r)},p:e,d(e){e&&p(n)}}}function he(e){let t,n,r,s,l,a,i,o,d,g,y,b=e[0].username+"",k=e[0].player&&ge(),x=e[0].referee&&$e(),S=e[0].commentator&&ve(),q=e[0].streamer&&ye();return{c(){t=m("Logged in as\r\n      "),n=f("b"),r=m(b),s=m(" -\r\n      "),k&&k.c(),l=h(),x&&x.c(),a=h(),S&&S.c(),i=h(),q&&q.c(),o=h(),d=f("a"),d.textContent="Log out",v(d,"href","#/")},m(p,f){u(p,t,f),u(p,n,f),c(n,r),u(p,s,f),k&&k.m(p,f),u(p,l,f),x&&x.m(p,f),u(p,a,f),S&&S.m(p,f),u(p,i,f),q&&q.m(p,f),u(p,o,f),u(p,d,f),g||(y=$(d,"click",e[2]),g=!0)},p(e,t){1&t&&b!==(b=e[0].username+"")&&w(r,b),e[0].player?k||(k=ge(),k.c(),k.m(l.parentNode,l)):k&&(k.d(1),k=null),e[0].referee?x||(x=$e(),x.c(),x.m(a.parentNode,a)):x&&(x.d(1),x=null),e[0].commentator?S||(S=ve(),S.c(),S.m(i.parentNode,i)):S&&(S.d(1),S=null),e[0].streamer?q||(q=ye(),q.c(),q.m(o.parentNode,o)):q&&(q.d(1),q=null)},d(e){e&&p(t),e&&p(n),e&&p(s),k&&k.d(e),e&&p(l),x&&x.d(e),e&&p(a),S&&S.d(e),e&&p(i),q&&q.d(e),e&&p(o),e&&p(d),g=!1,y()}}}function ge(e){let t;return{c(){t=m("Player -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function $e(e){let t;return{c(){t=m("Referee -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function ve(e){let t;return{c(){t=m("Commentator -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function ye(e){let t;return{c(){t=m("Streamer -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function we(t){let n,r,s,l,a,i;function o(e,t){return e[0]?he:e[1].length?me:void 0}let d=o(t),m=d&&d(t);return{c(){n=f("div"),r=f("a"),r.innerHTML='<div class="logo svelte-swbai7"><img alt="" src="/images/logo.png" class="svelte-swbai7"/></div> \n    <h1 class="svelte-swbai7"><img alt="Mania Beginner&#39;s Showdown" src="/images/title.png" class="svelte-swbai7"/> \n      <div class="three svelte-swbai7"><span class="svelte-swbai7">3</span></div></h1>',s=h(),l=f("div"),l.innerHTML='<div class="host-title svelte-swbai7">Hosted by</div>\n    Paturages &amp; Davvy',a=h(),i=f("div"),m&&m.c(),v(r,"href","#/"),v(l,"class","hosts svelte-swbai7"),v(i,"class","me svelte-swbai7"),v(n,"class","banner svelte-swbai7")},m(e,t){u(e,n,t),c(n,r),c(n,s),c(n,l),c(n,a),c(n,i),m&&m.m(i,null)},p(e,[t]){d===(d=o(e))&&m?m.p(e,t):(m&&m.d(1),m=d&&d(e),m&&(m.c(),m.m(i,null)))},i:e,o:e,d(e){e&&p(n),m&&m.d()}}}function be(e,t,n){let r,s;a(e,re,(e=>n(0,r=e))),a(e,le,(e=>n(1,s=e)));var l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{o(r.next(e))}catch(e){l(e)}}function i(e){try{o(r.throw(e))}catch(e){l(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}o((r=r.apply(e,t||[])).next())}))};return[r,s,()=>l(void 0,void 0,void 0,(function*(){yield fetch("https://api.mbs3.fightthe.pw/auth/logout",{method:"POST",credentials:"include"}),location.reload()})),"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw"]}(async()=>{const{data:e}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  stages(sort: "sort") {\n    slug\n    name\n    date_start\n    date_end\n    link\n  }\n  players(sort: "ranking", limit: -1) {\n    id\n    seed\n    group {\n      id\n    }\n    elite\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n    ranking\n    pp\n    qualifier {\n      name\n      link\n      time\n    }\n  }\n  referees {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n  commentators {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n  streamers {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n}'})});oe.set(e.stages),se.set(e.players);const t=new Map(e.players.map((e=>[e.id,e])));le.set(e.referees);const n=new Map(e.referees.map((e=>[e.id,e])));ae.set(e.commentators);const r=new Map(e.commentators.map((e=>[e.id,e])));ie.set(e.streamers);const s=new Map(e.streamers.map((e=>[e.id,e]))),l=await fetch(`${ne}/auth/refresh`,{method:"POST",credentials:"include"});if(200==l.status){const e=await l.json();fe=e.data.access_token;const{data:{first_name:a,email:i,avatar:o}}=await de("/users/me?fields=first_name,email"),c=t.get(i),u=n.get(i),p=r.get(i),d=s.get(i);re.set({avatar:o,username:a,id:i,player:c,referee:u,commentator:p,streamer:d,qualifier:null==c?void 0:c.qualifier})}})();class ke extends Z{constructor(e){super(),X(this,e,be,we,l,{})}}function xe(e){let t,n,r,s,l,a,d,m;const h=e[3].default,g=function(e,t,n,r){if(e){const s=i(e,t,n,r);return e[0](s)}}(h,e,e[2],null);return{c(){t=f("span"),n=f("a"),r=f("div"),g&&g.c(),v(r,"class","text svelte-hih935"),v(n,"href",s=e[0]||"javascript:void(0)"),v(n,"target",e[1]),v(n,"rel",l="_blank"===e[1]?"noopener":void 0),v(n,"class","link svelte-hih935"),v(t,"class","button")},m(s,l){u(s,t,l),c(t,n),c(n,r),g&&g.m(r,null),a=!0,d||(m=$(n,"click",e[4]),d=!0)},p(e,[t]){g&&g.p&&4&t&&o(g,h,e,e[2],t,null,null),(!a||1&t&&s!==(s=e[0]||"javascript:void(0)"))&&v(n,"href",s),(!a||2&t)&&v(n,"target",e[1]),(!a||2&t&&l!==(l="_blank"===e[1]?"noopener":void 0))&&v(n,"rel",l)},i(e){a||(E(g,e),a=!0)},o(e){B(g,e),a=!1},d(e){e&&p(t),g&&g.d(e),d=!1,m()}}}function Se(e,t,n){let{$$slots:r={},$$scope:s}=t,{href:l}=t,{target:a=""}=t;return e.$$set=e=>{"href"in e&&n(0,l=e.href),"target"in e&&n(1,a=e.target),"$$scope"in e&&n(2,s=e.$$scope)},[l,a,s,r,function(t){C(e,t)}]}class qe extends Z{constructor(e){super(),X(this,e,Se,xe,l,{href:0,target:1})}}function Ce(e){let t;return{c(){t=m("Forum post")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Te(e){let t;return{c(){t=m("Challonge")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function _e(e){let t;return{c(){t=m("Discord")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Oe(e){let t;return{c(){t=m("Players")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function je(e){let t;return{c(){t=m("Countries")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function ze(e){let t,n,r,s,l,a,i,o,d,m,g,$,y,w,b,k,x;return s=new qe({props:{href:"https://osu.ppy.sh/community/forums/topics/1280306",target:"_blank",$$slots:{default:[Ce]},$$scope:{ctx:e}}}),i=new qe({props:{href:"https://challonge.com/osumbs3",target:"_blank",$$slots:{default:[Te]},$$scope:{ctx:e}}}),m=new qe({props:{href:"https://discord.gg/uNSqksR",target:"_blank",$$slots:{default:[_e]},$$scope:{ctx:e}}}),y=new qe({props:{href:"#/players",$$slots:{default:[Oe]},$$scope:{ctx:e}}}),k=new qe({props:{href:"#/countries",$$slots:{default:[je]},$$scope:{ctx:e}}}),{c(){t=f("nav"),n=f("ul"),r=f("li"),F(s.$$.fragment),l=h(),a=f("li"),F(i.$$.fragment),o=h(),d=f("li"),F(m.$$.fragment),g=h(),$=f("li"),F(y.$$.fragment),w=h(),b=f("li"),F(k.$$.fragment),v(r,"class","svelte-rtylg"),v(a,"class","svelte-rtylg"),v(d,"class","svelte-rtylg"),v($,"class","svelte-rtylg"),v(b,"class","svelte-rtylg"),v(n,"class","svelte-rtylg")},m(e,p){u(e,t,p),c(t,n),c(n,r),Q(s,r,null),c(n,l),c(n,a),Q(i,a,null),c(n,o),c(n,d),Q(m,d,null),c(n,g),c(n,$),Q(y,$,null),c(n,w),c(n,b),Q(k,b,null),x=!0},p(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const r={};1&t&&(r.$$scope={dirty:t,ctx:e}),i.$set(r);const l={};1&t&&(l.$$scope={dirty:t,ctx:e}),m.$set(l);const a={};1&t&&(a.$$scope={dirty:t,ctx:e}),y.$set(a);const o={};1&t&&(o.$$scope={dirty:t,ctx:e}),k.$set(o)},i(e){x||(E(s.$$.fragment,e),E(i.$$.fragment,e),E(m.$$.fragment,e),E(y.$$.fragment,e),E(k.$$.fragment,e),x=!0)},o(e){B(s.$$.fragment,e),B(i.$$.fragment,e),B(m.$$.fragment,e),B(y.$$.fragment,e),B(k.$$.fragment,e),x=!1},d(e){e&&p(t),K(s),K(i),K(m),K(y),K(k)}}}class Me extends Z{constructor(e){super(),X(this,e,null,ze,l,{})}}function Ne(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function Pe(e){let t;return{c(){t=m("Loading...")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Le(e){let t,n=e[3].name+"";return{c(){t=m(n)},m(e,n){u(e,t,n)},p(e,r){1&r&&n!==(n=e[3].name+"")&&w(t,n)},d(e){e&&p(t)}}}function Ae(e){let t,n,r,s=e[3].name+"";return{c(){t=f("a"),n=m(s),v(t,"href",r=e[3].link)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[3].name+"")&&w(n,s),1&l&&r!==(r=e[3].link)&&v(t,"href",r)},d(e){e&&p(t)}}}function Ge(e,t){let n,r,s,l,a,i,o,d,g,$=t[2](t[3].date_start)+"",y=t[2](t[3].date_end)+"";function b(e,t){return e[3].link?Ae:Le}let x=b(t),S=x(t);return{key:e,first:null,c(){n=f("div"),r=f("div"),S.c(),s=h(),l=f("div"),a=m($),i=h(),o=f("div"),d=m(y),g=h(),v(r,"class","stage-name svelte-1xzsd"),v(l,"class","stage-date svelte-1xzsd"),v(o,"class","stage-date svelte-1xzsd"),v(n,"class","stage svelte-1xzsd"),k(n,"active",!t[5]||t[0][t[5]-1].date_end<t[1]),this.first=n},m(e,t){u(e,n,t),c(n,r),S.m(r,null),c(n,s),c(n,l),c(l,a),c(n,i),c(n,o),c(o,d),c(n,g)},p(e,s){x===(x=b(t=e))&&S?S.p(t,s):(S.d(1),S=x(t),S&&(S.c(),S.m(r,null))),1&s&&$!==($=t[2](t[3].date_start)+"")&&w(a,$),1&s&&y!==(y=t[2](t[3].date_end)+"")&&w(d,y),3&s&&k(n,"active",!t[5]||t[0][t[5]-1].date_end<t[1])},d(e){e&&p(n),S.d()}}}function He(t){let n,r=[],s=new Map,l=t[0];const a=e=>e[3].slug;for(let e=0;e<l.length;e+=1){let n=Ne(t,l,e),i=a(n);s.set(i,r[e]=Ge(i,n))}let i=null;return l.length||(i=Pe()),{c(){n=f("div");for(let e=0;e<r.length;e+=1)r[e].c();i&&i.c(),v(n,"class","schedule svelte-1xzsd")},m(e,t){u(e,n,t);for(let e=0;e<r.length;e+=1)r[e].m(n,null);i&&i.m(n,null)},p(e,[t]){7&t&&(l=e[0],r=Y(r,t,a,1,e,l,s,n,W,Ge,null,Ne),l.length?i&&(i.d(1),i=null):i||(i=Pe(),i.c(),i.m(n,null)))},i:e,o:e,d(e){e&&p(n);for(let e=0;e<r.length;e+=1)r[e].d();i&&i.d()}}}function Re(e,t,n){let{stages:r=[]}=t;const s=(new Date).toISOString();return e.$$set=e=>{"stages"in e&&n(0,r=e.stages)},[r,s,e=>new Date(e).toUTCString().replace(" 00:00:00 GMT","")]}class De extends Z{constructor(e){super(),X(this,e,Re,He,l,{stages:0})}}function Ue(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function Ee(e,t,n){const r=e.slice();return r[6]=t[n],r[5]=n,r}function Be(e,t,n){const r=e.slice();return r[8]=t[n],r[5]=n,r}function Je(e){let t;return{c(){t=m("Hosts")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function We(e){let t;return{c(){t=m("Graphic Designer")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ie(e){let t;return{c(){t=m("Mappool selectors")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ye(e){let t;return{c(){t=m("Donators")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Fe(e){let t;return{c(){t=m("Referees")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Qe(e){let t,n,r,s,l=e[8].username+"";return{c(){t=f("a"),n=m(l),s=h(),v(t,"href",r=`https://osu.ppy.sh/users/${e[8].id}`),v(t,"target","_blank"),v(t,"rel","noopener"),v(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){1&s&&l!==(l=e[8].username+"")&&w(n,l),1&s&&r!==(r=`https://osu.ppy.sh/users/${e[8].id}`)&&v(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function Ke(e){let t;return{c(){t=m("Streamers")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ve(e){let t,n,r,s,l=e[6].username+"";return{c(){t=f("a"),n=m(l),s=h(),v(t,"href",r=`https://osu.ppy.sh/users/${e[6].id}`),v(t,"target","_blank"),v(t,"rel","noopener"),v(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){2&s&&l!==(l=e[6].username+"")&&w(n,l),2&s&&r!==(r=`https://osu.ppy.sh/users/${e[6].id}`)&&v(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function Xe(e){let t;return{c(){t=m("Commentators")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ze(e){let t,n,r,s,l=e[3].username+"";return{c(){t=f("a"),n=m(l),s=h(),v(t,"href",r=`https://osu.ppy.sh/users/${e[3].id}`),v(t,"target","_blank"),v(t,"rel","noopener"),v(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){4&s&&l!==(l=e[3].username+"")&&w(n,l),4&s&&r!==(r=`https://osu.ppy.sh/users/${e[3].id}`)&&v(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function et(e){let t,n,r,s,l,a,i,o,m,g,$,y,w,b,k,x,S,q,C,T,_,O,j,z,M,N,P,L,A,G,H,R,D,U,J;n=new qe({props:{$$slots:{default:[Je]},$$scope:{ctx:e}}}),i=new qe({props:{$$slots:{default:[We]},$$scope:{ctx:e}}}),y=new qe({props:{$$slots:{default:[Ie]},$$scope:{ctx:e}}}),S=new qe({props:{$$slots:{default:[Ye]},$$scope:{ctx:e}}}),O=new qe({props:{$$slots:{default:[Fe]},$$scope:{ctx:e}}});let W=e[0],I=[];for(let t=0;t<W.length;t+=1)I[t]=Qe(Be(e,W,t));P=new qe({props:{$$slots:{default:[Ke]},$$scope:{ctx:e}}});let Y=e[1],V=[];for(let t=0;t<Y.length;t+=1)V[t]=Ve(Ee(e,Y,t));R=new qe({props:{$$slots:{default:[Xe]},$$scope:{ctx:e}}});let X=e[2],Z=[];for(let t=0;t<X.length;t+=1)Z[t]=Ze(Ue(e,X,t));return{c(){t=f("div"),F(n.$$.fragment),r=h(),s=f("div"),s.innerHTML='<a href="https://osu.ppy.sh/users/1375479" target="_blank" rel="noopener" class="svelte-1psdwt3">Paturages</a>  \n    <a href="https://osu.ppy.sh/users/10047413" target="_blank" rel="noopener" class="svelte-1psdwt3">Davvy</a>',l=h(),a=f("div"),F(i.$$.fragment),o=h(),m=f("div"),m.innerHTML='<a href="https://osu.ppy.sh/users/9148286" target="_blank" rel="noopener" class="svelte-1psdwt3">E-M-i</a>',g=h(),$=f("div"),F(y.$$.fragment),w=h(),b=f("div"),b.innerHTML='<a href="https://osu.ppy.sh/users/1375479" target="_blank" rel="noopener" class="svelte-1psdwt3">Paturages</a>  \n    <a href="https://osu.ppy.sh/users/10047413" target="_blank" rel="noopener" class="svelte-1psdwt3">Davvy</a>  \n    <a href="https://osu.ppy.sh/users/11253722" target="_blank" rel="noopener" class="svelte-1psdwt3">DannyPX</a>  \n    <a href="https://osu.ppy.sh/users/11626065" target="_blank" rel="noopener" class="svelte-1psdwt3">guden</a>  \n    <a href="https://osu.ppy.sh/users/2124783" target="_blank" rel="noopener" class="svelte-1psdwt3">Kamikaze</a>  \n    <a href="https://osu.ppy.sh/users/8976576" target="_blank" rel="noopener" class="svelte-1psdwt3">-mint-</a>  \n    <a href="https://osu.ppy.sh/users/8642224" target="_blank" rel="noopener" class="svelte-1psdwt3">Konohana Lucia</a>',k=h(),x=f("div"),F(S.$$.fragment),q=h(),C=f("div"),C.innerHTML='<a href="https://osu.ppy.sh/users/8642224" target="_blank" rel="noopener" class="svelte-1psdwt3">Konohana Lucia</a>  \n    <a href="https://osu.ppy.sh/users/8184715" target="_blank" rel="noopener" class="svelte-1psdwt3">Syako</a>',T=h(),_=f("div"),F(O.$$.fragment),j=h(),z=f("div");for(let e=0;e<I.length;e+=1)I[e].c();M=h(),N=f("div"),F(P.$$.fragment),L=h(),A=f("div");for(let e=0;e<V.length;e+=1)V[e].c();G=h(),H=f("div"),F(R.$$.fragment),D=h(),U=f("div");for(let e=0;e<Z.length;e+=1)Z[e].c();v(s,"class","container svelte-1psdwt3"),v(t,"class","section svelte-1psdwt3"),v(m,"class","container svelte-1psdwt3"),v(a,"class","section svelte-1psdwt3"),v(b,"class","container svelte-1psdwt3"),v($,"class","section svelte-1psdwt3"),v(C,"class","container svelte-1psdwt3"),v(x,"class","section svelte-1psdwt3"),v(z,"class","container svelte-1psdwt3"),v(_,"class","section svelte-1psdwt3"),v(A,"class","container svelte-1psdwt3"),v(N,"class","section svelte-1psdwt3"),v(U,"class","container svelte-1psdwt3"),v(H,"class","section svelte-1psdwt3")},m(e,p){u(e,t,p),Q(n,t,null),c(t,r),c(t,s),u(e,l,p),u(e,a,p),Q(i,a,null),c(a,o),c(a,m),u(e,g,p),u(e,$,p),Q(y,$,null),c($,w),c($,b),u(e,k,p),u(e,x,p),Q(S,x,null),c(x,q),c(x,C),u(e,T,p),u(e,_,p),Q(O,_,null),c(_,j),c(_,z);for(let e=0;e<I.length;e+=1)I[e].m(z,null);u(e,M,p),u(e,N,p),Q(P,N,null),c(N,L),c(N,A);for(let e=0;e<V.length;e+=1)V[e].m(A,null);u(e,G,p),u(e,H,p),Q(R,H,null),c(H,D),c(H,U);for(let e=0;e<Z.length;e+=1)Z[e].m(U,null);J=!0},p(e,[t]){const r={};1024&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};1024&t&&(s.$$scope={dirty:t,ctx:e}),i.$set(s);const l={};1024&t&&(l.$$scope={dirty:t,ctx:e}),y.$set(l);const a={};1024&t&&(a.$$scope={dirty:t,ctx:e}),S.$set(a);const o={};if(1024&t&&(o.$$scope={dirty:t,ctx:e}),O.$set(o),1&t){let n;for(W=e[0],n=0;n<W.length;n+=1){const r=Be(e,W,n);I[n]?I[n].p(r,t):(I[n]=Qe(r),I[n].c(),I[n].m(z,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=W.length}const c={};if(1024&t&&(c.$$scope={dirty:t,ctx:e}),P.$set(c),2&t){let n;for(Y=e[1],n=0;n<Y.length;n+=1){const r=Ee(e,Y,n);V[n]?V[n].p(r,t):(V[n]=Ve(r),V[n].c(),V[n].m(A,null))}for(;n<V.length;n+=1)V[n].d(1);V.length=Y.length}const u={};if(1024&t&&(u.$$scope={dirty:t,ctx:e}),R.$set(u),4&t){let n;for(X=e[2],n=0;n<X.length;n+=1){const r=Ue(e,X,n);Z[n]?Z[n].p(r,t):(Z[n]=Ze(r),Z[n].c(),Z[n].m(U,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=X.length}},i(e){J||(E(n.$$.fragment,e),E(i.$$.fragment,e),E(y.$$.fragment,e),E(S.$$.fragment,e),E(O.$$.fragment,e),E(P.$$.fragment,e),E(R.$$.fragment,e),J=!0)},o(e){B(n.$$.fragment,e),B(i.$$.fragment,e),B(y.$$.fragment,e),B(S.$$.fragment,e),B(O.$$.fragment,e),B(P.$$.fragment,e),B(R.$$.fragment,e),J=!1},d(e){e&&p(t),K(n),e&&p(l),e&&p(a),K(i),e&&p(g),e&&p($),K(y),e&&p(k),e&&p(x),K(S),e&&p(T),e&&p(_),K(O),d(I,e),e&&p(M),e&&p(N),K(P),d(V,e),e&&p(G),e&&p(H),K(R),d(Z,e)}}}function tt(e,t,n){let r,s,l;return a(e,le,(e=>n(0,r=e))),a(e,ie,(e=>n(1,s=e))),a(e,ae,(e=>n(2,l=e))),[r,s,l]}class nt extends Z{constructor(e){super(),X(this,e,tt,et,l,{})}}function rt(t){let n,r,s,l,a,i,o,d,g,$,y,b,k,x,S,q,C,T,_,O=t[0].username+"",j=t[0].country+"",z=t[0].ranking+"",M=Number(t[0].pp).toFixed(2)+"";return{c(){n=f("a"),r=f("div"),s=f("img"),a=h(),i=f("div"),o=m(O),d=h(),g=f("div"),$=m(j),y=h(),b=f("div"),k=m(z),x=h(),S=f("div"),q=m("("),C=m(M),T=m(" pp)"),v(s,"class","avatar svelte-18mwkz8"),s.src!==(l=t[0].avatar)&&v(s,"src",l),v(s,"alt",""),v(r,"class","avatar svelte-18mwkz8"),v(g,"class","country svelte-18mwkz8"),v(i,"class","name svelte-18mwkz8"),v(S,"class","pp svelte-18mwkz8"),v(b,"class","ranking svelte-18mwkz8"),v(n,"class","player svelte-18mwkz8"),v(n,"href",_=`https://osu.ppy.sh/users/${t[0].id}`),v(n,"target","_blank"),v(n,"rel","noopener")},m(e,t){u(e,n,t),c(n,r),c(r,s),c(n,a),c(n,i),c(i,o),c(i,d),c(i,g),c(g,$),c(n,y),c(n,b),c(b,k),c(b,x),c(b,S),c(S,q),c(S,C),c(S,T)},p(e,[t]){1&t&&s.src!==(l=e[0].avatar)&&v(s,"src",l),1&t&&O!==(O=e[0].username+"")&&w(o,O),1&t&&j!==(j=e[0].country+"")&&w($,j),1&t&&z!==(z=e[0].ranking+"")&&w(k,z),1&t&&M!==(M=Number(e[0].pp).toFixed(2)+"")&&w(C,M),1&t&&_!==(_=`https://osu.ppy.sh/users/${e[0].id}`)&&v(n,"href",_)},i:e,o:e,d(e){e&&p(n)}}}function st(e,t,n){let{player:r}=t;return e.$$set=e=>{"player"in e&&n(0,r=e.player)},[r]}class lt extends Z{constructor(e){super(),X(this,e,st,rt,l,{player:0})}}function at(e,t,n){const r=e.slice();return r[4]=t[n],r}function it(e){let t,n,r;return n=new qe({props:{href:"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw",$$slots:{default:[ot]},$$scope:{ctx:e}}}),{c(){t=f("p"),F(n.$$.fragment),v(t,"class","register svelte-g74cd1")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},i(e){r||(E(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function ot(e){let t;return{c(){t=m("Register")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function ct(e){let t,n,r,s,l,a,i=e[1].length+"",o=[],d=new Map,$=e[1];const y=e=>e[4].id;for(let t=0;t<$.length;t+=1){let n=at(e,$,t),r=y(n);d.set(r,o[t]=dt(r,n))}let b=null;return $.length||(b=pt()),{c(){t=f("div"),n=m("Total players: "),r=m(i),s=h();for(let e=0;e<o.length;e+=1)o[e].c();l=g(),b&&b.c(),v(t,"class","stats")},m(e,i){u(e,t,i),c(t,n),c(t,r),u(e,s,i);for(let t=0;t<o.length;t+=1)o[t].m(e,i);u(e,l,i),b&&b.m(e,i),a=!0},p(e,t){(!a||2&t)&&i!==(i=e[1].length+"")&&w(r,i),2&t&&($=e[1],D(),o=Y(o,t,y,1,e,$,d,l.parentNode,I,dt,l,at),U(),$.length?b&&(b.d(1),b=null):b||(b=pt(),b.c(),b.m(l.parentNode,l)))},i(e){if(!a){for(let e=0;e<$.length;e+=1)E(o[e]);a=!0}},o(e){for(let e=0;e<o.length;e+=1)B(o[e]);a=!1},d(e){e&&p(t),e&&p(s);for(let t=0;t<o.length;t+=1)o[t].d(e);e&&p(l),b&&b.d(e)}}}function ut(t){let n;return{c(){n=m("Loading players...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function pt(e){let t;return{c(){t=m("No players registered yet!")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function dt(e,t){let n,r,s;return r=new lt({props:{player:t[4]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.player=t[4]),r.$set(s)},i(e){s||(E(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function ft(e){let t,n,r,s,l,a=!e[0]&&it(e);const i=[ut,ct],o=[];function c(e,t){return e[1]?1:0}return r=c(e),s=o[r]=i[r](e),{c(){a&&a.c(),t=h(),n=f("p"),s.c(),v(n,"class","players svelte-g74cd1")},m(e,s){a&&a.m(e,s),u(e,t,s),u(e,n,s),o[r].m(n,null),l=!0},p(e,[l]){e[0]?a&&(D(),B(a,1,1,(()=>{a=null})),U()):a?1&l&&E(a,1):(a=it(e),a.c(),E(a,1),a.m(t.parentNode,t));let u=r;r=c(e),r===u?o[r].p(e,l):(D(),B(o[u],1,1,(()=>{o[u]=null})),U(),s=o[r],s?s.p(e,l):(s=o[r]=i[r](e),s.c()),E(s,1),s.m(n,null))},i(e){l||(E(a),E(s),l=!0)},o(e){B(a),B(s),l=!1},d(e){a&&a.d(e),e&&p(t),e&&p(n),o[r].d()}}}function mt(e,t,n){let r,s;return a(e,re,(e=>n(0,r=e))),a(e,se,(e=>n(1,s=e))),[r,s]}class ht extends Z{constructor(e){super(),X(this,e,mt,ft,l,{})}}function gt(e,t,n){const r=e.slice();return r[5]=t[n].players,r[6]=t[n].country,r}function $t(e,t,n){const r=e.slice();return r[9]=t[n],r}function vt(e){let t;return{c(){t=m("Loading...")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function yt(e){let t,n,r,s=e[5],l=[];for(let t=0;t<s.length;t+=1)l[t]=wt($t(e,s,t));const a=e=>B(l[e],1,1,(()=>{l[e]=null}));return{c(){t=f("div");for(let e=0;e<l.length;e+=1)l[e].c();n=h(),v(t,"class","players svelte-1q27u36")},m(e,s){u(e,t,s);for(let e=0;e<l.length;e+=1)l[e].m(t,null);c(t,n),r=!0},p(e,r){if(2&r){let i;for(s=e[5],i=0;i<s.length;i+=1){const a=$t(e,s,i);l[i]?(l[i].p(a,r),E(l[i],1)):(l[i]=wt(a),l[i].c(),E(l[i],1),l[i].m(t,n))}for(D(),i=s.length;i<l.length;i+=1)a(i);U()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)E(l[e]);r=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)B(l[e]);r=!1},d(e){e&&p(t),d(l,e)}}}function wt(e){let t,n;return t=new lt({props:{player:e[9]}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.player=e[9]),t.$set(r)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function bt(e,t){let n,r,s,l,a,i,o,d,y,b,k,x,S,q,C,T=t[6]+"",_=t[5].length+"",O=1==t[5].length?"":"s",j=t[0]==t[6]?"▼":"►";function z(){return t[4](t[6])}let M=t[0]==t[6]&&yt(t);return{key:e,first:null,c(){n=f("div"),r=f("div"),s=m(T),l=m(": "),a=m(_),i=m(" player"),o=m(O),d=h(),y=f("div"),b=m(j),k=h(),M&&M.c(),x=g(),v(r,"class","label svelte-1q27u36"),v(y,"class","pointer"),v(n,"class","country svelte-1q27u36"),this.first=n},m(e,t){u(e,n,t),c(n,r),c(r,s),c(r,l),c(r,a),c(r,i),c(r,o),c(n,d),c(n,y),c(y,b),u(e,k,t),M&&M.m(e,t),u(e,x,t),S=!0,q||(C=$(n,"click",z),q=!0)},p(e,n){t=e,(!S||2&n)&&T!==(T=t[6]+"")&&w(s,T),(!S||2&n)&&_!==(_=t[5].length+"")&&w(a,_),(!S||2&n)&&O!==(O=1==t[5].length?"":"s")&&w(o,O),(!S||3&n)&&j!==(j=t[0]==t[6]?"▼":"►")&&w(b,j),t[0]==t[6]?M?(M.p(t,n),3&n&&E(M,1)):(M=yt(t),M.c(),E(M,1),M.m(x.parentNode,x)):M&&(D(),B(M,1,1,(()=>{M=null})),U())},i(e){S||(E(M),S=!0)},o(e){B(M),S=!1},d(e){e&&p(n),e&&p(k),M&&M.d(e),e&&p(x),q=!1,C()}}}function kt(e){let t,n,r=[],s=new Map,l=e[1];const a=e=>e[6];for(let t=0;t<l.length;t+=1){let n=gt(e,l,t),i=a(n);s.set(i,r[t]=bt(i,n))}let i=null;return l.length||(i=vt()),{c(){t=f("div");for(let e=0;e<r.length;e+=1)r[e].c();i&&i.c(),v(t,"class","countries svelte-1q27u36")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);i&&i.m(t,null),n=!0},p(e,[n]){7&n&&(l=e[1],D(),r=Y(r,n,a,1,e,l,s,t,I,bt,null,gt),U(),l.length?i&&(i.d(1),i=null):i||(i=vt(),i.c(),i.m(t,null)))},i(e){if(!n){for(let e=0;e<l.length;e+=1)E(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d();i&&i.d()}}}function xt(e,t,n){let r,s,l;a(e,se,(e=>n(3,s=e)));const i=e=>n(0,l=l==e?null:e);return e.$$.update=()=>{8&e.$$.dirty&&n(1,r=Object.values((null==s?void 0:s.reduce(((e,t)=>(e[t.country]||(e[t.country]={country:t.country,players:[]}),e[t.country].players.push(t),e)),{}))||{}).sort(((e,t)=>e.players.length<t.players.length?1:-1)))},[l,r,i,s,e=>i(e)]}class St extends Z{constructor(e){super(),X(this,e,xt,kt,l,{})}}function qt(e,t,n){const r=e.slice();return r[11]=t[n],r}function Ct(e){let t,n,r,s,l=e[0].name+"",a=e[2]&&_t(e);return{c(){t=m(l),n=h(),a&&a.c(),r=g()},m(e,l){u(e,t,l),u(e,n,l),a&&a.m(e,l),u(e,r,l),s=!0},p(e,n){(!s||1&n)&&l!==(l=e[0].name+"")&&w(t,l),e[2]?a?(a.p(e,n),4&n&&E(a,1)):(a=_t(e),a.c(),E(a,1),a.m(r.parentNode,r)):a&&(D(),B(a,1,1,(()=>{a=null})),U())},i(e){s||(E(a),s=!0)},o(e){B(a),s=!1},d(e){e&&p(t),e&&p(n),a&&a.d(e),e&&p(r)}}}function Tt(t){let n,r,s,l=t[0].name+"";return{c(){n=f("a"),r=m(l),v(n,"href",s=t[0].link),v(n,"target","_blank"),v(n,"rel","noopener")},m(e,t){u(e,n,t),c(n,r)},p(e,t){1&t&&l!==(l=e[0].name+"")&&w(r,l),1&t&&s!==(s=e[0].link)&&v(n,"href",s)},i:e,o:e,d(e){e&&p(n)}}}function _t(e){let t,n,r,s;const l=[jt,Ot],a=[];function i(e,t){return e[4]?0:1}return t=i(e),n=a[t]=l[t](e),{c(){n.c(),r=g()},m(e,n){a[t].m(e,n),u(e,r,n),s=!0},p(e,s){let o=t;t=i(e),t===o?a[t].p(e,s):(D(),B(a[o],1,1,(()=>{a[o]=null})),U(),n=a[t],n?n.p(e,s):(n=a[t]=l[t](e),n.c()),E(n,1),n.m(r.parentNode,r))},i(e){s||(E(n),s=!0)},o(e){B(n),s=!1},d(e){a[t].d(e),e&&p(r)}}}function Ot(e){let t,n;return t=new qe({props:{$$slots:{default:[zt]},$$scope:{ctx:e}}}),t.$on("click",e[8]),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};16384&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function jt(t){let n;return{c(){n=m("...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function zt(e){let t;return{c(){t=m("Sign up")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Mt(t){let n;return{c(){n=m("To be defined")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Nt(e){let t,n,r,s=e[0].referee.username+"";return{c(){t=f("a"),n=m(s),v(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].referee.username+"")&&w(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&v(t,"href",r)},d(e){e&&p(t)}}}function Pt(e){let t,n,r,s,l,a,i,o=(e[0].available_referees.map(Et).join(", ")||"None")+"";function c(e,t){return e[3]?Gt:e[6]?At:Lt}let d=c(e),$=d(e);return{c(){t=f("br"),n=h(),r=f("b"),r.textContent="Available referees",s=m(":\r\n        "),l=m(o),a=m(" -\r\n        "),$.c(),i=g()},m(e,o){u(e,t,o),u(e,n,o),u(e,r,o),u(e,s,o),u(e,l,o),u(e,a,o),$.m(e,o),u(e,i,o)},p(e,t){1&t&&o!==(o=(e[0].available_referees.map(Et).join(", ")||"None")+"")&&w(l,o),d===(d=c(e))&&$?$.p(e,t):($.d(1),$=d(e),$&&($.c(),$.m(i.parentNode,i)))},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s),e&&p(l),e&&p(a),$.d(e),e&&p(i)}}}function Lt(t){let n,r,s;return{c(){n=f("a"),n.textContent="Add yourself as available",v(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=$(n,"click",t[7]),r=!0)},p:e,d(e){e&&p(n),r=!1,s()}}}function At(t){let n,r,s;return{c(){n=f("a"),n.textContent="Remove yourself",v(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=$(n,"click",t[7]),r=!0)},p:e,d(e){e&&p(n),r=!1,s()}}}function Gt(t){let n;return{c(){n=m("Processing...")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Ht(t){let n;return{c(){n=f("a"),n.textContent="Free spot!",v(n,"class","free-spot svelte-mwswut")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Rt(e){let t,n,r,s=e[0].players[e[11]].username+"";return{c(){t=f("a"),n=m(s),v(t,"href",r=`https://osu.ppy.sh/users/${e[0].players[e[11]].id}`),v(t,"class","svelte-mwswut")},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].players[e[11]].username+"")&&w(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].players[e[11]].id}`)&&v(t,"href",r)},d(e){e&&p(t)}}}function Dt(e){let t;function n(e,t){return e[0].players[e[11]]?Rt:e[0].link?void 0:Ht}let r=n(e),s=r&&r(e);return{c(){s&&s.c(),t=g()},m(e,n){s&&s.m(e,n),u(e,t,n)},p(e,l){r===(r=n(e))&&s?s.p(e,l):(s&&s.d(1),s=r&&r(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s&&s.d(e),e&&p(t)}}}function Ut(e){let t,n,r,s,l,a,i,o,g,$,y,b,k,x,S,q,C,T,_,O,j,z=e[5].toUTCString().replace(":00 GMT"," UTC+0")+"",M=e[5].toTimeString().replace(":00 GMT"," UTC")+"";const N=[Tt,Ct],P=[];function L(e,t){return e[0].link?0:1}function A(e,t){return e[0].referee?Nt:Mt}r=L(e),s=P[r]=N[r](e);let G=A(e),H=G(e),R=e[1]&&Pt(e),J=[0,1,2,3,4,5,6,7],W=[];for(let t=0;t<8;t+=1)W[t]=Dt(qt(e,J,t));return{c(){t=f("div"),n=f("div"),s.c(),l=h(),a=f("div"),i=f("div"),o=m(z),g=h(),$=f("div"),y=m("Your local time: "),b=f("b"),k=m(M),x=h(),S=f("div"),q=f("b"),q.textContent="Referee",C=m(":\r\n      "),H.c(),T=h(),R&&R.c(),_=h(),O=f("div");for(let e=0;e<8;e+=1)W[e].c();v(n,"class","name svelte-mwswut"),v(i,"class","utc svelte-mwswut"),v($,"class","time svelte-mwswut"),v(S,"class","referee svelte-mwswut"),v(O,"class","players svelte-mwswut"),v(a,"class","body"),v(t,"class","lobby svelte-mwswut")},m(e,s){u(e,t,s),c(t,n),P[r].m(n,null),c(t,l),c(t,a),c(a,i),c(i,o),c(a,g),c(a,$),c($,y),c($,b),c(b,k),c(a,x),c(a,S),c(S,q),c(S,C),H.m(S,null),c(S,T),R&&R.m(S,null),c(a,_),c(a,O);for(let e=0;e<8;e+=1)W[e].m(O,null);j=!0},p(e,[t]){let l=r;if(r=L(e),r===l?P[r].p(e,t):(D(),B(P[l],1,1,(()=>{P[l]=null})),U(),s=P[r],s?s.p(e,t):(s=P[r]=N[r](e),s.c()),E(s,1),s.m(n,null)),(!j||32&t)&&z!==(z=e[5].toUTCString().replace(":00 GMT"," UTC+0")+"")&&w(o,z),(!j||32&t)&&M!==(M=e[5].toTimeString().replace(":00 GMT"," UTC")+"")&&w(k,M),G===(G=A(e))&&H?H.p(e,t):(H.d(1),H=G(e),H&&(H.c(),H.m(S,T))),e[1]?R?R.p(e,t):(R=Pt(e),R.c(),R.m(S,null)):R&&(R.d(1),R=null),1&t){let n;for(J=[0,1,2,3,4,5,6,7],n=0;n<8;n+=1){const r=qt(e,J,n);W[n]?W[n].p(r,t):(W[n]=Dt(r),W[n].c(),W[n].m(O,null))}for(;n<8;n+=1)W[n].d(1)}},i(e){j||(E(s),j=!0)},o(e){B(s),j=!1},d(e){e&&p(t),P[r].d(),H.d(),R&&R.d(),d(W,e)}}}const Et=({referee:e})=>e.username;function Bt(e,t,n){let r,s,l;a(e,re,(e=>n(9,l=e)));var i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{o(r.next(e))}catch(e){l(e)}}function i(e){try{o(r.throw(e))}catch(e){l(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}o((r=r.apply(e,t||[])).next())}))};let o,{lobby:c}=t,{toggleAvailable:u}=t,{setSchedule:p}=t;let d;return e.$$set=e=>{"lobby"in e&&n(0,c=e.lobby),"toggleAvailable"in e&&n(1,u=e.toggleAvailable),"setSchedule"in e&&n(2,p=e.setSchedule)},e.$$.update=()=>{1&e.$$.dirty&&n(5,r=new Date(c.time)),515&e.$$.dirty&&n(6,s=u&&c.available_referees.find((({referee:e})=>e.id==l.id)))},[c,u,p,o,d,r,s,()=>i(void 0,void 0,void 0,(function*(){n(3,o=!0),yield u(),n(3,o=!1)})),()=>i(void 0,void 0,void 0,(function*(){n(4,d=!0),yield p(),n(4,d=!1)})),l]}class Jt extends Z{constructor(e){super(),X(this,e,Bt,Ut,l,{lobby:0,toggleAvailable:1,setSchedule:2})}}function Wt(t){let n,r,s,l,a,i,o,d,g,y,b,x,S,q,C,T,_,O,j,z,M,N,P,L,A,G,H,R,D,U,E,B,J,W,I,Y,F,Q,K,V,X,Z,ee,te,ne,re,se,le,ae,ie=t[0].artist+"",oe=t[0].name+"",ce=t[0].difficulty+"",ue=t[0].category+"",pe=t[0].charter+"",de=t[0].sr+"",fe=t[0].length+"",me=t[0].bpm+"",he=t[0].od+"",ge=t[0].hp+"",$e=t[0].weight+"";return{c(){n=f("div"),r=f("div"),s=f("div"),l=f("a"),a=m(ie),i=m(" - "),o=m(oe),d=f("br"),g=m(ce),b=h(),x=f("div"),S=m(ue),q=h(),C=f("div"),T=f("div"),_=m("Mapset by "),O=f("a"),j=m(pe),M=h(),N=f("div"),P=f("span"),L=m("⭐ "),A=m(de),G=h(),H=f("span"),R=m("⏰ "),D=m(fe),U=h(),E=f("span"),B=m("🎵 "),J=m(me),W=m(" BPM"),I=h(),Y=f("span"),F=m("🎯 OD "),Q=m(he),K=h(),V=f("span"),X=m("❤️ HP "),Z=m(ge),ee=h(),te=f("span"),ne=m("⚖️ Weight "),re=m($e),v(l,"class","name svelte-ttf8w6"),v(l,"href",y=`https://osu.ppy.sh/beatmaps/${t[0].id}`),v(l,"target","_blank"),v(l,"rel","noopener"),v(x,"class","category svelte-ttf8w6"),v(s,"class","header svelte-ttf8w6"),v(O,"href",z=`https://osu.ppy.sh/users/${t[0].charter_id}`),v(O,"class","svelte-ttf8w6"),v(T,"class","mapper"),v(P,"class","stat-item svelte-ttf8w6"),v(H,"class","stat-item svelte-ttf8w6"),v(E,"class","stat-item svelte-ttf8w6"),v(Y,"class","stat-item svelte-ttf8w6"),v(V,"class","stat-item svelte-ttf8w6"),v(te,"class","stat-item svelte-ttf8w6"),v(N,"class","stats svelte-ttf8w6"),v(C,"class","body svelte-ttf8w6"),v(r,"class","container svelte-ttf8w6"),v(n,"class","map svelte-ttf8w6"),v(n,"style",se=`background-image:url(${t[0].cover})`),k(n,"rice",t[0].category.toLowerCase().match(/rice|tech/)),k(n,"ln",t[0].category.toLowerCase().includes("ln")),k(n,"hybrid",t[0].category.toLowerCase().includes("hybrid")),k(n,"tiebreaker",t[0].category.toLowerCase().includes("tiebreaker"))},m(e,p){u(e,n,p),c(n,r),c(r,s),c(s,l),c(l,a),c(l,i),c(l,o),c(l,d),c(l,g),c(s,b),c(s,x),c(x,S),c(r,q),c(r,C),c(C,T),c(T,_),c(T,O),c(O,j),c(C,M),c(C,N),c(N,P),c(P,L),c(P,A),c(N,G),c(N,H),c(H,R),c(H,D),c(N,U),c(N,E),c(E,B),c(E,J),c(E,W),c(N,I),c(N,Y),c(Y,F),c(Y,Q),c(N,K),c(N,V),c(V,X),c(V,Z),c(N,ee),c(N,te),c(te,ne),c(te,re),le||(ae=$(n,"click",t[1]),le=!0)},p(e,[t]){1&t&&ie!==(ie=e[0].artist+"")&&w(a,ie),1&t&&oe!==(oe=e[0].name+"")&&w(o,oe),1&t&&ce!==(ce=e[0].difficulty+"")&&w(g,ce),1&t&&y!==(y=`https://osu.ppy.sh/beatmaps/${e[0].id}`)&&v(l,"href",y),1&t&&ue!==(ue=e[0].category+"")&&w(S,ue),1&t&&pe!==(pe=e[0].charter+"")&&w(j,pe),1&t&&z!==(z=`https://osu.ppy.sh/users/${e[0].charter_id}`)&&v(O,"href",z),1&t&&de!==(de=e[0].sr+"")&&w(A,de),1&t&&fe!==(fe=e[0].length+"")&&w(D,fe),1&t&&me!==(me=e[0].bpm+"")&&w(J,me),1&t&&he!==(he=e[0].od+"")&&w(Q,he),1&t&&ge!==(ge=e[0].hp+"")&&w(Z,ge),1&t&&$e!==($e=e[0].weight+"")&&w(re,$e),1&t&&se!==(se=`background-image:url(${e[0].cover})`)&&v(n,"style",se),1&t&&k(n,"rice",e[0].category.toLowerCase().match(/rice|tech/)),1&t&&k(n,"ln",e[0].category.toLowerCase().includes("ln")),1&t&&k(n,"hybrid",e[0].category.toLowerCase().includes("hybrid")),1&t&&k(n,"tiebreaker",e[0].category.toLowerCase().includes("tiebreaker"))},i:e,o:e,d(e){e&&p(n),le=!1,ae()}}}function It(e,t,n){let{map:r}=t;return e.$$set=e=>{"map"in e&&n(0,r=e.map)},[r,function(t){C(e,t)}]}class Yt extends Z{constructor(e){super(),X(this,e,It,Wt,l,{map:0})}}const Ft=te(null),Qt=te(null),{Map:Kt}=J;function Vt(e,t,n){const r=e.slice();return r[8]=t[n],r}function Xt(e,t,n){const r=e.slice();return r[11]=t[n],r}function Zt(e){let t;function n(e,t){return e[0].qualifier?tn:en}let r=n(e),s=r(e);return{c(){t=f("p"),s.c(),v(t,"class","intro svelte-1pt4gyt")},m(e,n){u(e,t,n),s.m(t,null)},p(e,l){r===(r=n(e))&&s?s.p(e,l):(s.d(1),s=r(e),s&&(s.c(),s.m(t,null)))},d(e){e&&p(t),s.d()}}}function en(e){let t,n,r,s,l,a,i,o,c,d,h,g=e[0].username+"";return{c(){t=m("Welcome, player "),n=m(g),r=m("!"),s=f("br"),l=f("br"),a=m("\r\n    You can feel free to put yourself in any qualifier with a free spot in it."),i=f("br"),o=f("br"),c=m("\r\n    If there is no lobby that suits you, please specify a time in the #reschedules channel in the Discord:"),d=f("br"),h=m("\r\n    we will try to organize a special extra lobby.")},m(e,p){u(e,t,p),u(e,n,p),u(e,r,p),u(e,s,p),u(e,l,p),u(e,a,p),u(e,i,p),u(e,o,p),u(e,c,p),u(e,d,p),u(e,h,p)},p(e,t){1&t&&g!==(g=e[0].username+"")&&w(n,g)},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s),e&&p(l),e&&p(a),e&&p(i),e&&p(o),e&&p(c),e&&p(d),e&&p(h)}}}function tn(e){let t,n,r,s,l,a,i,o,d,h,g,$,v,y,b,k,x,S,q,C,T,_,O,j,z,M,N,P,L,A,G=e[0].qualifier.name+"",H=e[2].toUTCString().replace(":00 GMT"," UTC+0")+"",R=e[2].toTimeString().replace(":00 GMT"," UTC")+"";return{c(){t=m("You are in "),n=f("b"),r=m("Lobby "),s=m(G),l=m(" happening on\r\n    "),a=f("b"),i=m(H),o=f("br"),d=m("\r\n    (converted to your local time: "),h=f("b"),g=m(R),$=m(").\r\n    "),v=f("br"),y=f("br"),b=m("\r\n    The referee will ping you on Discord (make sure you are in our Discord) "),k=f("b"),k.textContent="15 minutes",x=m(" before the time"),S=f("br"),q=m("\r\n    and will invite you in the multiplayer lobby "),C=f("b"),C.textContent="5 minutes",T=m(" before the time. Make sure you are logged in the game by then!\r\n    "),_=f("br"),O=f("br"),j=m("\r\n    Once you are in the game, you will play all maps "),z=f("b"),z.textContent="2 times",M=m(":"),N=f("br"),P=m("\r\n    the best score on each map will count in the final qualifiers leaderboard and determine your seed.\r\n    "),L=f("br"),A=f("br")},m(e,p){u(e,t,p),u(e,n,p),c(n,r),c(n,s),u(e,l,p),u(e,a,p),c(a,i),u(e,o,p),u(e,d,p),u(e,h,p),c(h,g),u(e,$,p),u(e,v,p),u(e,y,p),u(e,b,p),u(e,k,p),u(e,x,p),u(e,S,p),u(e,q,p),u(e,C,p),u(e,T,p),u(e,_,p),u(e,O,p),u(e,j,p),u(e,z,p),u(e,M,p),u(e,N,p),u(e,P,p),u(e,L,p),u(e,A,p)},p(e,t){1&t&&G!==(G=e[0].qualifier.name+"")&&w(s,G),4&t&&H!==(H=e[2].toUTCString().replace(":00 GMT"," UTC+0")+"")&&w(i,H),4&t&&R!==(R=e[2].toTimeString().replace(":00 GMT"," UTC")+"")&&w(g,R)},d(e){e&&p(t),e&&p(n),e&&p(l),e&&p(a),e&&p(o),e&&p(d),e&&p(h),e&&p($),e&&p(v),e&&p(y),e&&p(b),e&&p(k),e&&p(x),e&&p(S),e&&p(q),e&&p(C),e&&p(T),e&&p(_),e&&p(O),e&&p(j),e&&p(z),e&&p(M),e&&p(N),e&&p(P),e&&p(L),e&&p(A)}}}function nn(e){let t,n,r,s,l=[],a=new Kt,i=[],o=new Kt,c=e[3];const d=e=>e[11].id;for(let t=0;t<c.length;t+=1){let n=Xt(e,c,t),r=d(n);a.set(r,l[t]=sn(r,n))}let m=e[1];const g=e=>e[8].name;for(let t=0;t<m.length;t+=1){let n=Vt(e,m,t),r=g(n);o.set(r,i[t]=ln(r,n))}return{c(){t=f("p");for(let e=0;e<l.length;e+=1)l[e].c();n=h(),r=f("p");for(let e=0;e<i.length;e+=1)i[e].c();v(t,"class","maps svelte-1pt4gyt"),v(r,"class","lobbies svelte-1pt4gyt")},m(e,a){u(e,t,a);for(let e=0;e<l.length;e+=1)l[e].m(t,null);u(e,n,a),u(e,r,a);for(let e=0;e<i.length;e+=1)i[e].m(r,null);s=!0},p(e,n){8&n&&(c=e[3],D(),l=Y(l,n,d,1,e,c,a,t,I,sn,null,Xt),U()),51&n&&(m=e[1],D(),i=Y(i,n,g,1,e,m,o,r,I,ln,null,Vt),U())},i(e){if(!s){for(let e=0;e<c.length;e+=1)E(l[e]);for(let e=0;e<m.length;e+=1)E(i[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)B(l[e]);for(let e=0;e<i.length;e+=1)B(i[e]);s=!1},d(e){e&&p(t);for(let e=0;e<l.length;e+=1)l[e].d();e&&p(n),e&&p(r);for(let e=0;e<i.length;e+=1)i[e].d()}}}function rn(t){let n;return{c(){n=f("p"),n.textContent="Loading qualifier lobbies...",v(n,"class","lobbies svelte-1pt4gyt")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function sn(e,t){let n,r,s;return r=new Yt({props:{map:t[11]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.map=t[11]),r.$set(s)},i(e){s||(E(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function ln(e,t){let n,r,s;return r=new Jt({props:{lobby:t[8],toggleAvailable:t[0]?.referee&&t[4](t[8]),setSchedule:t[0]?.player&&!t[0]?.qualifier?.link&&t[5](t[8])}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.lobby=t[8]),3&n&&(s.toggleAvailable=t[0]?.referee&&t[4](t[8])),3&n&&(s.setSchedule=t[0]?.player&&!t[0]?.qualifier?.link&&t[5](t[8])),r.$set(s)},i(e){s||(E(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function an(e){let t,n,r,s,l,a,i,o=e[0]?.player&&Zt(e);const c=[rn,nn],d=[];function m(e,t){return e[1]?1:0}return s=m(e),l=d[s]=c[s](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers">Player ranking</a>',n=h(),o&&o.c(),r=h(),l.c(),a=g(),v(t,"class","links svelte-1pt4gyt")},m(e,l){u(e,t,l),u(e,n,l),o&&o.m(e,l),u(e,r,l),d[s].m(e,l),u(e,a,l),i=!0},p(e,[t]){e[0]?.player?o?o.p(e,t):(o=Zt(e),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null);let n=s;s=m(e),s===n?d[s].p(e,t):(D(),B(d[n],1,1,(()=>{d[n]=null})),U(),l=d[s],l?l.p(e,t):(l=d[s]=c[s](e),l.c()),E(l,1),l.m(a.parentNode,a))},i(e){i||(E(l),i=!0)},o(e){B(l),i=!1},d(e){e&&p(t),e&&p(n),o&&o.d(e),e&&p(r),d[s].d(e),e&&p(a)}}}function on(e,t,n){let r,s,l,i;a(e,Ft,(e=>n(1,s=e))),a(e,re,(e=>n(0,l=e))),a(e,Qt,(e=>n(3,i=e)));var o,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{o(r.next(e))}catch(e){l(e)}}function i(e){try{o(r.throw(e))}catch(e){l(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}o((r=r.apply(e,t||[])).next())}))};s||(async()=>{const{data:e}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "qualifiers"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  qualifier_lobbies(sort: "time") {\n    name\n    link\n    players {\n      id\n      username\n    }\n    time\n    referee {\n      id\n      username\n    }\n    available_referees {\n      rel_id: id\n      referee: referees_id {\n        id\n        username\n      }\n    }\n  }\n}'})});Ft.set(e.qualifier_lobbies),Qt.set(e.maps)})();return e.$$.update=()=>{65&e.$$.dirty&&n(2,r=new Date(null===n(6,o=null==l?void 0:l.qualifier)||void 0===o?void 0:o.time))},[l,s,r,i,e=>()=>c(void 0,void 0,void 0,(function*(){const t=e.available_referees.find((({referee:e})=>e.id==l.id)),n=yield de(`/items/qualifier_lobbies/${e.name}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({available_referees:t?{delete:[t.rel_id]}:{create:[{referees_id:l.id}]}})});n.errors?alert(n.errors[0].message):Ft.set(s.map((r=>(r.name!=e.name||(t?r.available_referees=r.available_referees.filter((({referee:e})=>e.id!=l.id)):r.available_referees.push({rel_id:n.data.available_referees.pop(),referee:l.referee})),r))))})),e=>()=>c(void 0,void 0,void 0,(function*(){const t=yield de("/custom/qualifiers/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qualifier:e.name})});t.errors&&alert(t.errors[0].message),location.reload()})),o]}class cn extends Z{constructor(e){super(),X(this,e,on,an,l,{})}}function un(t){let n,r,s,l,a,i,o,d,g,$,y,b,x,S,q,C,T,_,O,j,z,M,N,P,L,A,G,H,R,D,U,E,B,J,W,I,Y=t[1].position+"",F=t[0].username+"",Q=t[1].score+"",K=t[3].toFixed(2)+"",V=t[1].combo+"",X=t[1].c320+"",Z=t[1].c300+"",ee=t[1].c200+"",te=t[1].c100+"",ne=t[1].c50+"",re=t[1].c0+"";return{c(){n=f("div"),r=f("div"),s=m(Y),l=m("."),a=h(),i=f("div"),o=f("a"),d=m(F),$=h(),y=f("div"),b=m(Q),x=h(),S=f("div"),q=m(K),C=m("%, x"),T=m(V),_=h(),O=f("div"),j=f("div"),z=m(X),M=h(),N=f("div"),P=m(Z),L=h(),A=f("div"),G=m(ee),H=h(),R=f("div"),D=m(te),U=h(),E=f("div"),B=m(ne),J=h(),W=f("div"),I=m(re),v(r,"class","position svelte-1m6wbdm"),v(o,"href",g=`https://osu.ppy.sh/users/${t[0].id}`),v(o,"target","_blank"),v(o,"rel","noopener"),v(i,"class","player svelte-1m6wbdm"),v(S,"class","details svelte-1m6wbdm"),v(y,"class","value svelte-1m6wbdm"),v(j,"class","judgement svelte-1m6wbdm"),v(N,"class","judgement svelte-1m6wbdm"),v(A,"class","judgement svelte-1m6wbdm"),v(R,"class","judgement svelte-1m6wbdm"),v(E,"class","judgement svelte-1m6wbdm"),v(W,"class","judgement svelte-1m6wbdm"),v(O,"class","judgements svelte-1m6wbdm"),v(n,"class","score svelte-1m6wbdm"),k(n,"me",t[2]?.id==t[0].id)},m(e,t){u(e,n,t),c(n,r),c(r,s),c(r,l),c(n,a),c(n,i),c(i,o),c(o,d),c(n,$),c(n,y),c(y,b),c(y,x),c(y,S),c(S,q),c(S,C),c(S,T),c(n,_),c(n,O),c(O,j),c(j,z),c(O,M),c(O,N),c(N,P),c(O,L),c(O,A),c(A,G),c(O,H),c(O,R),c(R,D),c(O,U),c(O,E),c(E,B),c(O,J),c(O,W),c(W,I)},p(e,[t]){2&t&&Y!==(Y=e[1].position+"")&&w(s,Y),1&t&&F!==(F=e[0].username+"")&&w(d,F),1&t&&g!==(g=`https://osu.ppy.sh/users/${e[0].id}`)&&v(o,"href",g),2&t&&Q!==(Q=e[1].score+"")&&w(b,Q),2&t&&V!==(V=e[1].combo+"")&&w(T,V),2&t&&X!==(X=e[1].c320+"")&&w(z,X),2&t&&Z!==(Z=e[1].c300+"")&&w(P,Z),2&t&&ee!==(ee=e[1].c200+"")&&w(G,ee),2&t&&te!==(te=e[1].c100+"")&&w(D,te),2&t&&ne!==(ne=e[1].c50+"")&&w(B,ne),2&t&&re!==(re=e[1].c0+"")&&w(I,re),5&t&&k(n,"me",e[2]?.id==e[0].id)},i:e,o:e,d(e){e&&p(n)}}}function pn(e,t,n){let r;a(e,re,(e=>n(2,r=e)));let{player:s}=t,{score:l}=t;const i=l.c320+l.c300+l.c200+l.c100+l.c50+l.c0,o=(305*l.c320+300*l.c300+200*l.c200+100*l.c100+50*l.c50)/(3.05*i);return e.$$set=e=>{"player"in e&&n(0,s=e.player),"score"in e&&n(1,l=e.score)},[s,l,r,o]}class dn extends Z{constructor(e){super(),X(this,e,pn,un,l,{player:0,score:1})}}const fn=te(null),mn=te(null),hn=te(null),gn=te(null),$n=te(null),vn=async e=>{var t,n;const r=e.filter((e=>!e.elite)),s=e.filter((e=>e.elite)),{data:l}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "qualifiers"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  qualifier_scores(sort: "-score", limit: -1) {\n    player {\n      id\n    }\n    map {\n      id\n    }\n    lobby {\n      name\n      link\n    }\n    score\n    combo\n    c320\n    c300\n    c200\n    c100\n    c50\n    c0\n  }\n}'})}),a=e=>[e.id,Object.assign(Object.assign({},e),{players:new Map})],i=new Map(l.maps.map(a)),o=new Map(l.maps.map(a)),c=t=>[t.id,Object.assign(Object.assign({},t),{totalScore:0,sumOfPositions:e.length*l.maps.length,mapScores:new Map(l.maps.map((e=>[e.id,[]])))})],u=new Map(r.map(c)),p=new Map(s.map(c));l.qualifier_scores.forEach((e=>{var t,n;let r;if(r=u.get(null===(t=e.player)||void 0===t?void 0:t.id)){if(!i.has(e.map.id))return;r.mapScores.get(e.map.id).push(e);const t=i.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,r)}else if(r=p.get(null===(n=e.player)||void 0===n?void 0:n.id)){if(!o.has(e.map.id))return;r.mapScores.get(e.map.id).push(e);const t=o.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,r)}}));for(const e of i.values()){const n=Array.from(e.players.values());for(let r=0;r<n.length;++r){const s=n[r].mapScores.get(e.id)[0],l=null===(t=n[r-1])||void 0===t?void 0:t.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}for(const e of o.values()){const t=Array.from(e.players.values());for(let r=0;r<t.length;++r){const s=t[r].mapScores.get(e.id)[0],l=null===(n=t[r-1])||void 0===n?void 0:n.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}for(const t of u.values())t.sumOfPositions=l.maps.reduce(((n,r)=>{var s,l;return t.totalScore+=null===(s=t.mapScores.get(r.id)[0])||void 0===s?void 0:s.score,n+((null===(l=t.mapScores.get(r.id)[0])||void 0===l?void 0:l.position)||e.length)}),0);for(const t of p.values())t.sumOfPositions=l.maps.reduce(((n,r)=>{var s,l;return t.totalScore+=null===(s=t.mapScores.get(r.id)[0])||void 0===s?void 0:s.score,n+((null===(l=t.mapScores.get(r.id)[0])||void 0===l?void 0:l.position)||e.length)}),0);const d=(e,t)=>e.sumOfPositions==t.sumOfPositions?e.totalScore<t.totalScore?1:-1:e.sumOfPositions<t.sumOfPositions?-1:1,f=Array.from(u.values()).sort(d),m=Array.from(p.values()).sort(d);f.forEach(((e,t)=>e.position=t+1)),m.forEach(((e,t)=>e.position=t+1)),fn.set(Array.from(i.values())),hn.set(Array.from(o.values())),mn.set(f),gn.set(m)},yn=(e,t)=>{const n=e.findIndex((e=>e.id==(null==t?void 0:t.id)));n>-1&&$n.set(Object.assign(Object.assign({},e[n]),{position:n+1}))},{Map:wn}=J;function bn(e,t,n){const r=e.slice();return r[8]=t[n],r}function kn(e,t,n){const r=e.slice();return r[11]=t[n],r}function xn(e){let t,n,r=[],s=new wn,l=e[0];const a=e=>e[8].id;for(let t=0;t<l.length;t+=1){let n=bn(e,l,t),i=a(n);s.set(i,r[t]=_n(i,n))}return{c(){t=f("p");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","maps svelte-1pnvguw")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){15&n&&(l=e[0],D(),r=Y(r,n,a,1,e,l,s,t,I,_n,null,bn),U())},i(e){if(!n){for(let e=0;e<l.length;e+=1)E(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Sn(t){let n;return{c(){n=f("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function qn(e){let t,n,r;return n=new dn({props:{player:e[1],score:e[1].mapScores.get(e[8].id)[0]}}),{c(){t=f("div"),F(n.$$.fragment),v(t,"class","my-qualifier svelte-1pnvguw")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.player=e[1]),3&t&&(r.score=e[1].mapScores.get(e[8].id)[0]),n.$set(r)},i(e){r||(E(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function Cn(e){let t,n,r=[],s=new wn,l=Array.from(e[8].players.values());const a=e=>e[11].id;for(let t=0;t<l.length;t+=1){let n=kn(e,l,t),i=a(n);s.set(i,r[t]=Tn(i,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);u(e,t,s),n=!0},p(e,n){1&n&&(l=Array.from(e[8].players.values()),D(),r=Y(r,n,a,1,e,l,s,t.parentNode,I,Tn,t,kn),U())},i(e){if(!n){for(let e=0;e<l.length;e+=1)E(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&p(t)}}}function Tn(e,t){let n,r,s;return r=new dn({props:{player:t[11],score:t[11].mapScores.get(t[8].id)[0]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.player=t[11]),1&n&&(s.score=t[11].mapScores.get(t[8].id)[0]),r.$set(s)},i(e){s||(E(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function _n(e,t){let n,r,s,l,a,i,o,d,y,b,k,x,S=t[2][t[8].id]?"Show":"Hide";r=new Yt({props:{map:t[8]}});let q=t[1]&&qn(t);function C(){return t[7](t[8])}let T=!t[2][t[8].id]&&Cn(t);return{key:e,first:null,c(){n=g(),F(r.$$.fragment),s=h(),q&&q.c(),l=h(),a=f("a"),i=m(S),o=m(" scores"),d=h(),T&&T.c(),y=g(),v(a,"href","javascript:void(0)"),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),u(e,s,t),q&&q.m(e,t),u(e,l,t),u(e,a,t),c(a,i),c(a,o),u(e,d,t),T&&T.m(e,t),u(e,y,t),b=!0,k||(x=$(a,"click",C),k=!0)},p(e,n){t=e;const s={};1&n&&(s.map=t[8]),r.$set(s),t[1]?q?(q.p(t,n),2&n&&E(q,1)):(q=qn(t),q.c(),E(q,1),q.m(l.parentNode,l)):q&&(D(),B(q,1,1,(()=>{q=null})),U()),(!b||5&n)&&S!==(S=t[2][t[8].id]?"Show":"Hide")&&w(i,S),t[2][t[8].id]?T&&(D(),B(T,1,1,(()=>{T=null})),U()):T?(T.p(t,n),5&n&&E(T,1)):(T=Cn(t),T.c(),E(T,1),T.m(y.parentNode,y))},i(e){b||(E(r.$$.fragment,e),E(q),E(T),b=!0)},o(e){B(r.$$.fragment,e),B(q),B(T),b=!1},d(e){e&&p(n),K(r,e),e&&p(s),q&&q.d(e),e&&p(l),e&&p(a),e&&p(d),T&&T.d(e),e&&p(y),k=!1,x()}}}function On(e){let t,n,r,s,l,a;const i=[Sn,xn],o=[];function c(e,t){return e[0]?1:0}return r=c(e),s=o[r]=i[r](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers">Player rankings</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!elite!maps">Elite players</a>',n=h(),s.c(),l=g(),v(t,"class","links svelte-1pnvguw")},m(e,s){u(e,t,s),u(e,n,s),o[r].m(e,s),u(e,l,s),a=!0},p(e,[t]){let n=r;r=c(e),r===n?o[r].p(e,t):(D(),B(o[n],1,1,(()=>{o[n]=null})),U(),s=o[r],s?s.p(e,t):(s=o[r]=i[r](e),s.c()),E(s,1),s.m(l.parentNode,l))},i(e){a||(E(s),a=!0)},o(e){B(s),a=!1},d(e){e&&p(t),e&&p(n),o[r].d(e),e&&p(l)}}}function jn(e,t,n){let r,s,l,i,o;a(e,fn,(e=>n(0,r=e))),a(e,se,(e=>n(4,s=e))),a(e,$n,(e=>n(1,l=e))),a(e,mn,(e=>n(5,i=e))),a(e,re,(e=>n(6,o=e)));let c={};const u=e=>{n(2,c=Object.assign(Object.assign({},c),{[e.id]:!c[e.id]}))};return e.$$.update=()=>{17&e.$$.dirty&&!r&&s&&vn(s),98&e.$$.dirty&&!l&&i&&o&&yn(i,o)},[r,l,c,u,s,i,o,e=>u(e)]}class zn extends Z{constructor(e){super(),X(this,e,jn,On,l,{})}}function Mn(e,t,n){const r=e.slice();return r[4]=t[n],r}function Nn(e,t){let n,r,s,l,a,i,o=(t[1].mapScores.get(t[4].id)[0]?.score||"N/A")+"",d=(t[1].mapScores.get(t[4].id)[0]?.position||"-")+"";return{key:e,first:null,c(){n=f("div"),r=m(o),s=f("br"),l=m("\r\n      ("),a=m(d),i=m(")\r\n    "),v(n,"class","score svelte-nyb024"),this.first=n},m(e,t){u(e,n,t),c(n,r),c(n,s),c(n,l),c(n,a),c(n,i)},p(e,n){t=e,6&n&&o!==(o=(t[1].mapScores.get(t[4].id)[0]?.score||"N/A")+"")&&w(r,o),6&n&&d!==(d=(t[1].mapScores.get(t[4].id)[0]?.position||"-")+"")&&w(a,d)},d(e){e&&p(n)}}}function Pn(t){let n,r,s,l,a,i,o,d,g,$,y,b,k,x,S,q,C,T,_,O,j,z,M,N,P,L,A,G=t[1].username+"",H=t[1].ranking+"",R=t[1].country+"",D=t[2].map(t[3]).join(" + ")+"",U=t[1].sumOfPositions+"",E=t[1].totalScore+"",B=[],J=new Map,I=t[2];const F=e=>e[4].id;for(let e=0;e<I.length;e+=1){let n=Mn(t,I,e),r=F(n);J.set(r,B[e]=Nn(r,n))}return{c(){n=f("a"),r=f("div"),s=f("img"),a=h(),i=f("div"),o=m(t[0]),d=m(". "),g=m(G),$=m(" (#"),y=m(H),b=m(")\r\n    "),k=f("div"),x=m(R),S=h(),q=f("div"),C=m(D),T=m("\r\n    =\r\n    "),_=f("b"),O=m(U),j=h(),z=f("div"),M=m("Total score: "),N=m(E),L=h(),A=f("div");for(let e=0;e<B.length;e+=1)B[e].c();v(s,"class","avatar svelte-nyb024"),s.src!==(l=t[1].avatar)&&v(s,"src",l),v(s,"alt",""),v(r,"class","avatar svelte-nyb024"),v(k,"class","country svelte-nyb024"),v(i,"class","name svelte-nyb024"),v(z,"class","total-score svelte-nyb024"),v(q,"class","positions svelte-nyb024"),v(n,"class","player svelte-nyb024"),v(n,"href",P=`https://osu.ppy.sh/users/${t[1].id}`),v(n,"target","_blank"),v(n,"rel","noopener"),v(A,"class","scores svelte-nyb024")},m(e,t){u(e,n,t),c(n,r),c(r,s),c(n,a),c(n,i),c(i,o),c(i,d),c(i,g),c(i,$),c(i,y),c(i,b),c(i,k),c(k,x),c(n,S),c(n,q),c(q,C),c(q,T),c(q,_),c(_,O),c(q,j),c(q,z),c(z,M),c(z,N),u(e,L,t),u(e,A,t);for(let e=0;e<B.length;e+=1)B[e].m(A,null)},p(e,[t]){2&t&&s.src!==(l=e[1].avatar)&&v(s,"src",l),1&t&&w(o,e[0]),2&t&&G!==(G=e[1].username+"")&&w(g,G),2&t&&H!==(H=e[1].ranking+"")&&w(y,H),2&t&&R!==(R=e[1].country+"")&&w(x,R),6&t&&D!==(D=e[2].map(e[3]).join(" + ")+"")&&w(C,D),2&t&&U!==(U=e[1].sumOfPositions+"")&&w(O,U),2&t&&E!==(E=e[1].totalScore+"")&&w(N,E),2&t&&P!==(P=`https://osu.ppy.sh/users/${e[1].id}`)&&v(n,"href",P),6&t&&(I=e[2],B=Y(B,t,F,1,e,I,J,A,W,Nn,null,Mn))},i:e,o:e,d(e){e&&p(n),e&&p(L),e&&p(A);for(let e=0;e<B.length;e+=1)B[e].d()}}}function Ln(e,t,n){let{position:r}=t,{player:s}=t,{maps:l}=t;return e.$$set=e=>{"position"in e&&n(0,r=e.position),"player"in e&&n(1,s=e.player),"maps"in e&&n(2,l=e.maps)},[r,s,l,e=>s.mapScores.get(e.id)[0]?.position||"N/A"]}class An extends Z{constructor(e){super(),X(this,e,Ln,Pn,l,{position:0,player:1,maps:2})}}function Gn(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function Hn(e){let t,n,r,s,l;return s=new An({props:{position:e[1].position,player:e[1],maps:e[2]}}),{c(){t=f("div"),n=f("h1"),n.textContent="Your placement",r=h(),F(s.$$.fragment),v(t,"class","my-qualifier svelte-buidrs")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){const n={};2&t&&(n.position=e[1].position),2&t&&(n.player=e[1]),4&t&&(n.maps=e[2]),s.$set(n)},i(e){l||(E(s.$$.fragment,e),l=!0)},o(e){B(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function Rn(e){let t,n,r=[],s=new Map,l=e[0];const a=e=>e[5].id;for(let t=0;t<l.length;t+=1){let n=Gn(e,l,t),i=a(n);s.set(i,r[t]=In(i,n))}return{c(){t=f("div");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","players svelte-buidrs")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){5&n&&(l=e[0],D(),r=Y(r,n,a,1,e,l,s,t,I,In,null,Gn),U())},i(e){if(!n){for(let e=0;e<l.length;e+=1)E(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Dn(t){let n;return{c(){n=f("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function Un(e){let t;return{c(){t=f("h1"),t.textContent="Not qualified"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function En(e){let t;return{c(){t=f("h1"),t.textContent="Bottom seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Bn(e){let t;return{c(){t=f("h1"),t.textContent="Low seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Jn(e){let t;return{c(){t=f("h1"),t.textContent="High seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Wn(e){let t;return{c(){t=f("h1"),t.textContent="Top seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function In(e,t){let n,r,s,l;function a(e,t){return 0==e[7]?Wn:32==e[7]?Jn:64==e[7]?Bn:96==e[7]?En:128==e[7]?Un:void 0}let i=a(t),o=i&&i(t);return s=new An({props:{position:t[7]+1,player:t[5],maps:t[2]}}),{key:e,first:null,c(){n=g(),o&&o.c(),r=h(),F(s.$$.fragment),this.first=n},m(e,t){u(e,n,t),o&&o.m(e,t),u(e,r,t),Q(s,e,t),l=!0},p(e,n){i!==(i=a(t=e))&&(o&&o.d(1),o=i&&i(t),o&&(o.c(),o.m(r.parentNode,r)));const l={};1&n&&(l.position=t[7]+1),1&n&&(l.player=t[5]),4&n&&(l.maps=t[2]),s.$set(l)},i(e){l||(E(s.$$.fragment,e),l=!0)},o(e){B(s.$$.fragment,e),l=!1},d(e){e&&p(n),o&&o.d(e),e&&p(r),K(s,e)}}}function Yn(e){let t,n,r,s,l,a,i,o=e[1]&&Hn(e);const c=[Dn,Rn],d=[];function m(e,t){return e[0]?1:0}return s=m(e),l=d[s]=c[s](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!elite">Elite players</a>',n=h(),o&&o.c(),r=h(),l.c(),a=g(),v(t,"class","links svelte-buidrs")},m(e,l){u(e,t,l),u(e,n,l),o&&o.m(e,l),u(e,r,l),d[s].m(e,l),u(e,a,l),i=!0},p(e,[t]){e[1]?o?(o.p(e,t),2&t&&E(o,1)):(o=Hn(e),o.c(),E(o,1),o.m(r.parentNode,r)):o&&(D(),B(o,1,1,(()=>{o=null})),U());let n=s;s=m(e),s===n?d[s].p(e,t):(D(),B(d[n],1,1,(()=>{d[n]=null})),U(),l=d[s],l?l.p(e,t):(l=d[s]=c[s](e),l.c()),E(l,1),l.m(a.parentNode,a))},i(e){i||(E(o),E(l),i=!0)},o(e){B(o),B(l),i=!1},d(e){e&&p(t),e&&p(n),o&&o.d(e),e&&p(r),d[s].d(e),e&&p(a)}}}function Fn(e,t,n){let r,s,l,i,o;return a(e,mn,(e=>n(0,r=e))),a(e,se,(e=>n(3,s=e))),a(e,$n,(e=>n(1,l=e))),a(e,re,(e=>n(4,i=e))),a(e,fn,(e=>n(2,o=e))),e.$$.update=()=>{9&e.$$.dirty&&!r&&s&&vn(s),19&e.$$.dirty&&!l&&r&&i&&yn(r,i)},[r,l,o,s,i]}class Qn extends Z{constructor(e){super(),X(this,e,Fn,Yn,l,{})}}const{Map:Kn}=J;function Vn(e,t,n){const r=e.slice();return r[8]=t[n],r}function Xn(e,t,n){const r=e.slice();return r[11]=t[n],r}function Zn(e){let t,n,r=[],s=new Kn,l=e[0];const a=e=>e[8].id;for(let t=0;t<l.length;t+=1){let n=Vn(e,l,t),i=a(n);s.set(i,r[t]=sr(i,n))}return{c(){t=f("p");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","maps svelte-1pnvguw")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){15&n&&(l=e[0],D(),r=Y(r,n,a,1,e,l,s,t,I,sr,null,Vn),U())},i(e){if(!n){for(let e=0;e<l.length;e+=1)E(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function er(t){let n;return{c(){n=f("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function tr(e){let t,n,r;return n=new dn({props:{player:e[1],score:e[1].mapScores.get(e[8].id)[0]}}),{c(){t=f("div"),F(n.$$.fragment),v(t,"class","my-qualifier svelte-1pnvguw")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.player=e[1]),3&t&&(r.score=e[1].mapScores.get(e[8].id)[0]),n.$set(r)},i(e){r||(E(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function nr(e){let t,n,r=[],s=new Kn,l=Array.from(e[8].players.values());const a=e=>e[11].id;for(let t=0;t<l.length;t+=1){let n=Xn(e,l,t),i=a(n);s.set(i,r[t]=rr(i,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);u(e,t,s),n=!0},p(e,n){1&n&&(l=Array.from(e[8].players.values()),D(),r=Y(r,n,a,1,e,l,s,t.parentNode,I,rr,t,Xn),U())},i(e){if(!n){for(let e=0;e<l.length;e+=1)E(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&p(t)}}}function rr(e,t){let n,r,s;return r=new dn({props:{player:t[11],score:t[11].mapScores.get(t[8].id)[0]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.player=t[11]),1&n&&(s.score=t[11].mapScores.get(t[8].id)[0]),r.$set(s)},i(e){s||(E(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function sr(e,t){let n,r,s,l,a,i,o,d,y,b,k,x,S=t[2][t[8].id]?"Show":"Hide";r=new Yt({props:{map:t[8]}});let q=t[1]&&tr(t);function C(){return t[7](t[8])}let T=!t[2][t[8].id]&&nr(t);return{key:e,first:null,c(){n=g(),F(r.$$.fragment),s=h(),q&&q.c(),l=h(),a=f("a"),i=m(S),o=m(" scores"),d=h(),T&&T.c(),y=g(),v(a,"href","javascript:void(0)"),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),u(e,s,t),q&&q.m(e,t),u(e,l,t),u(e,a,t),c(a,i),c(a,o),u(e,d,t),T&&T.m(e,t),u(e,y,t),b=!0,k||(x=$(a,"click",C),k=!0)},p(e,n){t=e;const s={};1&n&&(s.map=t[8]),r.$set(s),t[1]?q?(q.p(t,n),2&n&&E(q,1)):(q=tr(t),q.c(),E(q,1),q.m(l.parentNode,l)):q&&(D(),B(q,1,1,(()=>{q=null})),U()),(!b||5&n)&&S!==(S=t[2][t[8].id]?"Show":"Hide")&&w(i,S),t[2][t[8].id]?T&&(D(),B(T,1,1,(()=>{T=null})),U()):T?(T.p(t,n),5&n&&E(T,1)):(T=nr(t),T.c(),E(T,1),T.m(y.parentNode,y))},i(e){b||(E(r.$$.fragment,e),E(q),E(T),b=!0)},o(e){B(r.$$.fragment,e),B(q),B(T),b=!1},d(e){e&&p(n),K(r,e),e&&p(s),q&&q.d(e),e&&p(l),e&&p(a),e&&p(d),T&&T.d(e),e&&p(y),k=!1,x()}}}function lr(e){let t,n,r,s,l,a;const i=[er,Zn],o=[];function c(e,t){return e[0]?1:0}return r=c(e),s=o[r]=i[r](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers">Player rankings</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!maps">Regular players</a>',n=h(),s.c(),l=g(),v(t,"class","links svelte-1pnvguw")},m(e,s){u(e,t,s),u(e,n,s),o[r].m(e,s),u(e,l,s),a=!0},p(e,[t]){let n=r;r=c(e),r===n?o[r].p(e,t):(D(),B(o[n],1,1,(()=>{o[n]=null})),U(),s=o[r],s?s.p(e,t):(s=o[r]=i[r](e),s.c()),E(s,1),s.m(l.parentNode,l))},i(e){a||(E(s),a=!0)},o(e){B(s),a=!1},d(e){e&&p(t),e&&p(n),o[r].d(e),e&&p(l)}}}function ar(e,t,n){let r,s,l,i,o;a(e,hn,(e=>n(0,r=e))),a(e,se,(e=>n(4,s=e))),a(e,$n,(e=>n(1,l=e))),a(e,gn,(e=>n(5,i=e))),a(e,re,(e=>n(6,o=e)));let c={};const u=e=>{n(2,c=Object.assign(Object.assign({},c),{[e.id]:!c[e.id]}))};return e.$$.update=()=>{17&e.$$.dirty&&!r&&s&&vn(s),98&e.$$.dirty&&!l&&i&&o&&yn(i,o)},[r,l,c,u,s,i,o,e=>u(e)]}class ir extends Z{constructor(e){super(),X(this,e,ar,lr,l,{})}}function or(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function cr(e){let t,n,r,s,l;return s=new An({props:{position:e[1].position,player:e[1],maps:e[2]}}),{c(){t=f("div"),n=f("h1"),n.textContent="Your placement",r=h(),F(s.$$.fragment),v(t,"class","my-qualifier svelte-buidrs")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){const n={};2&t&&(n.position=e[1].position),2&t&&(n.player=e[1]),4&t&&(n.maps=e[2]),s.$set(n)},i(e){l||(E(s.$$.fragment,e),l=!0)},o(e){B(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function ur(e){let t,n,r,s,l=[],a=new Map,i=e[0];const o=e=>e[5].id;for(let t=0;t<i.length;t+=1){let n=or(e,i,t),r=o(n);a.set(r,l[t]=dr(r,n))}return{c(){t=f("div"),n=f("h1"),n.textContent="Elite players",r=h();for(let e=0;e<l.length;e+=1)l[e].c();v(t,"class","players svelte-buidrs")},m(e,a){u(e,t,a),c(t,n),c(t,r);for(let e=0;e<l.length;e+=1)l[e].m(t,null);s=!0},p(e,n){5&n&&(i=e[0],D(),l=Y(l,n,o,1,e,i,a,t,I,dr,null,or),U())},i(e){if(!s){for(let e=0;e<i.length;e+=1)E(l[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)B(l[e]);s=!1},d(e){e&&p(t);for(let e=0;e<l.length;e+=1)l[e].d()}}}function pr(t){let n;return{c(){n=f("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function dr(e,t){let n,r,s;return r=new An({props:{position:t[7]+1,player:t[5],maps:t[2]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.position=t[7]+1),1&n&&(s.player=t[5]),4&n&&(s.maps=t[2]),r.$set(s)},i(e){s||(E(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function fr(e){let t,n,r,s,l,a,i,o=e[1]&&cr(e);const c=[pr,ur],d=[];function m(e,t){return e[0]?1:0}return s=m(e),l=d[s]=c[s](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers">Regular players</a>',n=h(),o&&o.c(),r=h(),l.c(),a=g(),v(t,"class","links svelte-buidrs")},m(e,l){u(e,t,l),u(e,n,l),o&&o.m(e,l),u(e,r,l),d[s].m(e,l),u(e,a,l),i=!0},p(e,[t]){e[1]?o?(o.p(e,t),2&t&&E(o,1)):(o=cr(e),o.c(),E(o,1),o.m(r.parentNode,r)):o&&(D(),B(o,1,1,(()=>{o=null})),U());let n=s;s=m(e),s===n?d[s].p(e,t):(D(),B(d[n],1,1,(()=>{d[n]=null})),U(),l=d[s],l?l.p(e,t):(l=d[s]=c[s](e),l.c()),E(l,1),l.m(a.parentNode,a))},i(e){i||(E(o),E(l),i=!0)},o(e){B(o),B(l),i=!1},d(e){e&&p(t),e&&p(n),o&&o.d(e),e&&p(r),d[s].d(e),e&&p(a)}}}function mr(e,t,n){let r,s,l,i,o;return a(e,gn,(e=>n(0,r=e))),a(e,se,(e=>n(3,s=e))),a(e,$n,(e=>n(1,l=e))),a(e,re,(e=>n(4,i=e))),a(e,hn,(e=>n(2,o=e))),e.$$.update=()=>{9&e.$$.dirty&&!r&&s&&vn(s),19&e.$$.dirty&&!l&&r&&i&&yn(r,i)},[r,l,o,s,i]}class hr extends Z{constructor(e){super(),X(this,e,mr,fr,l,{})}}function gr(e,t,n){const r=e.slice();return r[6]=t[n].commentator,r[8]=n,r}function $r(e){let t,n,r,s,l=e[3].group.id+"",a=e[0].id+"";return{c(){t=m("G"),n=m(l),r=m("-"),s=m(a)},m(e,l){u(e,t,l),u(e,n,l),u(e,r,l),u(e,s,l)},p(e,t){1&t&&a!==(a=e[0].id+"")&&w(s,a)},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s)}}}function vr(e){let t,n,r,s,l,a,i=e[3].group.id+"",o=e[0].id+"";return{c(){t=f("a"),n=m("G"),r=m(i),s=m("-"),l=m(o),v(t,"href",a=e[0].link),v(t,"target","_blank"),v(t,"rel","noopener")},m(e,a){u(e,t,a),c(t,n),c(t,r),c(t,s),c(t,l)},p(e,n){1&n&&o!==(o=e[0].id+"")&&w(l,o),1&n&&a!==(a=e[0].link)&&v(t,"href",a)},d(e){e&&p(t)}}}function yr(t){let n;return{c(){n=m("To be defined")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function wr(e){let t,n,r,s=e[0].referee.username+"";return{c(){t=f("a"),n=m(s),v(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].referee.username+"")&&w(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&v(t,"href",r)},d(e){e&&p(t)}}}function br(e){let t,n,r,s,l,a,i=e[0].streamer.username+"";return{c(){t=m("-\r\n        "),n=f("b"),n.textContent="Streamer",r=m(":\r\n        "),s=f("a"),l=m(i),v(s,"href",a=`https://osu.ppy.sh/users/${e[0].streamer.id}`)},m(e,a){u(e,t,a),u(e,n,a),u(e,r,a),u(e,s,a),c(s,l)},p(e,t){1&t&&i!==(i=e[0].streamer.username+"")&&w(l,i),1&t&&a!==(a=`https://osu.ppy.sh/users/${e[0].streamer.id}`)&&v(s,"href",a)},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s)}}}function kr(e){let t,n,r,s,l=e[0].commentators,a=[];for(let t=0;t<l.length;t+=1)a[t]=xr(gr(e,l,t));return{c(){t=m("-\r\n        "),n=f("b"),n.textContent="Commentators",r=m(":\r\n        ");for(let e=0;e<a.length;e+=1)a[e].c();s=g()},m(e,l){u(e,t,l),u(e,n,l),u(e,r,l);for(let t=0;t<a.length;t+=1)a[t].m(e,l);u(e,s,l)},p(e,t){if(1&t){let n;for(l=e[0].commentators,n=0;n<l.length;n+=1){const r=gr(e,l,n);a[n]?a[n].p(r,t):(a[n]=xr(r),a[n].c(),a[n].m(s.parentNode,s))}for(;n<a.length;n+=1)a[n].d(1);a.length=l.length}},d(e){e&&p(t),e&&p(n),e&&p(r),d(a,e),e&&p(s)}}}function xr(e){let t,n,r,s,l=e[6].username+"",a=e[8]&&function(e){let t;return{c(){t=m(",")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}();return{c(){a&&a.c(),t=h(),n=f("a"),r=m(l),v(n,"href",s=`https://osu.ppy.sh/users/${e[6].id}`)},m(e,s){a&&a.m(e,s),u(e,t,s),u(e,n,s),c(n,r)},p(e,t){1&t&&l!==(l=e[6].username+"")&&w(r,l),1&t&&s!==(s=`https://osu.ppy.sh/users/${e[6].id}`)&&v(n,"href",s)},d(e){a&&a.d(e),e&&p(t),e&&p(n)}}}function Sr(t){let n,r,s,l,a,i,o,d,g,y,b,x,S,q,C,T,_,O,j,z,M,N,P,L,A,G,H,R,D,U,E,B,J,W,I,Y,F,Q,K,V,X,Z,ee,te,ne,re,se,le,ae=t[1].toDateString()+"",ie=t[1].toTimeString().replace(":00 GMT"," UTC")+"",oe=t[1].toUTCString().replace(":00 GMT"," UTC+0")+"",ce=t[3].username+"",ue=t[3].seed+"",pe=t[4].username+"",de=t[4].seed+"",fe=(t[0].points1||0)+"",me=(t[0].points2||0)+"";function he(e,t){return e[0].link?vr:$r}let ge=he(t),$e=ge(t);function ve(e,t){return e[0].referee?wr:yr}let ye=ve(t),we=ye(t),be=t[0].streamer&&br(t),ke=t[0].commentators.length&&kr(t);return{c(){n=f("div"),r=f("div"),$e.c(),s=h(),l=f("div"),a=f("div"),i=f("b"),o=m(ae),d=h(),g=m(ie),y=h(),b=f("div"),x=m(oe),S=h(),q=f("div"),C=f("b"),C.textContent="Referee",T=m(":\r\n      "),we.c(),_=h(),be&&be.c(),O=h(),ke&&ke.c(),j=h(),z=f("div"),M=f("div"),N=f("img"),L=h(),A=f("a"),G=m(ce),H=m(" (#"),R=m(ue),D=m(")"),U=h(),E=f("div"),E.textContent="vs.",B=h(),J=f("div"),W=f("img"),Y=h(),F=f("a"),Q=m(pe),K=m(" (#"),V=m(de),X=m(")"),Z=h(),ee=f("div"),te=m(fe),ne=m(" - "),re=m(me),v(r,"class","name svelte-1tuxpxq"),v(b,"class","utc svelte-1tuxpxq"),v(a,"class","time svelte-1tuxpxq"),v(q,"class","staff svelte-1tuxpxq"),v(N,"alt",""),N.src!==(P=t[3].avatar)&&v(N,"src",P),v(N,"class","svelte-1tuxpxq"),v(A,"href",`https://osu.ppy.sh/users/${t[3].id}`),v(M,"class","player svelte-1tuxpxq"),v(E,"class","vs svelte-1tuxpxq"),v(W,"alt",""),W.src!==(I=t[4].avatar)&&v(W,"src",I),v(W,"class","svelte-1tuxpxq"),v(F,"href",`https://osu.ppy.sh/users/${t[4].id}`),v(J,"class","player svelte-1tuxpxq"),v(z,"class","players svelte-1tuxpxq"),v(l,"class","body svelte-1tuxpxq"),v(ee,"class","score svelte-1tuxpxq"),v(n,"class","match svelte-1tuxpxq"),k(n,"my-match",t[2]?.id==t[3].id||t[2]?.id==t[4].id)},m(e,p){u(e,n,p),c(n,r),$e.m(r,null),c(n,s),c(n,l),c(l,a),c(a,i),c(i,o),c(i,d),c(i,g),c(a,y),c(a,b),c(b,x),c(l,S),c(l,q),c(q,C),c(q,T),we.m(q,null),c(q,_),be&&be.m(q,null),c(q,O),ke&&ke.m(q,null),c(l,j),c(l,z),c(z,M),c(M,N),c(M,L),c(M,A),c(A,G),c(A,H),c(A,R),c(A,D),c(z,U),c(z,E),c(z,B),c(z,J),c(J,W),c(J,Y),c(J,F),c(F,Q),c(F,K),c(F,V),c(F,X),c(n,Z),c(n,ee),c(ee,te),c(ee,ne),c(ee,re),se||(le=$(n,"click",t[5]),se=!0)},p(e,[t]){ge===(ge=he(e))&&$e?$e.p(e,t):($e.d(1),$e=ge(e),$e&&($e.c(),$e.m(r,null))),2&t&&ae!==(ae=e[1].toDateString()+"")&&w(o,ae),2&t&&ie!==(ie=e[1].toTimeString().replace(":00 GMT"," UTC")+"")&&w(g,ie),2&t&&oe!==(oe=e[1].toUTCString().replace(":00 GMT"," UTC+0")+"")&&w(x,oe),ye===(ye=ve(e))&&we?we.p(e,t):(we.d(1),we=ye(e),we&&(we.c(),we.m(q,_))),e[0].streamer?be?be.p(e,t):(be=br(e),be.c(),be.m(q,O)):be&&(be.d(1),be=null),e[0].commentators.length?ke?ke.p(e,t):(ke=kr(e),ke.c(),ke.m(q,null)):ke&&(ke.d(1),ke=null),1&t&&fe!==(fe=(e[0].points1||0)+"")&&w(te,fe),1&t&&me!==(me=(e[0].points2||0)+"")&&w(re,me),28&t&&k(n,"my-match",e[2]?.id==e[3].id||e[2]?.id==e[4].id)},i:e,o:e,d(e){e&&p(n),$e.d(),we.d(),be&&be.d(),ke&&ke.d(),se=!1,le()}}}function qr(e,t,n){let r,s;a(e,re,(e=>n(2,s=e)));let{match:l}=t;const[i,o]=l.players.map((({player:e})=>e));return e.$$set=e=>{"match"in e&&n(0,l=e.match)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=new Date(l.time))},[l,r,s,i,o,function(t){C(e,t)}]}class Cr extends Z{constructor(e){super(),X(this,e,qr,Sr,l,{match:0})}}const Tr=te(null),_r=te(null),Or=async()=>{const{data:e}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "groups"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  matches(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "groups"\n        }\n      }\n    }\n    sort: "time"\n    limit: -1\n  ) {\n    id\n    link\n    players {\n      player: players_id {\n        id\n        username\n        avatar\n        seed\n        group {\n          id\n        }\n      }\n    }\n    time\n    referee {\n      id\n      username\n    }\n    streamer {\n      id\n      username\n    }\n    commentators {\n      commentator: commentators_id {\n        id\n        username\n      }\n    }\n\n    rolls {\n      id\n      player { id username }\n      value\n    }\n    protects {\n      id\n      player { id username }\n      map { id name category }\n    }\n    bans {\n      id\n      player { id username }\n      map { id name category }\n    }\n    picks {\n      id\n      player { id username }\n      map { id name category }\n    }\n\n    scores {\n      id\n      player { id }\n      map { id }\n      score\n    }\n    wbd {\n      id\n    }\n  }\n}'})});e.matches.forEach((e=>{e.players=e.players[0].player.seed<e.players[1].player.seed?e.players:e.players.reverse(),e.wbd?(e.points1=e.wbd.id==e.players[0].player.id?"WBD":0,e.points2=e.wbd.id==e.players[1].player.id?"WBD":0):(e.points1=0,e.points2=0,e.picks.forEach((t=>{var n,r;let s=e.scores.filter((e=>e.map.id==t.map.id))||[];1==s.length&&s.push(Object.assign(Object.assign({},s[0]),{player:e.players[(null===(n=s[0])||void 0===n?void 0:n.player.id)==e.players[0].player.id?1:0].player,score:0})),(null===(r=s[0])||void 0===r?void 0:r.player.id)!=e.players[0].player.id&&(s=s.reverse());const[l,a]=s;l&&a&&(l.score>a.score?e.points1+=1:e.points2+=1)})))})),Tr.set(e.matches),_r.set(e.maps)},{Map:jr}=J;function zr(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function Mr(e,t,n){const r=e.slice();return r[12]=t[n],r}function Nr(e,t,n){const r=e.slice();return r[9]=t[n],r}function Pr(e){let t,n,r,s,l,a,i,o,d,g,$,y,b,k,x=e[0].player.group.id+"",S=[],q=new jr,C=e[3];const T=e=>e[9].id;for(let t=0;t<C.length;t+=1){let n=Nr(e,C,t),r=T(n);q.set(r,S[t]=Lr(r,n))}return{c(){t=f("div"),n=m("Welcome to the Group Stage!"),r=f("br"),s=f("br"),l=m("\r\n  You will be facing every other player of your group once ("),a=f("b"),i=m("Group "),o=m(x),d=m(")!"),g=f("br"),$=m("\r\n  You can find the list of your own matches just below."),y=h(),b=f("div");for(let e=0;e<S.length;e+=1)S[e].c();v(t,"class","intro svelte-14l0ba5"),v(b,"class","matches svelte-14l0ba5")},m(e,p){u(e,t,p),c(t,n),c(t,r),c(t,s),c(t,l),c(t,a),c(a,i),c(a,o),c(t,d),c(t,g),c(t,$),u(e,y,p),u(e,b,p);for(let e=0;e<S.length;e+=1)S[e].m(b,null);k=!0},p(e,t){(!k||1&t)&&x!==(x=e[0].player.group.id+"")&&w(o,x),8&t&&(C=e[3],D(),S=Y(S,t,T,1,e,C,q,b,I,Lr,null,Nr),U())},i(e){if(!k){for(let e=0;e<C.length;e+=1)E(S[e]);k=!0}},o(e){for(let e=0;e<S.length;e+=1)B(S[e]);k=!1},d(e){e&&p(t),e&&p(y),e&&p(b);for(let e=0;e<S.length;e+=1)S[e].d()}}}function Lr(e,t){let n,r,s;return r=new Cr({props:{match:t[9]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.match=t[9]),r.$set(s)},i(e){s||(E(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function Ar(e){let t,n,s,l,a,i,o,d,m,g,y,w=[],b=new jr,k=[],x=new jr,S=e[4];const q=e=>e[12].id;for(let t=0;t<S.length;t+=1){let n=Mr(e,S,t),r=q(n);b.set(r,w[t]=Hr(r,n))}let C=e[2];const T=e=>e[9].id;for(let t=0;t<C.length;t+=1){let n=zr(e,C,t),r=T(n);x.set(r,k[t]=Dr(r,n))}return{c(){t=f("div");for(let e=0;e<w.length;e+=1)w[e].c();n=h(),s=f("div"),l=f("div"),a=f("a"),a.textContent="Sort chronologically",i=h(),o=f("a"),o.textContent="Sort by group",d=h();for(let e=0;e<k.length;e+=1)k[e].c();v(t,"class","maps svelte-14l0ba5"),v(a,"href","javascript:void(0)"),v(o,"href","javascript:void(0)"),v(l,"class","matches-links svelte-14l0ba5"),v(s,"class","matches svelte-14l0ba5")},m(r,p){u(r,t,p);for(let e=0;e<w.length;e+=1)w[e].m(t,null);u(r,n,p),u(r,s,p),c(s,l),c(l,a),c(l,i),c(l,o),c(s,d);for(let e=0;e<k.length;e+=1)k[e].m(s,null);m=!0,g||(y=[$(a,"click",e[6]),$(o,"click",e[5])],g=!0)},p(e,n){16&n&&(S=e[4],D(),w=Y(w,n,q,1,e,S,b,t,I,Hr,null,Mr),U()),6&n&&(C=e[2],D(),k=Y(k,n,T,1,e,C,x,s,I,Dr,null,zr),U())},i(e){if(!m){for(let e=0;e<S.length;e+=1)E(w[e]);for(let e=0;e<C.length;e+=1)E(k[e]);m=!0}},o(e){for(let e=0;e<w.length;e+=1)B(w[e]);for(let e=0;e<k.length;e+=1)B(k[e]);m=!1},d(e){e&&p(t);for(let e=0;e<w.length;e+=1)w[e].d();e&&p(n),e&&p(s);for(let e=0;e<k.length;e+=1)k[e].d();g=!1,r(y)}}}function Gr(t){let n;return{c(){n=f("div"),n.textContent="Loading groups matches...",v(n,"class","matches svelte-14l0ba5")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function Hr(e,t){let n,r,s;return r=new Yt({props:{map:t[12]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};16&n&&(s.map=t[12]),r.$set(s)},i(e){s||(E(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function Rr(e){let t;return{c(){t=f("div"),v(t,"class","group-spacer svelte-14l0ba5")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Dr(e,t){let n,r,s,l,a;r=new Cr({props:{match:t[9]}});let i=t[1]&&t[2][t[11]+1]?.players[0].player.group.id>t[9].players[0].player.group.id&&Rr();return{key:e,first:null,c(){n=g(),F(r.$$.fragment),s=h(),i&&i.c(),l=g(),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),u(e,s,t),i&&i.m(e,t),u(e,l,t),a=!0},p(e,n){t=e;const s={};4&n&&(s.match=t[9]),r.$set(s),t[1]&&t[2][t[11]+1]?.players[0].player.group.id>t[9].players[0].player.group.id?i||(i=Rr(),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},i(e){a||(E(r.$$.fragment,e),a=!0)},o(e){B(r.$$.fragment,e),a=!1},d(e){e&&p(n),K(r,e),e&&p(s),i&&i.d(e),e&&p(l)}}}function Ur(e){let t,n,r,s,l,a,i,o=e[0]?.player?.group&&Pr(e);const c=[Gr,Ar],d=[];function m(e,t){return e[2]?1:0}return s=m(e),l=d[s]=c[s](e),{c(){t=f("div"),t.innerHTML='<a href="#/groups!maps">Rankings per map</a> \n  <a href="#/groups!results">Groups results</a> \n  <a href="#/groups!rolls">Roll leaderboard</a>',n=h(),o&&o.c(),r=h(),l.c(),a=g(),v(t,"class","links svelte-14l0ba5")},m(e,l){u(e,t,l),u(e,n,l),o&&o.m(e,l),u(e,r,l),d[s].m(e,l),u(e,a,l),i=!0},p(e,[t]){e[0]?.player?.group?o?(o.p(e,t),1&t&&E(o,1)):(o=Pr(e),o.c(),E(o,1),o.m(r.parentNode,r)):o&&(D(),B(o,1,1,(()=>{o=null})),U());let n=s;s=m(e),s===n?d[s].p(e,t):(D(),B(d[n],1,1,(()=>{d[n]=null})),U(),l=d[s],l?l.p(e,t):(l=d[s]=c[s](e),l.c()),E(l,1),l.m(a.parentNode,a))},i(e){i||(E(o),E(l),i=!0)},o(e){B(o),B(l),i=!1},d(e){e&&p(t),e&&p(n),o&&o.d(e),e&&p(r),d[s].d(e),e&&p(a)}}}function Er(e,t,n){let r,s,l;var i;a(e,Tr,(e=>n(8,r=e))),a(e,re,(e=>n(0,s=e))),a(e,_r,(e=>n(4,l=e))),r||Or();let o=!1;let c,u;return e.$$.update=()=>{385&e.$$.dirty&&r&&(null===n(7,i=null==s?void 0:s.player)||void 0===i?void 0:i.group)&&n(3,u=r.filter((e=>e.players.find((({player:e})=>e.id==s.id))))),256&e.$$.dirty&&n(2,c=r)},[s,o,c,u,l,()=>{n(1,o=!0),n(2,c=c.sort(((e,t)=>{if(e.players[0].player.group.id!=t.players[0].player.group.id)return e.players[0].player.group.id<t.players[0].player.group.id?-1:1;const[n,r]=e.players.map((({player:e})=>e)),[s,l]=t.players.map((({player:e})=>e));return n.seed!=s.seed?n.seed<s.seed?-1:1:r.seed<l.seed?-1:1})))},()=>{n(1,o=!1),n(2,c=c.sort(((e,t)=>e.time<t.time?-1:1)))},i,r]}class Br extends Z{constructor(e){super(),X(this,e,Er,Ur,l,{})}}const Jr=te(null);function Wr(e,t,n){const r=e.slice();return r[1]=t[n],r[3]=n,r}function Ir(e){let t,n,r,s=e[0],l=[];for(let t=0;t<s.length;t+=1)l[t]=Kr(Wr(e,s,t));return{c(){t=f("div"),t.innerHTML='<div class="group svelte-10wq7a2">Group</div> \n    <div class="player svelte-10wq7a2">Player</div> \n    <div class="cell svelte-10wq7a2">Victories</div> \n    <div class="points svelte-10wq7a2">pts won - pts lost</div> \n    <div class="cell svelte-10wq7a2">WBDs</div> \n    <div class="cell svelte-10wq7a2">LBDs</div> \n    <div class="cell svelte-10wq7a2">Seed</div>',n=h();for(let e=0;e<l.length;e+=1)l[e].c();r=g(),v(t,"class","row header svelte-10wq7a2")},m(e,s){u(e,t,s),u(e,n,s);for(let t=0;t<l.length;t+=1)l[t].m(e,s);u(e,r,s)},p(e,t){if(1&t){let n;for(s=e[0],n=0;n<s.length;n+=1){const a=Wr(e,s,n);l[n]?l[n].p(a,t):(l[n]=Kr(a),l[n].c(),l[n].m(r.parentNode,r))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}},d(e){e&&p(t),e&&p(n),d(l,e),e&&p(r)}}}function Yr(t){let n;return{c(){n=m("Loading groups results...")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Fr(e){let t;return{c(){t=f("div"),t.textContent="⭐",v(t,"class","qualified svelte-10wq7a2")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Qr(e){let t,n,r;return{c(){t=f("div"),n=h(),r=f("div"),r.innerHTML='<div class="group svelte-10wq7a2">Group</div> \n      <div class="player svelte-10wq7a2">Player</div> \n      <div class="cell svelte-10wq7a2">Victories</div> \n      <div class="points svelte-10wq7a2">pts won - pts lost</div> \n      <div class="cell svelte-10wq7a2">WBDs</div> \n      <div class="cell svelte-10wq7a2">LBDs</div> \n      <div class="cell svelte-10wq7a2">Seed</div> \n    ',v(t,"class","spacer svelte-10wq7a2"),v(r,"class","row header svelte-10wq7a2")},m(e,s){u(e,t,s),u(e,n,s),u(e,r,s)},d(e){e&&p(t),e&&p(n),e&&p(r)}}}function Kr(e){let t,n,r,s,l,a,i,o,d,$,y,b,k,x,S,q,C,T,_,O,j,z,M,N,P,L,A,G,H,R,D,U=e[1].group+"",E=e[1].username+"",B=e[1].victories+"",J=e[1].points_won+"",W=e[1].points_lost+"",I=e[1].won_minus_lost+"",Y=e[1].wbds+"",F=e[1].lbds+"",Q=e[1].seed+"",K=e[1].qualified&&Fr(),V=e[0][e[3]+1]&&e[0][e[3]+1].group!=e[1].group&&Qr();return{c(){t=f("div"),K&&K.c(),n=h(),r=f("div"),s=m("G"),l=m(U),a=h(),i=f("div"),o=f("a"),d=m(E),y=h(),b=f("div"),k=m(B),x=h(),S=f("div"),q=m(J),C=m(" - "),T=m(W),_=m(" = "),O=m(I),j=h(),z=f("div"),M=m(Y),N=h(),P=f("div"),L=m(F),A=h(),G=f("div"),H=m(Q),R=h(),V&&V.c(),D=g(),v(r,"class","group svelte-10wq7a2"),v(o,"href",$=`https://osu.ppy.sh/users/${e[1].id}`),v(o,"target","_blank"),v(o,"rel","noopener"),v(i,"class","player svelte-10wq7a2"),v(b,"class","cell svelte-10wq7a2"),v(S,"class","points svelte-10wq7a2"),v(z,"class","cell svelte-10wq7a2"),v(P,"class","cell svelte-10wq7a2"),v(G,"class","cell svelte-10wq7a2"),v(t,"class","row svelte-10wq7a2")},m(e,p){u(e,t,p),K&&K.m(t,null),c(t,n),c(t,r),c(r,s),c(r,l),c(t,a),c(t,i),c(i,o),c(o,d),c(t,y),c(t,b),c(b,k),c(t,x),c(t,S),c(S,q),c(S,C),c(S,T),c(S,_),c(S,O),c(t,j),c(t,z),c(z,M),c(t,N),c(t,P),c(P,L),c(t,A),c(t,G),c(G,H),u(e,R,p),V&&V.m(e,p),u(e,D,p)},p(e,r){e[1].qualified?K||(K=Fr(),K.c(),K.m(t,n)):K&&(K.d(1),K=null),1&r&&U!==(U=e[1].group+"")&&w(l,U),1&r&&E!==(E=e[1].username+"")&&w(d,E),1&r&&$!==($=`https://osu.ppy.sh/users/${e[1].id}`)&&v(o,"href",$),1&r&&B!==(B=e[1].victories+"")&&w(k,B),1&r&&J!==(J=e[1].points_won+"")&&w(q,J),1&r&&W!==(W=e[1].points_lost+"")&&w(T,W),1&r&&I!==(I=e[1].won_minus_lost+"")&&w(O,I),1&r&&Y!==(Y=e[1].wbds+"")&&w(M,Y),1&r&&F!==(F=e[1].lbds+"")&&w(L,F),1&r&&Q!==(Q=e[1].seed+"")&&w(H,Q),e[0][e[3]+1]&&e[0][e[3]+1].group!=e[1].group?V||(V=Qr(),V.c(),V.m(D.parentNode,D)):V&&(V.d(1),V=null)},d(e){e&&p(t),K&&K.d(),e&&p(R),V&&V.d(e),e&&p(D)}}}function Vr(t){let n,r,s;function l(e,t){return e[0]?Ir:Yr}let a=l(t),i=a(t);return{c(){n=f("div"),n.innerHTML='<a href="#/groups">Groups matches</a> \n  <a href="#/groups!maps">Rankings per map</a> \n  <a href="#/groups!rolls">Roll leaderboard</a>',r=h(),i.c(),s=g(),v(n,"class","links svelte-10wq7a2")},m(e,t){u(e,n,t),u(e,r,t),i.m(e,t),u(e,s,t)},p(e,[t]){a===(a=l(e))&&i?i.p(e,t):(i.d(1),i=a(e),i&&(i.c(),i.m(s.parentNode,s)))},i:e,o:e,d(e){e&&p(n),e&&p(r),i.d(e),e&&p(s)}}}function Xr(e,t,n){let r;return a(e,Jr,(e=>n(0,r=e))),r||(async()=>{const e=await fetch("/data/groups-results.json"),t=await e.json();let n=1;t.forEach(((e,r)=>{var s;n<3&&(e.qualified=!0),n=(null===(s=t[r+1])||void 0===s?void 0:s.group)!=e.group?1:n+1})),Jr.set(t)})(),[r]}class Zr extends Z{constructor(e){super(),X(this,e,Xr,Vr,l,{})}}function es(e,t,n){const r=e.slice();return r[6]=t[n].commentator,r[8]=n,r}function ts(e){let t,n,r=e[0].id+"";return{c(){t=m("M"),n=m(r)},m(e,r){u(e,t,r),u(e,n,r)},p(e,t){1&t&&r!==(r=e[0].id+"")&&w(n,r)},d(e){e&&p(t),e&&p(n)}}}function ns(e){let t,n,r,s,l=e[0].id+"";return{c(){t=f("a"),n=m("M"),r=m(l),v(t,"href",s=e[0].link),v(t,"target","_blank"),v(t,"rel","noopener")},m(e,s){u(e,t,s),c(t,n),c(t,r)},p(e,n){1&n&&l!==(l=e[0].id+"")&&w(r,l),1&n&&s!==(s=e[0].link)&&v(t,"href",s)},d(e){e&&p(t)}}}function rs(t){let n;return{c(){n=m("To be defined")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function ss(e){let t,n,r,s=e[0].referee.username+"";return{c(){t=f("a"),n=m(s),v(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].referee.username+"")&&w(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&v(t,"href",r)},d(e){e&&p(t)}}}function ls(e){let t,n,r,s,l,a,i=e[0].streamer.username+"";return{c(){t=m("-\r\n        "),n=f("b"),n.textContent="Streamer",r=m(":\r\n        "),s=f("a"),l=m(i),v(s,"href",a=`https://osu.ppy.sh/users/${e[0].streamer.id}`)},m(e,a){u(e,t,a),u(e,n,a),u(e,r,a),u(e,s,a),c(s,l)},p(e,t){1&t&&i!==(i=e[0].streamer.username+"")&&w(l,i),1&t&&a!==(a=`https://osu.ppy.sh/users/${e[0].streamer.id}`)&&v(s,"href",a)},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s)}}}function as(e){let t,n,r,s,l=e[0].commentators,a=[];for(let t=0;t<l.length;t+=1)a[t]=is(es(e,l,t));return{c(){t=m("-\r\n        "),n=f("b"),n.textContent="Commentators",r=m(":\r\n        ");for(let e=0;e<a.length;e+=1)a[e].c();s=g()},m(e,l){u(e,t,l),u(e,n,l),u(e,r,l);for(let t=0;t<a.length;t+=1)a[t].m(e,l);u(e,s,l)},p(e,t){if(1&t){let n;for(l=e[0].commentators,n=0;n<l.length;n+=1){const r=es(e,l,n);a[n]?a[n].p(r,t):(a[n]=is(r),a[n].c(),a[n].m(s.parentNode,s))}for(;n<a.length;n+=1)a[n].d(1);a.length=l.length}},d(e){e&&p(t),e&&p(n),e&&p(r),d(a,e),e&&p(s)}}}function is(e){let t,n,r,s,l=e[6].username+"",a=e[8]&&function(e){let t;return{c(){t=m(",")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}();return{c(){a&&a.c(),t=h(),n=f("a"),r=m(l),v(n,"href",s=`https://osu.ppy.sh/users/${e[6].id}`)},m(e,s){a&&a.m(e,s),u(e,t,s),u(e,n,s),c(n,r)},p(e,t){1&t&&l!==(l=e[6].username+"")&&w(r,l),1&t&&s!==(s=`https://osu.ppy.sh/users/${e[6].id}`)&&v(n,"href",s)},d(e){a&&a.d(e),e&&p(t),e&&p(n)}}}function os(t){let n,r,s,l,a,i,o,d,g,y,b,x,S,q,C,T,_,O,j,z,M,N,P,L,A,G,H,R,D,U,E,B,J,W,I,Y,F,Q,K,V,X,Z,ee,te,ne,re,se,le,ae=t[1].toDateString()+"",ie=t[1].toTimeString().replace(":00 GMT"," UTC")+"",oe=t[1].toUTCString().replace(":00 GMT"," UTC+0")+"",ce=t[3].username+"",ue=t[3].seed+"",pe=t[4].username+"",de=t[4].seed+"",fe=(t[0].points1||0)+"",me=(t[0].points2||0)+"";function he(e,t){return e[0].link?ns:ts}let ge=he(t),$e=ge(t);function ve(e,t){return e[0].referee?ss:rs}let ye=ve(t),we=ye(t),be=t[0].streamer&&ls(t),ke=t[0].commentators.length&&as(t);return{c(){n=f("div"),r=f("div"),$e.c(),s=h(),l=f("div"),a=f("div"),i=f("b"),o=m(ae),d=h(),g=m(ie),y=h(),b=f("div"),x=m(oe),S=h(),q=f("div"),C=f("b"),C.textContent="Referee",T=m(":\r\n      "),we.c(),_=h(),be&&be.c(),O=h(),ke&&ke.c(),j=h(),z=f("div"),M=f("div"),N=f("img"),L=h(),A=f("a"),G=m(ce),H=m(" (#"),R=m(ue),D=m(")"),U=h(),E=f("div"),E.textContent="vs.",B=h(),J=f("div"),W=f("img"),Y=h(),F=f("a"),Q=m(pe),K=m(" (#"),V=m(de),X=m(")"),Z=h(),ee=f("div"),te=m(fe),ne=m(" - "),re=m(me),v(r,"class","name svelte-1tuxpxq"),v(b,"class","utc svelte-1tuxpxq"),v(a,"class","time svelte-1tuxpxq"),v(q,"class","staff svelte-1tuxpxq"),v(N,"alt",""),N.src!==(P=t[3].avatar)&&v(N,"src",P),v(N,"class","svelte-1tuxpxq"),v(A,"href",`https://osu.ppy.sh/users/${t[3].id}`),v(M,"class","player svelte-1tuxpxq"),v(E,"class","vs svelte-1tuxpxq"),v(W,"alt",""),W.src!==(I=t[4].avatar)&&v(W,"src",I),v(W,"class","svelte-1tuxpxq"),v(F,"href",`https://osu.ppy.sh/users/${t[4].id}`),v(J,"class","player svelte-1tuxpxq"),v(z,"class","players svelte-1tuxpxq"),v(l,"class","body svelte-1tuxpxq"),v(ee,"class","score svelte-1tuxpxq"),v(n,"class","match svelte-1tuxpxq"),k(n,"my-match",t[2]?.id==t[3].id||t[2]?.id==t[4].id)},m(e,p){u(e,n,p),c(n,r),$e.m(r,null),c(n,s),c(n,l),c(l,a),c(a,i),c(i,o),c(i,d),c(i,g),c(a,y),c(a,b),c(b,x),c(l,S),c(l,q),c(q,C),c(q,T),we.m(q,null),c(q,_),be&&be.m(q,null),c(q,O),ke&&ke.m(q,null),c(l,j),c(l,z),c(z,M),c(M,N),c(M,L),c(M,A),c(A,G),c(A,H),c(A,R),c(A,D),c(z,U),c(z,E),c(z,B),c(z,J),c(J,W),c(J,Y),c(J,F),c(F,Q),c(F,K),c(F,V),c(F,X),c(n,Z),c(n,ee),c(ee,te),c(ee,ne),c(ee,re),se||(le=$(n,"click",t[5]),se=!0)},p(e,[t]){ge===(ge=he(e))&&$e?$e.p(e,t):($e.d(1),$e=ge(e),$e&&($e.c(),$e.m(r,null))),2&t&&ae!==(ae=e[1].toDateString()+"")&&w(o,ae),2&t&&ie!==(ie=e[1].toTimeString().replace(":00 GMT"," UTC")+"")&&w(g,ie),2&t&&oe!==(oe=e[1].toUTCString().replace(":00 GMT"," UTC+0")+"")&&w(x,oe),ye===(ye=ve(e))&&we?we.p(e,t):(we.d(1),we=ye(e),we&&(we.c(),we.m(q,_))),e[0].streamer?be?be.p(e,t):(be=ls(e),be.c(),be.m(q,O)):be&&(be.d(1),be=null),e[0].commentators.length?ke?ke.p(e,t):(ke=as(e),ke.c(),ke.m(q,null)):ke&&(ke.d(1),ke=null),1&t&&fe!==(fe=(e[0].points1||0)+"")&&w(te,fe),1&t&&me!==(me=(e[0].points2||0)+"")&&w(re,me),28&t&&k(n,"my-match",e[2]?.id==e[3].id||e[2]?.id==e[4].id)},i:e,o:e,d(e){e&&p(n),$e.d(),we.d(),be&&be.d(),ke&&ke.d(),se=!1,le()}}}function cs(e,t,n){let r,s;a(e,re,(e=>n(2,s=e)));let{match:l}=t;const[i,o]=l.players.map((({player:e})=>e));return e.$$set=e=>{"match"in e&&n(0,l=e.match)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=new Date(l.time))},[l,r,s,i,o,function(t){C(e,t)}]}class us extends Z{constructor(e){super(),X(this,e,cs,os,l,{match:0})}}const ps=te(null),ds=te(null),fs=te(null),{Map:ms}=J;function hs(e,t,n){const r=e.slice();return r[6]=t[n],r[8]=n,r}function gs(e,t,n){const r=e.slice();return r[9]=t[n],r}function $s(e,t,n){const r=e.slice();return r[6]=t[n],r}function vs(e){let t,n,r,s,l=[],a=new ms,i=e[1];const o=e=>e[6].id;for(let t=0;t<i.length;t+=1){let n=$s(e,i,t),r=o(n);a.set(r,l[t]=ys(r,n))}return{c(){t=f("div"),t.innerHTML="You have matches for this stage!<br/>\n  You can find the list of your own matches just below.",n=h(),r=f("div");for(let e=0;e<l.length;e+=1)l[e].c();v(t,"class","intro svelte-jcr45l"),v(r,"class","matches svelte-jcr45l")},m(e,a){u(e,t,a),u(e,n,a),u(e,r,a);for(let e=0;e<l.length;e+=1)l[e].m(r,null);s=!0},p(e,t){2&t&&(i=e[1],D(),l=Y(l,t,o,1,e,i,a,r,I,ys,null,$s),U())},i(e){if(!s){for(let e=0;e<i.length;e+=1)E(l[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)B(l[e]);s=!1},d(e){e&&p(t),e&&p(n),e&&p(r);for(let e=0;e<l.length;e+=1)l[e].d()}}}function ys(e,t){let n,r,s;return r=new us({props:{match:t[6]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.match=t[6]),r.$set(s)},i(e){s||(E(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function ws(e){let t,n,r,s,l=[],a=new ms,i=[],o=new ms,c=e[3];const d=e=>e[9].id;for(let t=0;t<c.length;t+=1){let n=gs(e,c,t),r=d(n);a.set(r,l[t]=ks(r,n))}let m=e[2];const g=e=>e[6].id;for(let t=0;t<m.length;t+=1){let n=hs(e,m,t),r=g(n);o.set(r,i[t]=xs(r,n))}return{c(){t=f("div");for(let e=0;e<l.length;e+=1)l[e].c();n=h(),r=f("div");for(let e=0;e<i.length;e+=1)i[e].c();v(t,"class","maps svelte-jcr45l"),v(r,"class","matches svelte-jcr45l")},m(e,a){u(e,t,a);for(let e=0;e<l.length;e+=1)l[e].m(t,null);u(e,n,a),u(e,r,a);for(let e=0;e<i.length;e+=1)i[e].m(r,null);s=!0},p(e,n){8&n&&(c=e[3],D(),l=Y(l,n,d,1,e,c,a,t,I,ks,null,gs),U()),4&n&&(m=e[2],D(),i=Y(i,n,g,1,e,m,o,r,I,xs,null,hs),U())},i(e){if(!s){for(let e=0;e<c.length;e+=1)E(l[e]);for(let e=0;e<m.length;e+=1)E(i[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)B(l[e]);for(let e=0;e<i.length;e+=1)B(i[e]);s=!1},d(e){e&&p(t);for(let e=0;e<l.length;e+=1)l[e].d();e&&p(n),e&&p(r);for(let e=0;e<i.length;e+=1)i[e].d()}}}function bs(t){let n;return{c(){n=f("div"),n.textContent="Loading matches...",v(n,"class","matches svelte-jcr45l")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function ks(e,t){let n,r,s;return r=new Yt({props:{map:t[9]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.map=t[9]),r.$set(s)},i(e){s||(E(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function xs(e,t){let n,r,s;return r=new us({props:{match:t[6]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};4&n&&(s.match=t[6]),r.$set(s)},i(e){s||(E(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function Ss(e){let t,n,r,s,l,a,i,o,d,$,y,w,b,k,x=e[1]?.length&&vs(e);const S=[bs,ws],q=[];function C(e,t){return e[2]?1:0}return y=C(e),w=q[y]=S[y](e),{c(){t=f("div"),n=f("a"),r=m("Rankings per map"),l=h(),a=f("a"),i=m("Roll leaderboard"),d=h(),x&&x.c(),$=h(),w.c(),b=g(),v(n,"href",s=`#/${e[0]}!maps`),v(a,"href",o=`#/${e[0]}!rolls`),v(t,"class","links svelte-jcr45l")},m(e,s){u(e,t,s),c(t,n),c(n,r),c(t,l),c(t,a),c(a,i),u(e,d,s),x&&x.m(e,s),u(e,$,s),q[y].m(e,s),u(e,b,s),k=!0},p(e,[t]){(!k||1&t&&s!==(s=`#/${e[0]}!maps`))&&v(n,"href",s),(!k||1&t&&o!==(o=`#/${e[0]}!rolls`))&&v(a,"href",o),e[1]?.length?x?(x.p(e,t),2&t&&E(x,1)):(x=vs(e),x.c(),E(x,1),x.m($.parentNode,$)):x&&(D(),B(x,1,1,(()=>{x=null})),U());let r=y;y=C(e),y===r?q[y].p(e,t):(D(),B(q[r],1,1,(()=>{q[r]=null})),U(),w=q[y],w?w.p(e,t):(w=q[y]=S[y](e),w.c()),E(w,1),w.m(b.parentNode,b))},i(e){k||(E(x),E(w),k=!0)},o(e){B(x),B(w),k=!1},d(e){e&&p(t),e&&p(d),x&&x.d(e),e&&p($),q[y].d(e),e&&p(b)}}}function qs(e,t,n){let r,s,l;var i;a(e,ds,(e=>n(2,r=e))),a(e,re,(e=>n(5,s=e))),a(e,fs,(e=>n(3,l=e)));let o,{stage:c}=t;return r||(async e=>{ps.set(e),ds.set(null),fs.set(null);const{data:t}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'query GetMatches($stage: String!) {\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: $stage\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  matches(\n    filter: {\n      stage: {\n        slug: {\n          _eq: $stage\n        }\n      }\n    }\n    sort: "time"\n    limit: -1\n  ) {\n    id\n    link\n    players {\n      player: players_id {\n        id\n        username\n        avatar\n        seed\n      }\n    }\n    time\n    referee {\n      id\n      username\n    }\n    streamer {\n      id\n      username\n    }\n    commentators {\n      commentator: commentators_id {\n        id\n        username\n      }\n    }\n\n    rolls {\n      id\n      player { id username }\n      value\n    }\n    protects {\n      id\n      player { id username }\n      map { id name category }\n    }\n    bans {\n      id\n      player { id username }\n      map { id name category }\n    }\n    picks {\n      id\n      player { id username }\n      map { id name category }\n    }\n\n    scores {\n      id\n      player { id }\n      map { id }\n      score\n    }\n    wbd {\n      id\n    }\n  }\n}',variables:{stage:e}})});t.matches.forEach((e=>{e.players=e.players[0].player.seed<e.players[1].player.seed?e.players:e.players.reverse(),e.wbd?(e.points1=e.wbd.id==e.players[0].player.id?"WBD":0,e.points2=e.wbd.id==e.players[1].player.id?"WBD":0):(e.points1=0,e.points2=0,e.picks.forEach((t=>{var n,r;let s=e.scores.filter((e=>e.map.id==t.map.id))||[];1==s.length&&s.push(Object.assign(Object.assign({},s[0]),{player:e.players[(null===(n=s[0])||void 0===n?void 0:n.player.id)==e.players[0].player.id?1:0].player,score:0})),(null===(r=s[0])||void 0===r?void 0:r.player.id)!=e.players[0].player.id&&(s=s.reverse());const[l,a]=s;l&&a&&(l.score>a.score?e.points1+=1:e.points2+=1)})))})),ds.set(t.matches),fs.set(t.maps)})(c),e.$$set=e=>{"stage"in e&&n(0,c=e.stage)},e.$$.update=()=>{54&e.$$.dirty&&r&&(null===n(4,i=null==s?void 0:s.player)||void 0===i?void 0:i.group)&&!o&&n(1,o=r.filter((e=>e.players.find((({player:e})=>e.id==s.id)))))},[c,o,r,l,i,s]}class Cs extends Z{constructor(e){super(),X(this,e,qs,Ss,l,{stage:0})}}const Ts=te(null),_s=te(null),{Map:Os}=J;function js(e,t,n){const r=e.slice();return r[7]=t[n],r}function zs(e,t,n){const r=e.slice();return r[10]=t[n],r}function Ms(e){let t,n,r;return{c(){t=f("a"),n=m("Matches"),v(t,"href",r=`#/${e[0]}`)},m(e,r){u(e,t,r),c(t,n)},p(e,n){1&n&&r!==(r=`#/${e[0]}`)&&v(t,"href",r)},d(e){e&&p(t)}}}function Ns(t){let n,r,s;return{c(){n=f("a"),n.textContent="Groups matches",r=h(),s=f("a"),s.textContent="Groups results",v(n,"href","#/groups"),v(s,"href","#/groups!results")},m(e,t){u(e,n,t),u(e,r,t),u(e,s,t)},p:e,d(e){e&&p(n),e&&p(r),e&&p(s)}}}function Ps(e){let t,n,r=[],s=new Os,l=e[1];const a=e=>e[7].id;for(let t=0;t<l.length;t+=1){let n=js(e,l,t),i=a(n);s.set(i,r[t]=Hs(i,n))}return{c(){t=f("p");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","maps svelte-1xsxcbi")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){14&n&&(l=e[1],D(),r=Y(r,n,a,1,e,l,s,t,I,Hs,null,js),U())},i(e){if(!n){for(let e=0;e<l.length;e+=1)E(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Ls(t){let n;return{c(){n=f("p"),n.textContent="Loading scores...",v(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function As(e){let t,n,r=[],s=new Os,l=Array.from(e[7].players.values());const a=e=>e[10].id;for(let t=0;t<l.length;t+=1){let n=zs(e,l,t),i=a(n);s.set(i,r[t]=Gs(i,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);u(e,t,s),n=!0},p(e,n){2&n&&(l=Array.from(e[7].players.values()),D(),r=Y(r,n,a,1,e,l,s,t.parentNode,I,Gs,t,zs),U())},i(e){if(!n){for(let e=0;e<l.length;e+=1)E(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&p(t)}}}function Gs(e,t){let n,r,s;return r=new dn({props:{player:t[10],score:t[10].mapScores.get(t[7].id)[0]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.player=t[10]),2&n&&(s.score=t[10].mapScores.get(t[7].id)[0]),r.$set(s)},i(e){s||(E(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function Hs(e,t){let n,r,s,l,a,i,o,d,y,b,k,x,S,q,C,T,_,O,j,z,M,N,P,L,A,G,H=t[7].protects.length+"",R=t[7].protects.map(Ds).join(", ")+"",J=t[7].bans.length+"",W=t[7].bans.map(Us).join(", ")+"",I=t[2][t[7].id]?"Show":"Hide";function Y(){return t[6](t[7])}r=new Yt({props:{map:t[7]}});let V=!t[2][t[7].id]&&As(t);return{key:e,first:null,c(){n=g(),F(r.$$.fragment),s=h(),l=f("div"),a=f("b"),i=m(H),o=m(" protects: "),d=m(R),y=f("br"),b=h(),k=f("div"),x=f("b"),S=m(J),q=m(" bans: "),C=m(W),T=h(),_=f("br"),O=h(),j=f("a"),z=m(I),M=m(" scores"),N=h(),V&&V.c(),P=g(),v(l,"class","protects svelte-1xsxcbi"),v(k,"class","bans svelte-1xsxcbi"),v(j,"href","javascript:void(0)"),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),u(e,s,t),u(e,l,t),c(l,a),c(a,i),c(l,o),c(l,d),c(l,y),u(e,b,t),u(e,k,t),c(k,x),c(x,S),c(k,q),c(k,C),u(e,T,t),u(e,_,t),u(e,O,t),u(e,j,t),c(j,z),c(j,M),u(e,N,t),V&&V.m(e,t),u(e,P,t),L=!0,A||(G=$(j,"click",Y),A=!0)},p(e,n){t=e;const s={};2&n&&(s.map=t[7]),r.$set(s),(!L||2&n)&&H!==(H=t[7].protects.length+"")&&w(i,H),(!L||2&n)&&R!==(R=t[7].protects.map(Ds).join(", ")+"")&&w(d,R),(!L||2&n)&&J!==(J=t[7].bans.length+"")&&w(S,J),(!L||2&n)&&W!==(W=t[7].bans.map(Us).join(", ")+"")&&w(C,W),(!L||6&n)&&I!==(I=t[2][t[7].id]?"Show":"Hide")&&w(z,I),t[2][t[7].id]?V&&(D(),B(V,1,1,(()=>{V=null})),U()):V?(V.p(t,n),6&n&&E(V,1)):(V=As(t),V.c(),E(V,1),V.m(P.parentNode,P))},i(e){L||(E(r.$$.fragment,e),E(V),L=!0)},o(e){B(r.$$.fragment,e),B(V),L=!1},d(e){e&&p(n),K(r,e),e&&p(s),e&&p(l),e&&p(b),e&&p(k),e&&p(T),e&&p(_),e&&p(O),e&&p(j),e&&p(N),V&&V.d(e),e&&p(P),A=!1,G()}}}function Rs(e){let t,n,r,s,l,a,i,o,d,$;function y(e,t){return"groups"==e[0]?Ns:Ms}let w=y(e),b=w(e);const k=[Ls,Ps],x=[];function S(e,t){return e[1]?1:0}return i=S(e),o=x[i]=k[i](e),{c(){t=f("div"),b.c(),n=h(),r=f("a"),s=m("Roll leaderboard"),a=h(),o.c(),d=g(),v(r,"href",l=`#/${e[0]}!rolls`),v(t,"class","links svelte-1xsxcbi")},m(e,l){u(e,t,l),b.m(t,null),c(t,n),c(t,r),c(r,s),u(e,a,l),x[i].m(e,l),u(e,d,l),$=!0},p(e,[s]){w===(w=y(e))&&b?b.p(e,s):(b.d(1),b=w(e),b&&(b.c(),b.m(t,n))),(!$||1&s&&l!==(l=`#/${e[0]}!rolls`))&&v(r,"href",l);let a=i;i=S(e),i===a?x[i].p(e,s):(D(),B(x[a],1,1,(()=>{x[a]=null})),U(),o=x[i],o?o.p(e,s):(o=x[i]=k[i](e),o.c()),E(o,1),o.m(d.parentNode,d))},i(e){$||(E(o),$=!0)},o(e){B(o),$=!1},d(e){e&&p(t),b.d(),e&&p(a),x[i].d(e),e&&p(d)}}}const Ds=e=>e.player.username,Us=e=>e.player.username;function Es(e,t,n){let r,s,l;a(e,Ts,(e=>n(4,r=e))),a(e,_s,(e=>n(1,s=e))),a(e,se,(e=>n(5,l=e)));let{stage:i}=t,o={};const c=e=>{n(2,o=Object.assign(Object.assign({},o),{[e.id]:!o[e.id]}))};return e.$$set=e=>{"stage"in e&&n(0,i=e.stage)},e.$$.update=()=>{51&e.$$.dirty&&(r==i&&s||!l||(async(e,t)=>{var n;Ts.set(e),_s.set(null);const{data:r}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'query GetScores($stage: String!) {\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: $stage\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n    bans {\n      player {\n        username\n      }\n    }\n    protects {\n      player {\n        username\n      }\n    }\n  }\n  scores(sort: "-score", limit: -1) {\n    player {\n      id\n    }\n    map {\n      id\n    }\n    match {\n      id\n      link\n    }\n    score\n    combo\n    c320\n    c300\n    c200\n    c100\n    c50\n    c0\n  }\n}',variables:{stage:e}})}),s=new Map(r.maps.map((e=>[e.id,Object.assign(Object.assign({},e),{players:new Map})]))),l=new Map(t.map((e=>[e.id,Object.assign(Object.assign({},e),{mapScores:new Map(r.maps.map((e=>[e.id,[]])))})])));r.scores.forEach((e=>{var t;let n;if(n=l.get(null===(t=e.player)||void 0===t?void 0:t.id)){if(!s.has(e.map.id))return;n.mapScores.get(e.map.id).push(e);const t=s.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,n)}}));for(const e of s.values()){const t=Array.from(e.players.values());for(let r=0;r<t.length;++r){const s=t[r].mapScores.get(e.id)[0],l=null===(n=t[r-1])||void 0===n?void 0:n.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}_s.set(Array.from(s.values()))})(i,l))},[i,s,o,c,r,l,e=>c(e)]}class Bs extends Z{constructor(e){super(),X(this,e,Es,Rs,l,{stage:0})}}const Js=te(null),Ws=te(null);function Is(e,t,n){const r=e.slice();return r[3]=t[n],r}function Ys(e){let t,n,r;return{c(){t=f("a"),n=m("Matches"),v(t,"href",r=`#/${e[0]}`)},m(e,r){u(e,t,r),c(t,n)},p(e,n){1&n&&r!==(r=`#/${e[0]}`)&&v(t,"href",r)},d(e){e&&p(t)}}}function Fs(t){let n,r,s;return{c(){n=f("a"),n.textContent="Groups matches",r=h(),s=f("a"),s.textContent="Groups results",v(n,"href","#/groups"),v(s,"href","#/groups!results")},m(e,t){u(e,n,t),u(e,r,t),u(e,s,t)},p:e,d(e){e&&p(n),e&&p(r),e&&p(s)}}}function Qs(e){let t,n,r,s=e[1],l=[];for(let t=0;t<s.length;t+=1)l[t]=Vs(Is(e,s,t));return{c(){t=f("div"),t.innerHTML='<div class="player svelte-gqvsl7">Player</div> \n    <div class="cell svelte-gqvsl7">Roll</div>',n=h();for(let e=0;e<l.length;e+=1)l[e].c();r=g(),v(t,"class","row header svelte-gqvsl7")},m(e,s){u(e,t,s),u(e,n,s);for(let t=0;t<l.length;t+=1)l[t].m(e,s);u(e,r,s)},p(e,t){if(2&t){let n;for(s=e[1],n=0;n<s.length;n+=1){const a=Is(e,s,n);l[n]?l[n].p(a,t):(l[n]=Vs(a),l[n].c(),l[n].m(r.parentNode,r))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}},d(e){e&&p(t),e&&p(n),d(l,e),e&&p(r)}}}function Ks(t){let n;return{c(){n=m("Loading rolls...")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Vs(e){let t,n,r,s,l,a,i,o,d,g=e[3].player.username+"",$=e[3].value+"";return{c(){t=f("div"),n=f("div"),r=f("a"),s=m(g),a=h(),i=f("div"),o=m($),d=h(),v(r,"href",l=`https://osu.ppy.sh/users/${e[3].player.id}`),v(r,"target","_blank"),v(r,"rel","noopener"),v(n,"class","player svelte-gqvsl7"),v(i,"class","cell svelte-gqvsl7"),v(t,"class","row svelte-gqvsl7")},m(e,l){u(e,t,l),c(t,n),c(n,r),c(r,s),c(t,a),c(t,i),c(i,o),c(t,d)},p(e,t){2&t&&g!==(g=e[3].player.username+"")&&w(s,g),2&t&&l!==(l=`https://osu.ppy.sh/users/${e[3].player.id}`)&&v(r,"href",l),2&t&&$!==($=e[3].value+"")&&w(o,$)},d(e){e&&p(t)}}}function Xs(t){let n,r,s,l,a,i,o;function d(e,t){return"groups"==e[0]?Fs:Ys}let $=d(t),y=$(t);function w(e,t){return e[1]?Qs:Ks}let b=w(t),k=b(t);return{c(){n=f("div"),y.c(),r=h(),s=f("a"),l=m("Rankings per map"),i=h(),k.c(),o=g(),v(s,"href",a=`#/${t[0]}!maps`),v(n,"class","links svelte-gqvsl7")},m(e,t){u(e,n,t),y.m(n,null),c(n,r),c(n,s),c(s,l),u(e,i,t),k.m(e,t),u(e,o,t)},p(e,[t]){$===($=d(e))&&y?y.p(e,t):(y.d(1),y=$(e),y&&(y.c(),y.m(n,r))),1&t&&a!==(a=`#/${e[0]}!maps`)&&v(s,"href",a),b===(b=w(e))&&k?k.p(e,t):(k.d(1),k=b(e),k&&(k.c(),k.m(o.parentNode,o)))},i:e,o:e,d(e){e&&p(n),y.d(),e&&p(i),k.d(e),e&&p(o)}}}function Zs(e,t,n){let r,s;a(e,Ws,(e=>n(1,r=e))),a(e,Js,(e=>n(2,s=e)));let{stage:l}=t;return r&&s==l||(async e=>{const{data:t}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'query GetRolls($stage: String!) {\n  rolls(\n    filter: {\n      match: {\n        stage: {\n          slug: {\n            _eq: $stage\n          }\n        }\n      }\n    }\n    sort: "-value"\n    limit: -1\n  ) {\n    player {\n      id\n      username\n    }\n    value\n  }\n}',variables:{stage:e}})});Ws.set(t.rolls)})(l),e.$$set=e=>{"stage"in e&&n(0,l=e.stage)},[l,r]}class el extends Z{constructor(e){super(),X(this,e,Zs,Xs,l,{stage:0})}}function tl(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function nl(e,t,n){const r=e.slice();return r[14]=t[n],r}function rl(e,t,n){const r=e.slice();return r[17]=t[n],r[13]=n,r}function sl(e,t,n){const r=e.slice();return r[14]=t[n],r[20]=n,r}function ll(e){let t,n,r=e[14].username+"";return{c(){t=f("div"),n=m(r),v(t,"class","player")},m(e,r){u(e,t,r),c(t,n)},p(e,t){1&t&&r!==(r=e[14].username+"")&&w(n,r)},d(e){e&&p(t)}}}function al(e){let t,n,r,s,l,a,i=e[13]+1+"",o=e[17],g=[];for(let t=0;t<o.length;t+=1)g[t]=ll(sl(e,o,t));return{c(){t=f("div"),n=f("h3"),r=m("Group "),s=m(i),l=h();for(let e=0;e<g.length;e+=1)g[e].c();a=h(),v(t,"class","group svelte-c6gifs"),k(t,"active",e[2]==e[13])},m(e,i){u(e,t,i),c(t,n),c(n,r),c(n,s),c(t,l);for(let e=0;e<g.length;e+=1)g[e].m(t,null);c(t,a)},p(e,n){if(1&n){let r;for(o=e[17],r=0;r<o.length;r+=1){const s=sl(e,o,r);g[r]?g[r].p(s,n):(g[r]=ll(s),g[r].c(),g[r].m(t,a))}for(;r<g.length;r+=1)g[r].d(1);g.length=o.length}4&n&&k(t,"active",e[2]==e[13])},d(e){e&&p(t),d(g,e)}}}function il(e){let t,n;return t=new An({props:{position:e[1].position,player:e[1],maps:e[4]}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.position=e[1].position),2&n&&(r.player=e[1]),16&n&&(r.maps=e[4]),t.$set(r)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function ol(e){let t;return{c(){t=m("Roll")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function cl(e,t){let n,r;return{key:e,first:null,c(){n=f("img"),v(n,"alt",""),n.src!==(r=t[14].avatar)&&v(n,"src",r),v(n,"class","svelte-c6gifs"),this.first=n},m(e,t){u(e,n,t)},p(e,s){t=e,8&s&&n.src!==(r=t[14].avatar)&&v(n,"src",r)},d(e){e&&p(n)}}}function ul(e){let t,n,r,s,l,a,i=["Top","High","Low","Bottom"][e[13]]+"",o=[],d=new Map,g=e[11];const $=e=>e[14].id;for(let t=0;t<g.length;t+=1){let n=nl(e,g,t),r=$(n);d.set(r,o[t]=cl(r,n))}return{c(){t=f("div"),n=f("h3"),r=m(i),s=m(" seed"),l=h();for(let e=0;e<o.length;e+=1)o[e].c();a=h(),v(t,"class","seed svelte-c6gifs")},m(e,i){u(e,t,i),c(t,n),c(n,r),c(n,s),c(t,l);for(let e=0;e<o.length;e+=1)o[e].m(t,null);c(t,a)},p(e,n){8&n&&(g=e[11],o=Y(o,n,$,1,e,g,d,t,W,cl,a,nl))},d(e){e&&p(t);for(let e=0;e<o.length;e+=1)o[e].d()}}}function pl(e){let t,n,r,s,l,a,i,o,g,y,b,k,x,S,q,C,T,_=e[2]+1+"",O=e[0],j=[];for(let t=0;t<O.length;t+=1)j[t]=al(rl(e,O,t));let z=e[1]&&il(e);y=new qe({props:{$$slots:{default:[ol]},$$scope:{ctx:e}}}),y.$on("click",e[5]);let M=e[3],N=[];for(let t=0;t<M.length;t+=1)N[t]=ul(tl(e,M,t));return{c(){t=f("div");for(let e=0;e<j.length;e+=1)j[e].c();n=h(),r=f("div"),s=m("Current group: "),l=f("b"),a=m("Group "),i=m(_),o=h(),z&&z.c(),g=h(),F(y.$$.fragment),b=h(),k=f("div");for(let e=0;e<N.length;e+=1)N[e].c();x=h(),S=f("button"),S.textContent="panic",v(t,"class","groups svelte-c6gifs"),v(r,"class","spotlight svelte-c6gifs"),v(k,"class","seeds svelte-c6gifs")},m(p,d){u(p,t,d);for(let e=0;e<j.length;e+=1)j[e].m(t,null);u(p,n,d),u(p,r,d),c(r,s),c(r,l),c(l,a),c(l,i),c(r,o),z&&z.m(r,null),c(r,g),Q(y,r,null),u(p,b,d),u(p,k,d);for(let e=0;e<N.length;e+=1)N[e].m(k,null);u(p,x,d),u(p,S,d),q=!0,C||(T=$(S,"click",e[9]),C=!0)},p(e,[n]){if(5&n){let r;for(O=e[0],r=0;r<O.length;r+=1){const s=rl(e,O,r);j[r]?j[r].p(s,n):(j[r]=al(s),j[r].c(),j[r].m(t,null))}for(;r<j.length;r+=1)j[r].d(1);j.length=O.length}(!q||4&n)&&_!==(_=e[2]+1+"")&&w(i,_),e[1]?z?(z.p(e,n),2&n&&E(z,1)):(z=il(e),z.c(),E(z,1),z.m(r,g)):z&&(D(),B(z,1,1,(()=>{z=null})),U());const s={};if(2097152&n&&(s.$$scope={dirty:n,ctx:e}),y.$set(s),8&n){let t;for(M=e[3],t=0;t<M.length;t+=1){const r=tl(e,M,t);N[t]?N[t].p(r,n):(N[t]=ul(r),N[t].c(),N[t].m(k,null))}for(;t<N.length;t+=1)N[t].d(1);N.length=M.length}},i(e){q||(E(z),E(y.$$.fragment,e),q=!0)},o(e){B(z),B(y.$$.fragment,e),q=!1},d(e){e&&p(t),d(j,e),e&&p(n),e&&p(r),z&&z.d(),K(y),e&&p(b),e&&p(k),d(N,e),e&&p(x),e&&p(S),C=!1,T()}}}function dl(e,t,n){let r,s,l,i;a(e,mn,(e=>n(7,s=e))),a(e,se,(e=>n(8,l=e))),a(e,fn,(e=>n(4,i=e)));let o,c=new Array(32).fill(0).map((()=>[{id:"",username:"-"},{id:"",username:"-"},{id:"",username:"-"},{id:"",username:"-"}])),u=new Set,p=0;q((()=>{const e=localStorage.getItem("groups");e&&n(0,c=JSON.parse(e));const t=localStorage.getItem("selectedPlayers");if(t){JSON.parse(t).forEach((e=>u.add(e)))}}));return e.$$.update=()=>{384&e.$$.dirty&&!s&&l&&vn(l),192&e.$$.dirty&&n(3,r=s?[s.slice(0,32).filter((e=>!u.has(e.id))),s.slice(32,64).filter((e=>!u.has(e.id))),s.slice(64,96).filter((e=>!u.has(e.id))),s.slice(96,128).filter((e=>!u.has(e.id)))]:[])},[c,o,p,r,i,()=>{const e=r.find((e=>e.length)),t=e[Math.random()*e.length>>0];n(1,o=t),n(6,u=new Set([...u,t.id])),n(0,c[p][c[p].findIndex((e=>"-"==e.username))]={id:t.id,username:t.username},c),localStorage.setItem("groups",JSON.stringify(c)),localStorage.setItem("selectedPlayers",JSON.stringify(Array.from(u.values()))),n(2,p=31==p?0:p+1)},u,s,l,()=>{localStorage.clear()}]}class fl extends Z{constructor(e){super(),X(this,e,dl,pl,l,{})}}function ml(t){let n;return{c(){n=f("textarea"),n.readOnly=!0,n.value=t[0],v(n,"class","svelte-1you0l4")},m(e,t){u(e,n,t)},p(e,[t]){1&t&&(n.value=e[0])},i:e,o:e,d(e){e&&p(n)}}}function hl(e,t,n){let r,{match:s}=t;const l=(e,t)=>t?`**${e}**`:e;return e.$$set=e=>{"match"in e&&n(1,s=e.match)},e.$$.update=()=>{2&e.$$.dirty&&n(0,r=`Group Stage G${s.players[0].player.group.id}-${s.id}\n${l(`${s.players[0].player.username} ${s.points1}`,4==s.points1)} | ${l(`${s.points2} ${s.players[1].player.username}`,4==s.points2)}\nRolls: ${s.rolls.map(((e,t)=>{var n;return l(e.value,e.value>(null===(n=s.rolls[(t+1)%2])||void 0===n?void 0:n.value))})).join(" | ")}\n\nProtects:\n${s.protects.map((e=>`${e.player.username}: [${e.map.category}] ${e.map.name}`)).join("\n")}\n\nBans:\n${s.bans.map((e=>`${e.player.username}: [${e.map.category}] ${e.map.name}`)).join("\n")}\n\nMP Link: ${s.link}`)},[r,s]}class gl extends Z{constructor(e){super(),X(this,e,hl,ml,l,{match:1})}}const{Map:$l}=J;function vl(e,t,n){const r=e.slice();return r[109]=t[n],r}function yl(e,t,n){const r=e.slice();return r[42]=t[n],r}function wl(e,t,n){const r=e.slice();return r[109]=t[n],r}function bl(e,t,n){const r=e.slice();return r[109]=t[n],r}function kl(e,t,n){const r=e.slice();return r[109]=t[n],r}function xl(e,t,n){const r=e.slice();return r[109]=t[n],r}function Sl(e,t,n){const r=e.slice();return r[106]=t[n],r}function ql(e){let t,n,s,l,a,i,o,d,g,y,k,x,S,q,C,T,_,O,j,z,M,N,P,L,A,G,H,R,J,W,I,Y,V,X,Z,ee,te,ne,re,se,le,ae,ie,oe,ce,ue,pe,de,fe,me,he,ge,$e,ve,ye,we,be,ke,xe,Se,qe,Ce,Te,_e,Oe,je,ze,Me,Ne,Pe,Le,Ae,Ge,He,Re,De,Ue,Ee,Be,Je,We,Ie,Ye,Fe,Qe,Ke,Ve,Xe,Ze,et,tt,nt,rt,st,lt,at,it,ot,ct,ut,pt,dt,ft,mt,ht,gt,$t,vt,yt,wt,bt,kt,xt,St,qt,Ct,Tt,_t,Ot,jt,zt,Mt,Nt,Pt,Lt,At,Gt,Ht,Rt,Dt,Ut,Et,Bt,Jt,Wt,It=e[1].players[0].player.username+"",Yt=e[1].players[0].player.seed+"",Ft=e[1].players[1].player.username+"",Qt=e[1].players[1].player.seed+"";function Kt(e,t){return e[1].link?jl:Ol}a=new gl({props:{match:e[1]}});let Vt=Kt(e),Xt=Vt(e);function Zt(e,t){return e[1].rolls.length?Ml:zl}let en=Zt(e),tn=en(e);const nn=[Pl,Nl],rn=[];function sn(e,t){return e[1].protects[0]?0:e[1].rolls[1]?1:-1}~(St=sn(e))&&(qt=rn[St]=nn[St](e));const ln=[Hl,Gl],an=[];function on(e,t){return e[1].protects[1]?0:e[1].protects[0]?1:-1}~(Tt=on(e))&&(_t=an[Tt]=ln[Tt](e));const cn=[Bl,El],un=[];function pn(e,t){return e[1].bans[0]?0:e[1].protects[1]?1:-1}~(Mt=pn(e))&&(Nt=un[Mt]=cn[Mt](e));const dn=[Fl,Yl],fn=[];function mn(e,t){return e[1].bans[1]?0:e[1].bans[0]?1:-1}~(Lt=mn(e))&&(At=fn[Lt]=dn[Lt](e));let hn=e[1].bans[1]&&Xl(e),gn=3==e[2]&&3==e[3]&&!e[33]&&oa(e),$n=e[2]>=4&&pa(e),vn=e[3]>=4&&da(e);return{c(){t=f("div"),n=f("a"),n.textContent="Back to matches",s=h(),l=f("center"),F(a.$$.fragment),i=h(),o=f("center"),d=f("br"),g=f("br"),y=h(),k=f("a"),x=m("Emergency match editing link if you make a tremendous mistake"),q=h(),C=f("br"),T=f("br"),_=h(),O=f("div"),j=f("div"),z=m(e[2]),M=h(),N=f("div"),P=f("img"),A=h(),G=f("a"),H=m(It),R=m(" (#"),J=m(Yt),W=m(")"),Y=h(),V=f("div"),V.textContent="vs.",X=h(),Z=f("div"),ee=f("img"),ne=h(),re=f("a"),se=m(Ft),le=m(" (#"),ae=m(Qt),ie=m(")"),ce=h(),ue=f("div"),pe=m(e[3]),de=h(),fe=f("div"),me=m("Create and prepare your lobby\r\n    "),he=f("div"),ge=f("input"),ve=h(),ye=f("a"),ye.textContent="📝 Copy",we=h(),be=f("div"),ke=f("input"),xe=h(),Se=f("a"),Se.textContent="📝 Copy",qe=h(),Ce=f("div"),Te=f("input"),_e=h(),Oe=f("a"),Oe.textContent="📝 Copy",je=h(),ze=f("div"),Me=f("input"),Pe=h(),Le=f("a"),Le.textContent="📝 Copy",Ae=h(),Ge=f("div"),He=f("input"),De=h(),Ue=f("a"),Ue.textContent="📝 Copy",Ee=h(),Be=f("div"),Je=f("input"),Ie=h(),Ye=f("a"),Ye.textContent="📝 Copy",Fe=h(),Xt.c(),Qe=h(),Ke=f("div"),Ve=f("center"),Ve.innerHTML="Warmup rules: 4 minutes max, non-offensive<br/>\n      Ask for them 30 minutes in advance",Xe=h(),Ze=f("div"),et=f("input"),tt=h(),nt=f("input"),rt=h(),st=f("div"),lt=f("input"),it=h(),ot=f("a"),ot.textContent="📝 Copy",ct=h(),ut=f("div"),pt=f("input"),ft=h(),mt=f("a"),mt.textContent="📝 Copy",ht=h(),gt=f("div"),$t=m("Rolls\r\n    "),vt=f("div"),yt=f("input"),wt=h(),bt=f("a"),bt.textContent="📝 Copy",kt=h(),tn.c(),xt=h(),qt&&qt.c(),Ct=h(),_t&&_t.c(),Ot=h(),jt=f("hr"),zt=h(),Nt&&Nt.c(),Pt=h(),At&&At.c(),Gt=h(),Ht=f("hr"),Rt=h(),hn&&hn.c(),Dt=h(),gn&&gn.c(),Ut=h(),$n&&$n.c(),Et=h(),vn&&vn.c(),v(n,"href","#/referee!helper"),v(k,"href",S=`https://api.mbs3.fightthe.pw/admin/collections/matches/${e[1].id}`),v(k,"target","_blank"),v(j,"class","points svelte-1i9ndwz"),v(P,"alt",""),P.src!==(L=e[1].players[0].player.avatar)&&v(P,"src",L),v(P,"class","svelte-1i9ndwz"),v(G,"href",I=`https://osu.ppy.sh/users/${e[1].players[0].player.id}`),v(N,"class","player svelte-1i9ndwz"),v(V,"class","vs svelte-1i9ndwz"),v(ee,"alt",""),ee.src!==(te=e[1].players[1].player.avatar)&&v(ee,"src",te),v(ee,"class","svelte-1i9ndwz"),v(re,"href",oe=`https://osu.ppy.sh/users/${e[1].players[1].player.id}`),v(Z,"class","player svelte-1i9ndwz"),v(ue,"class","points svelte-1i9ndwz"),v(O,"class","players svelte-1i9ndwz"),ge.readOnly=!0,ge.value=$e=`!mp make MBS3: (${e[1].players[0].player.username}) vs. (${e[1].players[1].player.username})`,v(ge,"class","svelte-1i9ndwz"),v(ye,"href","#/referee!helper"),v(ye,"class","copy"),ke.readOnly=!0,ke.value="!mp set 0 3 3",v(ke,"class","svelte-1i9ndwz"),v(Se,"href","#/referee!helper"),v(Se,"class","copy"),Te.readOnly=!0,Te.value="!mp mods Freemod",v(Te,"class","svelte-1i9ndwz"),v(Oe,"href","#/referee!helper"),v(Oe,"class","copy"),Me.readOnly=!0,Me.value=Ne=`!mp addref ${e[1].streamer?.username||"Paturages"}`,v(Me,"class","svelte-1i9ndwz"),v(Le,"href","#/referee!helper"),v(Le,"class","copy"),He.readOnly=!0,He.value=Re=`!mp invite #${e[1].players[0].player.id}`,v(He,"class","svelte-1i9ndwz"),v(Ue,"href","#/referee!helper"),v(Ue,"class","copy"),Je.readOnly=!0,Je.value=We=`!mp invite #${e[1].players[1].player.id}`,v(Je,"class","svelte-1i9ndwz"),v(Ye,"href","#/referee!helper"),v(Ye,"class","copy"),v(fe,"class","init svelte-1i9ndwz"),v(et,"placeholder","Beatmap link 1"),v(et,"class","svelte-1i9ndwz"),v(nt,"placeholder","Beatmap link 2"),v(nt,"class","svelte-1i9ndwz"),v(Ze,"class","values svelte-1i9ndwz"),lt.readOnly=!0,lt.value=at=`!mp map ${e[26].split("/").pop()} 3 ${e[1].players[0].player.username}'s warmup`,v(lt,"class","svelte-1i9ndwz"),v(ot,"href","#/referee!helper"),v(ot,"class","copy"),v(st,"class","warmup svelte-1i9ndwz"),pt.readOnly=!0,pt.value=dt=`!mp map ${e[27].split("/").pop()} 3 ${e[1].players[1].player.username}'s warmup`,v(pt,"class","svelte-1i9ndwz"),v(mt,"href","#/referee!helper"),v(mt,"class","copy"),v(ut,"class","warmup svelte-1i9ndwz"),v(Ke,"class","warmups svelte-1i9ndwz"),yt.readOnly=!0,yt.value="Time to roll: each player will !roll, the highest one will protect first and ban second!",v(yt,"class","svelte-1i9ndwz"),v(bt,"href","#/referee!helper"),v(bt,"class","copy"),v(vt,"class","call svelte-1i9ndwz"),v(gt,"class","rolls svelte-1i9ndwz"),v(t,"class","match")},m(r,p){u(r,t,p),c(t,n),c(t,s),c(t,l),Q(a,l,null),c(t,i),c(t,o),c(o,d),c(o,g),c(o,y),c(o,k),c(k,x),c(o,q),c(o,C),c(o,T),c(t,_),c(t,O),c(O,j),c(j,z),c(O,M),c(O,N),c(N,P),c(N,A),c(N,G),c(G,H),c(G,R),c(G,J),c(G,W),c(O,Y),c(O,V),c(O,X),c(O,Z),c(Z,ee),c(Z,ne),c(Z,re),c(re,se),c(re,le),c(re,ae),c(re,ie),c(O,ce),c(O,ue),c(ue,pe),c(t,de),c(t,fe),c(fe,me),c(fe,he),c(he,ge),e[50](ge),c(he,ve),c(he,ye),c(fe,we),c(fe,be),c(be,ke),e[52](ke),c(be,xe),c(be,Se),c(fe,qe),c(fe,Ce),c(Ce,Te),e[54](Te),c(Ce,_e),c(Ce,Oe),c(fe,je),c(fe,ze),c(ze,Me),e[56](Me),c(ze,Pe),c(ze,Le),c(fe,Ae),c(fe,Ge),c(Ge,He),e[58](He),c(Ge,De),c(Ge,Ue),c(fe,Ee),c(fe,Be),c(Be,Je),e[60](Je),c(Be,Ie),c(Be,Ye),c(t,Fe),Xt.m(t,null),c(t,Qe),c(t,Ke),c(Ke,Ve),c(Ke,Xe),c(Ke,Ze),c(Ze,et),b(et,e[26]),c(Ze,tt),c(Ze,nt),b(nt,e[27]),c(Ke,rt),c(Ke,st),c(st,lt),e[65](lt),c(st,it),c(st,ot),c(Ke,ct),c(Ke,ut),c(ut,pt),e[67](pt),c(ut,ft),c(ut,mt),c(t,ht),c(t,gt),c(gt,$t),c(gt,vt),c(vt,yt),e[69](yt),c(vt,wt),c(vt,bt),c(gt,kt),tn.m(gt,null),c(t,xt),~St&&rn[St].m(t,null),c(t,Ct),~Tt&&an[Tt].m(t,null),c(t,Ot),c(t,jt),c(t,zt),~Mt&&un[Mt].m(t,null),c(t,Pt),~Lt&&fn[Lt].m(t,null),c(t,Gt),c(t,Ht),c(t,Rt),hn&&hn.m(t,null),c(t,Dt),gn&&gn.m(t,null),c(t,Ut),$n&&$n.m(t,null),c(t,Et),vn&&vn.m(t,null),Bt=!0,Jt||(Wt=[$(n,"click",e[49]),$(ye,"click",e[51]),$(Se,"click",e[53]),$(Oe,"click",e[55]),$(Le,"click",e[57]),$(Ue,"click",e[59]),$(Ye,"click",e[61]),$(et,"input",e[63]),$(nt,"input",e[64]),$(ot,"click",e[66]),$(mt,"click",e[68]),$(bt,"click",e[70])],Jt=!0)},p(e,n){const r={};2&n[0]&&(r.match=e[1]),a.$set(r),(!Bt||2&n[0]&&S!==(S=`https://api.mbs3.fightthe.pw/admin/collections/matches/${e[1].id}`))&&v(k,"href",S),(!Bt||4&n[0])&&w(z,e[2]),(!Bt||2&n[0]&&P.src!==(L=e[1].players[0].player.avatar))&&v(P,"src",L),(!Bt||2&n[0])&&It!==(It=e[1].players[0].player.username+"")&&w(H,It),(!Bt||2&n[0])&&Yt!==(Yt=e[1].players[0].player.seed+"")&&w(J,Yt),(!Bt||2&n[0]&&I!==(I=`https://osu.ppy.sh/users/${e[1].players[0].player.id}`))&&v(G,"href",I),(!Bt||2&n[0]&&ee.src!==(te=e[1].players[1].player.avatar))&&v(ee,"src",te),(!Bt||2&n[0])&&Ft!==(Ft=e[1].players[1].player.username+"")&&w(se,Ft),(!Bt||2&n[0])&&Qt!==(Qt=e[1].players[1].player.seed+"")&&w(ae,Qt),(!Bt||2&n[0]&&oe!==(oe=`https://osu.ppy.sh/users/${e[1].players[1].player.id}`))&&v(re,"href",oe),(!Bt||8&n[0])&&w(pe,e[3]),(!Bt||2&n[0]&&$e!==($e=`!mp make MBS3: (${e[1].players[0].player.username}) vs. (${e[1].players[1].player.username})`)&&ge.value!==$e)&&(ge.value=$e),(!Bt||2&n[0]&&Ne!==(Ne=`!mp addref ${e[1].streamer?.username||"Paturages"}`)&&Me.value!==Ne)&&(Me.value=Ne),(!Bt||2&n[0]&&Re!==(Re=`!mp invite #${e[1].players[0].player.id}`)&&He.value!==Re)&&(He.value=Re),(!Bt||2&n[0]&&We!==(We=`!mp invite #${e[1].players[1].player.id}`)&&Je.value!==We)&&(Je.value=We),Vt===(Vt=Kt(e))&&Xt?Xt.p(e,n):(Xt.d(1),Xt=Vt(e),Xt&&(Xt.c(),Xt.m(t,Qe))),67108864&n[0]&&et.value!==e[26]&&b(et,e[26]),134217728&n[0]&&nt.value!==e[27]&&b(nt,e[27]),(!Bt||67108866&n[0]&&at!==(at=`!mp map ${e[26].split("/").pop()} 3 ${e[1].players[0].player.username}'s warmup`)&&lt.value!==at)&&(lt.value=at),(!Bt||134217730&n[0]&&dt!==(dt=`!mp map ${e[27].split("/").pop()} 3 ${e[1].players[1].player.username}'s warmup`)&&pt.value!==dt)&&(pt.value=dt),en===(en=Zt(e))&&tn?tn.p(e,n):(tn.d(1),tn=en(e),tn&&(tn.c(),tn.m(gt,null)));let s=St;St=sn(e),St===s?~St&&rn[St].p(e,n):(qt&&(D(),B(rn[s],1,1,(()=>{rn[s]=null})),U()),~St?(qt=rn[St],qt?qt.p(e,n):(qt=rn[St]=nn[St](e),qt.c()),E(qt,1),qt.m(t,Ct)):qt=null);let l=Tt;Tt=on(e),Tt===l?~Tt&&an[Tt].p(e,n):(_t&&(D(),B(an[l],1,1,(()=>{an[l]=null})),U()),~Tt?(_t=an[Tt],_t?_t.p(e,n):(_t=an[Tt]=ln[Tt](e),_t.c()),E(_t,1),_t.m(t,Ot)):_t=null);let i=Mt;Mt=pn(e),Mt===i?~Mt&&un[Mt].p(e,n):(Nt&&(D(),B(un[i],1,1,(()=>{un[i]=null})),U()),~Mt?(Nt=un[Mt],Nt?Nt.p(e,n):(Nt=un[Mt]=cn[Mt](e),Nt.c()),E(Nt,1),Nt.m(t,Pt)):Nt=null);let o=Lt;Lt=mn(e),Lt===o?~Lt&&fn[Lt].p(e,n):(At&&(D(),B(fn[o],1,1,(()=>{fn[o]=null})),U()),~Lt?(At=fn[Lt],At?At.p(e,n):(At=fn[Lt]=dn[Lt](e),At.c()),E(At,1),At.m(t,Gt)):At=null),e[1].bans[1]?hn?(hn.p(e,n),2&n[0]&&E(hn,1)):(hn=Xl(e),hn.c(),E(hn,1),hn.m(t,Dt)):hn&&(D(),B(hn,1,1,(()=>{hn=null})),U()),3!=e[2]||3!=e[3]||e[33]?gn&&(D(),B(gn,1,1,(()=>{gn=null})),U()):gn?(gn.p(e,n),12&n[0]|4&n[1]&&E(gn,1)):(gn=oa(e),gn.c(),E(gn,1),gn.m(t,Ut)),e[2]>=4?$n?$n.p(e,n):($n=pa(e),$n.c(),$n.m(t,Et)):$n&&($n.d(1),$n=null),e[3]>=4?vn?vn.p(e,n):(vn=da(e),vn.c(),vn.m(t,null)):vn&&(vn.d(1),vn=null)},i(e){Bt||(E(a.$$.fragment,e),E(qt),E(_t),E(Nt),E(At),E(hn),E(gn),Bt=!0)},o(e){B(a.$$.fragment,e),B(qt),B(_t),B(Nt),B(At),B(hn),B(gn),Bt=!1},d(n){n&&p(t),K(a),e[50](null),e[52](null),e[54](null),e[56](null),e[58](null),e[60](null),Xt.d(),e[65](null),e[67](null),e[69](null),tn.d(),~St&&rn[St].d(),~Tt&&an[Tt].d(),~Mt&&un[Mt].d(),~Lt&&fn[Lt].d(),hn&&hn.d(),gn&&gn.d(),$n&&$n.d(),vn&&vn.d(),Jt=!1,r(Wt)}}}function Cl(e){let t,n,s,l,a,i,o,d,g,y,b,k=e[23]?"Show all matches":"Show only my matches",x=e[24]?"Hide past matches":"Show past matches",S=[],q=new $l,C=e[5];const T=e=>e[106].id;for(let t=0;t<C.length;t+=1){let n=Sl(e,C,t),r=T(n);q.set(r,S[t]=ma(r,n))}return{c(){t=f("a"),n=m(k),s=m("\r\n   \r\n"),l=f("a"),a=m(x),i=h(),o=f("div"),d=m("Select a match\r\n  ");for(let e=0;e<S.length;e+=1)S[e].c();v(t,"href","#/referee!helper"),v(l,"href","#/referee!helper"),v(o,"class","matches svelte-1i9ndwz")},m(r,p){u(r,t,p),c(t,n),u(r,s,p),u(r,l,p),c(l,a),u(r,i,p),u(r,o,p),c(o,d);for(let e=0;e<S.length;e+=1)S[e].m(o,null);g=!0,y||(b=[$(t,"click",e[46]),$(l,"click",e[47])],y=!0)},p(e,t){(!g||8388608&t[0])&&k!==(k=e[23]?"Show all matches":"Show only my matches")&&w(n,k),(!g||16777216&t[0])&&x!==(x=e[24]?"Hide past matches":"Show past matches")&&w(a,x),25165872&t[0]|8&t[1]&&(C=e[5],D(),S=Y(S,t,T,1,e,C,q,o,I,ma,null,Sl),U())},i(e){if(!g){for(let e=0;e<C.length;e+=1)E(S[e]);g=!0}},o(e){for(let e=0;e<S.length;e+=1)B(S[e]);g=!1},d(e){e&&p(t),e&&p(s),e&&p(l),e&&p(i),e&&p(o);for(let e=0;e<S.length;e+=1)S[e].d();y=!1,r(b)}}}function Tl(t){let n;return{c(){n=m("Loading matches...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function _l(t){let n;return{c(){n=f("a"),n.textContent="Login",v(n,"href","https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function Ol(e){let t,n,r,s,l,a;return{c(){t=f("div"),n=m("Paste your MP link here\r\n    "),r=f("div"),s=f("input"),v(s,"placeholder","MP Link"),v(s,"class","svelte-1i9ndwz"),v(r,"class","values svelte-1i9ndwz"),v(t,"class","init svelte-1i9ndwz")},m(i,o){u(i,t,o),c(t,n),c(t,r),c(r,s),b(s,e[25]),l||(a=$(s,"input",e[62]),l=!0)},p(e,t){33554432&t[0]&&s.value!==e[25]&&b(s,e[25])},d(e){e&&p(t),l=!1,a()}}}function jl(e){let t,n,r,s,l;return{c(){t=f("center"),n=f("h1"),r=f("a"),s=m("MP Link"),v(r,"href",l=e[1].link)},m(e,l){u(e,t,l),c(t,n),c(n,r),c(r,s)},p(e,t){2&t[0]&&l!==(l=e[1].link)&&v(r,"href",l)},d(e){e&&p(t)}}}function zl(e){let t,n,s,l,a,i,o,d;return{c(){t=f("div"),n=f("input"),s=h(),l=f("input"),a=h(),i=f("button"),i.textContent="Confirm rolls",v(n,"placeholder","Roll 1"),v(n,"type","number"),v(n,"class","svelte-1i9ndwz"),v(l,"placeholder","Roll 2"),v(l,"type","number"),v(l,"class","svelte-1i9ndwz"),v(t,"class","values svelte-1i9ndwz")},m(r,p){u(r,t,p),c(t,n),b(n,e[28]),c(t,s),c(t,l),b(l,e[29]),u(r,a,p),u(r,i,p),o||(d=[$(n,"input",e[71]),$(l,"input",e[72]),$(i,"click",e[73])],o=!0)},p(e,t){268435456&t[0]&&y(n.value)!==e[28]&&b(n,e[28]),536870912&t[0]&&y(l.value)!==e[29]&&b(l,e[29])},d(e){e&&p(t),e&&p(a),e&&p(i),o=!1,r(d)}}}function Ml(e){let t,n,r,s,l,a,i=e[1].rolls[0].value+"",o=e[1].rolls[1].value+"";return{c(){t=f("div"),n=f("b"),r=m(i),s=m(" vs.\r\n      "),l=f("b"),a=m(o),v(t,"class","values svelte-1i9ndwz")},m(e,i){u(e,t,i),c(t,n),c(n,r),c(t,s),c(t,l),c(l,a)},p(e,t){2&t[0]&&i!==(i=e[1].rolls[0].value+"")&&w(r,i),2&t[0]&&o!==(o=e[1].rolls[1].value+"")&&w(a,o)},d(e){e&&p(t)}}}function Nl(e){let t,n,r,s,l,a,i,o,d,m,g,y,w,b=[],k=new $l,x=e[6];const S=e=>e[109].id;for(let t=0;t<x.length;t+=1){let n=xl(e,x,t),r=S(n);k.set(r,b[t]=Al(r,n))}return{c(){t=f("div"),n=f("center"),n.innerHTML="Protects<br/>\n      Roll winner protects first",r=h(),s=f("div"),l=f("input"),i=h(),o=f("a"),o.textContent="📝 Copy",d=h(),m=f("div");for(let e=0;e<b.length;e+=1)b[e].c();l.readOnly=!0,l.value=a=`${e[41](e[1],"winner").username} wins the roll and protects first! Pick a map to protect: this map will not be able to be banned.`,v(l,"class","svelte-1i9ndwz"),v(o,"href","#/referee!helper"),v(o,"class","copy"),v(s,"class","call svelte-1i9ndwz"),v(m,"class","maps svelte-1i9ndwz"),v(t,"class","protects svelte-1i9ndwz")},m(a,p){u(a,t,p),c(t,n),c(t,r),c(t,s),c(s,l),e[75](l),c(s,i),c(s,o),c(t,d),c(t,m);for(let e=0;e<b.length;e+=1)b[e].m(m,null);g=!0,y||(w=$(o,"click",e[76]),y=!0)},p(e,t){(!g||2&t[0]&&a!==(a=`${e[41](e[1],"winner").username} wins the roll and protects first! Pick a map to protect: this map will not be able to be banned.`)&&l.value!==a)&&(l.value=a),66&t[0]|1088&t[1]&&(x=e[6],D(),b=Y(b,t,S,1,e,x,k,m,I,Al,null,xl),U())},i(e){if(!g){for(let e=0;e<x.length;e+=1)E(b[e]);g=!0}},o(e){for(let e=0;e<b.length;e+=1)B(b[e]);g=!1},d(n){n&&p(t),e[75](null);for(let e=0;e<b.length;e+=1)b[e].d();y=!1,w()}}}function Pl(e){let t,n,r,s,l,a=e[41](e[1],"winner").username+"";return s=new Yt({props:{map:e[6].find(e[74])}}),{c(){t=f("div"),n=m(a),r=m("'s protect\r\n    "),F(s.$$.fragment),v(t,"class","protects svelte-1i9ndwz")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){(!l||2&t[0])&&a!==(a=e[41](e[1],"winner").username+"")&&w(n,a);const r={};66&t[0]&&(r.map=e[6].find(e[74])),s.$set(r)},i(e){l||(E(s.$$.fragment,e),l=!0)},o(e){B(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function Ll(e){let t,n;return t=new Yt({props:{map:e[109]}}),t.$on("click",(function(...t){return e[77](e[109],...t)})),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};64&r[0]&&(s.map=e[109]),t.$set(s)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Al(e,t){let n,r,s,l=!t[109].category.startsWith("Tiebreaker"),a=l&&Ll(t);return{key:e,first:null,c(){n=g(),a&&a.c(),r=g(),this.first=n},m(e,t){u(e,n,t),a&&a.m(e,t),u(e,r,t),s=!0},p(e,n){t=e,64&n[0]&&(l=!t[109].category.startsWith("Tiebreaker")),l?a?(a.p(t,n),64&n[0]&&E(a,1)):(a=Ll(t),a.c(),E(a,1),a.m(r.parentNode,r)):a&&(D(),B(a,1,1,(()=>{a=null})),U())},i(e){s||(E(a),s=!0)},o(e){B(a),s=!1},d(e){e&&p(n),a&&a.d(e),e&&p(r)}}}function Gl(e){let t,n,r,s,l,a,i,o,d,m,g,y=[],w=new $l,b=e[6];const k=e=>e[109].id;for(let t=0;t<b.length;t+=1){let n=kl(e,b,t),r=k(n);w.set(r,y[t]=Ul(r,n))}return{c(){t=f("div"),n=f("div"),r=f("input"),l=h(),a=f("a"),a.textContent="📝 Copy",i=h(),o=f("div");for(let e=0;e<y.length;e+=1)y[e].c();r.readOnly=!0,r.value=s=`${e[41](e[1],"loser").username} protects second: pick a map to protect`,v(r,"class","svelte-1i9ndwz"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(n,"class","call svelte-1i9ndwz"),v(o,"class","maps svelte-1i9ndwz"),v(t,"class","protects svelte-1i9ndwz")},m(s,p){u(s,t,p),c(t,n),c(n,r),e[79](r),c(n,l),c(n,a),c(t,i),c(t,o);for(let e=0;e<y.length;e+=1)y[e].m(o,null);d=!0,m||(g=$(a,"click",e[80]),m=!0)},p(e,t){(!d||2&t[0]&&s!==(s=`${e[41](e[1],"loser").username} protects second: pick a map to protect`)&&r.value!==s)&&(r.value=s),66&t[0]|1088&t[1]&&(b=e[6],D(),y=Y(y,t,k,1,e,b,w,o,I,Ul,null,kl),U())},i(e){if(!d){for(let e=0;e<b.length;e+=1)E(y[e]);d=!0}},o(e){for(let e=0;e<y.length;e+=1)B(y[e]);d=!1},d(n){n&&p(t),e[79](null);for(let e=0;e<y.length;e+=1)y[e].d();m=!1,g()}}}function Hl(e){let t,n,r,s,l,a=e[41](e[1],"loser").username+"";return s=new Yt({props:{map:e[6].find(e[78])}}),{c(){t=f("div"),n=m(a),r=m("'s protect\r\n    "),F(s.$$.fragment),v(t,"class","protects svelte-1i9ndwz")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){(!l||2&t[0])&&a!==(a=e[41](e[1],"loser").username+"")&&w(n,a);const r={};66&t[0]&&(r.map=e[6].find(e[78])),s.$set(r)},i(e){l||(E(s.$$.fragment,e),l=!0)},o(e){B(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function Rl(e){let t,n,r;return n=new Yt({props:{map:e[109]}}),{c(){t=f("div"),F(n.$$.fragment),v(t,"class","disabled svelte-1i9ndwz")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},p(e,t){const r={};64&t[0]&&(r.map=e[109]),n.$set(r)},i(e){r||(E(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function Dl(e){let t,n;return t=new Yt({props:{map:e[109]}}),t.$on("click",(function(...t){return e[81](e[109],...t)})),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};64&r[0]&&(s.map=e[109]),t.$set(s)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Ul(e,t){let n,r,s,l,a,i;const o=[Dl,Rl],c=[];function d(e,t){return 66&t[0]&&(r=!(e[109].category.startsWith("Tiebreaker")||e[1].protects[0]?.map.id==e[109].id)),r?0:e[1].protects[0]?.map.id==e[109].id?1:-1}return~(s=d(t,[-1]))&&(l=c[s]=o[s](t)),{key:e,first:null,c(){n=g(),l&&l.c(),a=g(),this.first=n},m(e,t){u(e,n,t),~s&&c[s].m(e,t),u(e,a,t),i=!0},p(e,n){let r=s;s=d(t=e,n),s===r?~s&&c[s].p(t,n):(l&&(D(),B(c[r],1,1,(()=>{c[r]=null})),U()),~s?(l=c[s],l?l.p(t,n):(l=c[s]=o[s](t),l.c()),E(l,1),l.m(a.parentNode,a)):l=null)},i(e){i||(E(l),i=!0)},o(e){B(l),i=!1},d(e){e&&p(n),~s&&c[s].d(e),e&&p(a)}}}function El(e){let t,n,r,s,l,a,i,o,d,m,g,y,w,b=[],k=new $l,x=e[6];const S=e=>e[109].id;for(let t=0;t<x.length;t+=1){let n=bl(e,x,t),r=S(n);k.set(r,b[t]=Il(r,n))}return{c(){t=f("div"),n=f("center"),n.innerHTML="Bans<br/>\n      Roll loser bans first",r=h(),s=f("div"),l=f("input"),i=h(),o=f("a"),o.textContent="📝 Copy",d=h(),m=f("div");for(let e=0;e<b.length;e+=1)b[e].c();l.readOnly=!0,l.value=a=`${e[41](e[1],"loser").username} bans first! Pick a map to ban: this map will not be able to be picked in the match.`,v(l,"class","svelte-1i9ndwz"),v(o,"href","#/referee!helper"),v(o,"class","copy"),v(s,"class","call svelte-1i9ndwz"),v(m,"class","maps svelte-1i9ndwz"),v(t,"class","bans svelte-1i9ndwz")},m(a,p){u(a,t,p),c(t,n),c(t,r),c(t,s),c(s,l),e[83](l),c(s,i),c(s,o),c(t,d),c(t,m);for(let e=0;e<b.length;e+=1)b[e].m(m,null);g=!0,y||(w=$(o,"click",e[84]),y=!0)},p(e,t){(!g||2&t[0]&&a!==(a=`${e[41](e[1],"loser").username} bans first! Pick a map to ban: this map will not be able to be picked in the match.`)&&l.value!==a)&&(l.value=a),66&t[0]|1152&t[1]&&(x=e[6],D(),b=Y(b,t,S,1,e,x,k,m,I,Il,null,bl),U())},i(e){if(!g){for(let e=0;e<x.length;e+=1)E(b[e]);g=!0}},o(e){for(let e=0;e<b.length;e+=1)B(b[e]);g=!1},d(n){n&&p(t),e[83](null);for(let e=0;e<b.length;e+=1)b[e].d();y=!1,w()}}}function Bl(e){let t,n,r,s,l,a=e[41](e[1],"loser").username+"";return s=new Yt({props:{map:e[6].find(e[82])}}),{c(){t=f("div"),n=m(a),r=m("'s ban\r\n    "),F(s.$$.fragment),v(t,"class","bans svelte-1i9ndwz")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){(!l||2&t[0])&&a!==(a=e[41](e[1],"loser").username+"")&&w(n,a);const r={};66&t[0]&&(r.map=e[6].find(e[82])),s.$set(r)},i(e){l||(E(s.$$.fragment,e),l=!0)},o(e){B(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function Jl(e){let t,n,r;return n=new Yt({props:{map:e[109]}}),{c(){t=f("div"),F(n.$$.fragment),v(t,"class","disabled svelte-1i9ndwz")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},p(e,t){const r={};64&t[0]&&(r.map=e[109]),n.$set(r)},i(e){r||(E(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function Wl(e){let t,n;return t=new Yt({props:{map:e[109]}}),t.$on("click",(function(...t){return e[85](e[109],...t)})),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};64&r[0]&&(s.map=e[109]),t.$set(s)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Il(e,t){let n,r,s,l,a,i;const o=[Wl,Jl],c=[];function d(e,t){return 66&t[0]&&(r=!(e[109].category.startsWith("Tiebreaker")||e[1].protects[0]?.map?.id==e[109].id||e[1].protects[1]?.map?.id==e[109].id)),r?0:e[1].protects[0]?.map?.id==e[109].id||e[1].protects[1]?.map?.id==e[109].id?1:-1}return~(s=d(t,[-1]))&&(l=c[s]=o[s](t)),{key:e,first:null,c(){n=g(),l&&l.c(),a=g(),this.first=n},m(e,t){u(e,n,t),~s&&c[s].m(e,t),u(e,a,t),i=!0},p(e,n){let r=s;s=d(t=e,n),s===r?~s&&c[s].p(t,n):(l&&(D(),B(c[r],1,1,(()=>{c[r]=null})),U()),~s?(l=c[s],l?l.p(t,n):(l=c[s]=o[s](t),l.c()),E(l,1),l.m(a.parentNode,a)):l=null)},i(e){i||(E(l),i=!0)},o(e){B(l),i=!1},d(e){e&&p(n),~s&&c[s].d(e),e&&p(a)}}}function Yl(e){let t,n,r,s,l,a,i,o,d,m,g,y=[],w=new $l,b=e[6];const k=e=>e[109].id;for(let t=0;t<b.length;t+=1){let n=wl(e,b,t),r=k(n);w.set(r,y[t]=Vl(r,n))}return{c(){t=f("div"),n=f("div"),r=f("input"),l=h(),a=f("a"),a.textContent="📝 Copy",i=h(),o=f("div");for(let e=0;e<y.length;e+=1)y[e].c();r.readOnly=!0,r.value=s=`${e[41](e[1],"winner").username}'s turn to ban: pick a map to ban`,v(r,"class","svelte-1i9ndwz"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(n,"class","call svelte-1i9ndwz"),v(o,"class","maps svelte-1i9ndwz"),v(t,"class","bans svelte-1i9ndwz")},m(s,p){u(s,t,p),c(t,n),c(n,r),e[87](r),c(n,l),c(n,a),c(t,i),c(t,o);for(let e=0;e<y.length;e+=1)y[e].m(o,null);d=!0,m||(g=$(a,"click",e[88]),m=!0)},p(e,t){(!d||2&t[0]&&s!==(s=`${e[41](e[1],"winner").username}'s turn to ban: pick a map to ban`)&&r.value!==s)&&(r.value=s),66&t[0]|1152&t[1]&&(b=e[6],D(),y=Y(y,t,k,1,e,b,w,o,I,Vl,null,wl),U())},i(e){if(!d){for(let e=0;e<b.length;e+=1)E(y[e]);d=!0}},o(e){for(let e=0;e<y.length;e+=1)B(y[e]);d=!1},d(n){n&&p(t),e[87](null);for(let e=0;e<y.length;e+=1)y[e].d();m=!1,g()}}}function Fl(e){let t,n,r,s,l,a=e[41](e[1],"winner").username+"";return s=new Yt({props:{map:e[6].find(e[86])}}),{c(){t=f("div"),n=m(a),r=m("'s ban\r\n    "),F(s.$$.fragment),v(t,"class","bans svelte-1i9ndwz")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){(!l||2&t[0])&&a!==(a=e[41](e[1],"winner").username+"")&&w(n,a);const r={};66&t[0]&&(r.map=e[6].find(e[86])),s.$set(r)},i(e){l||(E(s.$$.fragment,e),l=!0)},o(e){B(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function Ql(e){let t,n,r;return n=new Yt({props:{map:e[109]}}),{c(){t=f("div"),F(n.$$.fragment),v(t,"class","disabled svelte-1i9ndwz")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},p(e,t){const r={};64&t[0]&&(r.map=e[109]),n.$set(r)},i(e){r||(E(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function Kl(e){let t,n;return t=new Yt({props:{map:e[109]}}),t.$on("click",(function(...t){return e[89](e[109],...t)})),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};64&r[0]&&(s.map=e[109]),t.$set(s)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Vl(e,t){let n,r,s,l,a,i;const o=[Kl,Ql],c=[];function d(e,t){return 66&t[0]&&(r=!(e[109].category.startsWith("Tiebreaker")||e[1].protects[0]?.map?.id==e[109].id||e[1].protects[1]?.map?.id==e[109].id||e[1].bans[0]?.map.id==e[109].id)),r?0:e[1].protects[0]?.map?.id==e[109].id||e[1].protects[1]?.map?.id==e[109].id||e[1].bans[0]?.map.id==e[109].id?1:-1}return~(s=d(t,[-1]))&&(l=c[s]=o[s](t)),{key:e,first:null,c(){n=g(),l&&l.c(),a=g(),this.first=n},m(e,t){u(e,n,t),~s&&c[s].m(e,t),u(e,a,t),i=!0},p(e,n){let r=s;s=d(t=e,n),s===r?~s&&c[s].p(t,n):(l&&(D(),B(c[r],1,1,(()=>{c[r]=null})),U()),~s?(l=c[s],l?l.p(t,n):(l=c[s]=o[s](t),l.c()),E(l,1),l.m(a.parentNode,a)):l=null)},i(e){i||(E(l),i=!0)},o(e){B(l),i=!1},d(e){e&&p(n),~s&&c[s].d(e),e&&p(a)}}}function Xl(e){let t,n,r,s,l=[],a=new $l,i=e[30];const o=e=>e[42].id;for(let t=0;t<i.length;t+=1){let n=yl(e,i,t),r=o(n);a.set(r,l[t]=ra(r,n))}let c=!e[33]&&e[2]<4&&e[3]<4&&!(3==e[2]&&3==e[3])&&sa(e);return{c(){t=f("div");for(let e=0;e<l.length;e+=1)l[e].c();n=h(),c&&c.c(),r=g(),v(t,"class","picks svelte-1i9ndwz")},m(e,a){u(e,t,a);for(let e=0;e<l.length;e+=1)l[e].m(t,null);u(e,n,a),c&&c.m(e,a),u(e,r,a),s=!0},p(e,n){1074790594&n[0]|784&n[1]&&(i=e[30],D(),l=Y(l,n,o,1,e,i,a,t,I,ra,null,yl),U()),!e[33]&&e[2]<4&&e[3]<4&&(3!=e[2]||3!=e[3])?c?(c.p(e,n),12&n[0]|4&n[1]&&E(c,1)):(c=sa(e),c.c(),E(c,1),c.m(r.parentNode,r)):c&&(D(),B(c,1,1,(()=>{c=null})),U())},i(e){if(!s){for(let e=0;e<i.length;e+=1)E(l[e]);E(c),s=!0}},o(e){for(let e=0;e<l.length;e+=1)B(l[e]);B(c),s=!1},d(e){e&&p(t);for(let e=0;e<l.length;e+=1)l[e].d();e&&p(n),c&&c.d(e),e&&p(r)}}}function Zl(e){let t,n,s,l,a,i,o,d,g,y,b,k,x,S,q,C,T,_,O,j=e[1].players[0].player.username+"",z=e[1].players[1].player.username+"";function M(e,t){return e[7]?na:ta}let N=M(e),P=N(e);function L(){return e[94](e[42])}function A(){return e[95](e[42])}return{c(){t=f("div"),n=f("input"),l=h(),a=f("a"),a.textContent="📝 Copy",i=h(),o=f("div"),P.c(),d=h(),g=f("p"),g.textContent="If it doesn't work or lags (likely to happen if osu doesn't cooperate), bypass this thing by manually selecting the winner. If it's totally broken, refresh the page lol",y=h(),b=f("p"),k=f("button"),x=m(j),S=h(),q=f("button"),C=m(z),T=h(),n.readOnly=!0,n.value=s=`!mp map ${e[42].map.id} 3`,v(n,"class","svelte-1i9ndwz"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(t,"class","call svelte-1i9ndwz"),v(o,"class","fetcher svelte-1i9ndwz")},m(r,s){u(r,t,s),c(t,n),e[91](n),c(t,l),c(t,a),u(r,i,s),u(r,o,s),P.m(o,null),c(o,d),c(o,g),c(o,y),c(o,b),c(b,k),c(k,x),c(b,S),c(b,q),c(q,C),c(o,T),_||(O=[$(a,"click",e[92]),$(k,"click",L),$(q,"click",A)],_=!0)},p(t,r){e=t,1073741824&r[0]&&s!==(s=`!mp map ${e[42].map.id} 3`)&&n.value!==s&&(n.value=s),N===(N=M(e))&&P?P.p(e,r):(P.d(1),P=N(e),P&&(P.c(),P.m(o,d))),2&r[0]&&j!==(j=e[1].players[0].player.username+"")&&w(x,j),2&r[0]&&z!==(z=e[1].players[1].player.username+"")&&w(C,z)},d(n){n&&p(t),e[91](null),n&&p(i),n&&p(o),P.d(),_=!1,r(O)}}}function ea(e){let t,n,r,s,l,a,i,o=(e[42].scores[0].score>e[42].scores[1].score?e[1].players[0].player.username:e[1].players[1].player.username)+"",d=e[42].scores[0].score+"",h=e[42].scores[1].score+"";return{c(){t=f("div"),n=m(o),r=m("\r\n          won the pick! ("),s=m(d),l=m(" vs. "),a=m(h),i=m(")\r\n        "),v(t,"class","win svelte-1i9ndwz")},m(e,o){u(e,t,o),c(t,n),c(t,r),c(t,s),c(t,l),c(t,a),c(t,i)},p(e,t){1073741826&t[0]&&o!==(o=(e[42].scores[0].score>e[42].scores[1].score?e[1].players[0].player.username:e[1].players[1].player.username)+"")&&w(n,o),1073741824&t[0]&&d!==(d=e[42].scores[0].score+"")&&w(s,d),1073741824&t[0]&&h!==(h=e[42].scores[1].score+"")&&w(a,h)},d(e){e&&p(t)}}}function ta(e){let t,n,r;function s(){return e[93](e[42])}return{c(){t=f("button"),t.textContent="After the song is done (scores show up in chat), click to refresh the scores"},m(e,l){u(e,t,l),n||(r=$(t,"click",s),n=!0)},p(t,n){e=t},d(e){e&&p(t),n=!1,r()}}}function na(t){let n;return{c(){n=m("Fetching scores...")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function ra(e,t){let n,r,s,l,a,i,o=(t[42].player?.username||"Tiebreaker")+"";function c(...e){return t[90](t[42],...e)}function d(e,t){return e[42].scores.length?ea:Zl}s=new Yt({props:{map:t[6].find(c)}});let f=d(t),$=f(t);return{key:e,first:null,c(){n=m(o),r=m(" picked\r\n      "),F(s.$$.fragment),l=h(),$.c(),a=g(),this.first=n},m(e,t){u(e,n,t),u(e,r,t),Q(s,e,t),u(e,l,t),$.m(e,t),u(e,a,t),i=!0},p(e,r){t=e,(!i||1073741824&r[0])&&o!==(o=(t[42].player?.username||"Tiebreaker")+"")&&w(n,o);const l={};1073741888&r[0]&&(l.map=t[6].find(c)),s.$set(l),f===(f=d(t))&&$?$.p(t,r):($.d(1),$=f(t),$&&($.c(),$.m(a.parentNode,a)))},i(e){i||(E(s.$$.fragment,e),i=!0)},o(e){B(s.$$.fragment,e),i=!1},d(e){e&&p(n),e&&p(r),K(s,e),e&&p(l),$.d(e),e&&p(a)}}}function sa(e){let t,n,r,s,l,a,i,o,d,g,y,b,k,x,S,q,C,T,_=e[31]<e[32]?"Tiebreaker (rice)":"Tiebreaker (hybrid)",O=[],j=new $l,z=e[6];const M=e=>e[109].id;for(let t=0;t<z.length;t+=1){let n=vl(e,z,t),r=M(n);j.set(r,O[t]=ia(r,n))}return{c(){t=f("div"),n=m("Picks (Picked: "),r=m(e[31]),s=m(" rice, "),l=m(e[32]),a=m(" LN/Hybrid; current TB = "),i=m(_),o=m(")\r\n    "),d=f("div"),g=f("input"),b=h(),k=f("a"),k.textContent="📝 Copy",x=h(),S=f("div");for(let e=0;e<O.length;e+=1)O[e].c();g.readOnly=!0,g.value=y=e[1].picks.length?`${e[1].players[0].player.username} ${e[2]} - ${e[3]} ${e[1].players[1].player.username} | Loser's turn to pick: ${e[0].username}, please pick a map!`:`${e[1].players[0].player.username} ${e[2]} - ${e[3]} ${e[1].players[1].player.username} | ${e[0].username} picks first: please pick a map!`,v(g,"class","svelte-1i9ndwz"),v(k,"href","#/referee!helper"),v(k,"class","copy"),v(d,"class","call svelte-1i9ndwz"),v(S,"class","maps svelte-1i9ndwz"),v(t,"class","picks svelte-1i9ndwz")},m(p,f){u(p,t,f),c(t,n),c(t,r),c(t,s),c(t,l),c(t,a),c(t,i),c(t,o),c(t,d),c(d,g),e[96](g),c(d,b),c(d,k),c(t,x),c(t,S);for(let e=0;e<O.length;e+=1)O[e].m(S,null);q=!0,C||(T=$(k,"click",e[97]),C=!0)},p(e,t){(!q||1&t[1])&&w(r,e[31]),(!q||2&t[1])&&w(l,e[32]),(!q||3&t[1])&&_!==(_=e[31]<e[32]?"Tiebreaker (rice)":"Tiebreaker (hybrid)")&&w(i,_),(!q||15&t[0]&&y!==(y=e[1].picks.length?`${e[1].players[0].player.username} ${e[2]} - ${e[3]} ${e[1].players[1].player.username} | Loser's turn to pick: ${e[0].username}, please pick a map!`:`${e[1].players[0].player.username} ${e[2]} - ${e[3]} ${e[1].players[1].player.username} | ${e[0].username} picks first: please pick a map!`)&&g.value!==y)&&(g.value=y),1073741890&t[0]|2048&t[1]&&(z=e[6],D(),O=Y(O,t,M,1,e,z,j,S,I,ia,null,vl),U())},i(e){if(!q){for(let e=0;e<z.length;e+=1)E(O[e]);q=!0}},o(e){for(let e=0;e<O.length;e+=1)B(O[e]);q=!1},d(n){n&&p(t),e[96](null);for(let e=0;e<O.length;e+=1)O[e].d();C=!1,T()}}}function la(e){let t,n,r;return n=new Yt({props:{map:e[109]}}),{c(){t=f("div"),F(n.$$.fragment),v(t,"class","disabled svelte-1i9ndwz")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},p(e,t){const r={};64&t[0]&&(r.map=e[109]),n.$set(r)},i(e){r||(E(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function aa(e){let t,n;return t=new Yt({props:{map:e[109]}}),t.$on("click",(function(...t){return e[98](e[109],...t)})),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};64&r[0]&&(s.map=e[109]),t.$set(s)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function ia(e,t){let n,r,s,l,a,i,o;function c(...e){return t[44](t[109],...e)}function d(...e){return t[45](t[109],...e)}const f=[aa,la],m=[];function h(e,t){return 1073741890&t[0]&&(r=!(e[109].category.startsWith("Tiebreaker")||e[1].bans[0]?.map?.id==e[109].id||e[1].bans[1]?.map?.id==e[109].id||e[30].find(c))),r?0:(1073741890&t[0]&&(s=!(e[1].bans[0]?.map?.id!=e[109].id&&e[1].bans[1]?.map?.id!=e[109].id&&!e[30].find(d))),s?1:-1)}return~(l=h(t,[-1]))&&(a=m[l]=f[l](t)),{key:e,first:null,c(){n=g(),a&&a.c(),i=g(),this.first=n},m(e,t){u(e,n,t),~l&&m[l].m(e,t),u(e,i,t),o=!0},p(e,n){let r=l;l=h(t=e,n),l===r?~l&&m[l].p(t,n):(a&&(D(),B(m[r],1,1,(()=>{m[r]=null})),U()),~l?(a=m[l],a?a.p(t,n):(a=m[l]=f[l](t),a.c()),E(a,1),a.m(i.parentNode,i)):a=null)},i(e){o||(E(a),o=!0)},o(e){B(a),o=!1},d(e){e&&p(n),~l&&m[l].d(e),e&&p(i)}}}function oa(e){let t,n,r,s,l,a,i,o,d,g,$,y,b,k,x,S=e[31]<e[32]?"Tiebreaker (rice)":"Tiebreaker (hybrid)";const q=[ua,ca],C=[];function T(e,t){return e[31]<e[32]?0:1}return b=T(e),k=C[b]=q[b](e),{c(){t=f("div"),n=f("center"),r=m("Woah, that's a tiebreaker situation! "),s=m(e[31]),l=m(" rice, "),a=m(e[32]),i=m(" LN/Hybrid, TB = "),o=m(S),d=f("br"),g=m("\r\n      (Click on the tiebreaker to confirm it)"),$=h(),y=f("div"),k.c(),v(y,"class","maps svelte-1i9ndwz"),v(t,"class","picks svelte-1i9ndwz")},m(e,p){u(e,t,p),c(t,n),c(n,r),c(n,s),c(n,l),c(n,a),c(n,i),c(n,o),c(n,d),c(n,g),c(t,$),c(t,y),C[b].m(y,null),x=!0},p(e,t){(!x||1&t[1])&&w(s,e[31]),(!x||2&t[1])&&w(a,e[32]),(!x||3&t[1])&&S!==(S=e[31]<e[32]?"Tiebreaker (rice)":"Tiebreaker (hybrid)")&&w(o,S);let n=b;b=T(e),b===n?C[b].p(e,t):(D(),B(C[n],1,1,(()=>{C[n]=null})),U(),k=C[b],k?k.p(e,t):(k=C[b]=q[b](e),k.c()),E(k,1),k.m(y,null))},i(e){x||(E(k),x=!0)},o(e){B(k),x=!1},d(e){e&&p(t),C[b].d()}}}function ca(e){let t,n;return t=new Yt({props:{map:e[22]}}),t.$on("click",e[100]),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};4194304&n[0]&&(r.map=e[22]),t.$set(r)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function ua(e){let t,n;return t=new Yt({props:{map:e[21]}}),t.$on("click",e[99]),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};2097152&n[0]&&(r.map=e[21]),t.$set(r)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function pa(e){let t,n,r,s,l,a,i,o;return{c(){t=f("div"),n=f("div"),r=f("input"),l=h(),a=f("a"),a.textContent="📝 Copy",r.readOnly=!0,r.value=s=`${e[1].players[0].player.username} ${e[2]} - ${e[3]} ${e[1].players[1].player.username} | ${e[1].players[0].player.username} wins the match! Congratulations!`,v(r,"class","svelte-1i9ndwz"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(n,"class","call svelte-1i9ndwz"),v(t,"class","winner svelte-1i9ndwz")},m(s,p){u(s,t,p),c(t,n),c(n,r),e[101](r),c(n,l),c(n,a),i||(o=$(a,"click",e[102]),i=!0)},p(e,t){14&t[0]&&s!==(s=`${e[1].players[0].player.username} ${e[2]} - ${e[3]} ${e[1].players[1].player.username} | ${e[1].players[0].player.username} wins the match! Congratulations!`)&&r.value!==s&&(r.value=s)},d(n){n&&p(t),e[101](null),i=!1,o()}}}function da(e){let t,n,r,s,l,a,i,o;return{c(){t=f("div"),n=f("div"),r=f("input"),l=h(),a=f("a"),a.textContent="📝 Copy",r.readOnly=!0,r.value=s=`${e[1].players[0].player.username} ${e[2]} - ${e[3]} ${e[1].players[1].player.username} | ${e[1].players[1].player.username} wins the match! Congratulations!`,v(r,"class","svelte-1i9ndwz"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(n,"class","call svelte-1i9ndwz"),v(t,"class","winner svelte-1i9ndwz")},m(s,p){u(s,t,p),c(t,n),c(n,r),e[103](r),c(n,l),c(n,a),i||(o=$(a,"click",e[104]),i=!0)},p(e,t){14&t[0]&&s!==(s=`${e[1].players[0].player.username} ${e[2]} - ${e[3]} ${e[1].players[1].player.username} | ${e[1].players[1].player.username} wins the match! Congratulations!`)&&r.value!==s&&(r.value=s)},d(n){n&&p(t),e[103](null),i=!1,o()}}}function fa(e){let t,n,r,s;return n=new Cr({props:{match:e[106]}}),n.$on("click",(function(...t){return e[48](e[106],...t)})),{c(){t=f("div"),F(n.$$.fragment),r=h(),v(t,"class","match-container")},m(e,l){u(e,t,l),Q(n,t,null),c(t,r),s=!0},p(t,r){e=t;const s={};32&r[0]&&(s.match=e[106]),n.$set(s)},i(e){s||(E(n.$$.fragment,e),s=!0)},o(e){B(n.$$.fragment,e),s=!1},d(e){e&&p(t),K(n)}}}function ma(e,t){let n,r,s,l=(!t[23]||t[106].referee?.id==t[4]?.id)&&(t[24]||t[106].points1<4&&t[106].points2<4&&!t[106].wbd)&&fa(t);return{key:e,first:null,c(){n=g(),l&&l.c(),r=g(),this.first=n},m(e,t){u(e,n,t),l&&l.m(e,t),u(e,r,t),s=!0},p(e,n){(t=e)[23]&&t[106].referee?.id!=t[4]?.id||!(t[24]||t[106].points1<4&&t[106].points2<4&&!t[106].wbd)?l&&(D(),B(l,1,1,(()=>{l=null})),U()):l?(l.p(t,n),25165872&n[0]&&E(l,1)):(l=fa(t),l.c(),E(l,1),l.m(r.parentNode,r))},i(e){s||(E(l),s=!0)},o(e){B(l),s=!1},d(e){e&&p(n),l&&l.d(e),e&&p(r)}}}function ha(e){let t,n,r,s;const l=[_l,Tl,Cl,ql],a=[];function i(e,t){return e[4]?e[5]?e[1]?3:2:1:0}return n=i(e),r=a[n]=l[n](e),{c(){t=f("div"),r.c(),v(t,"class","container svelte-1i9ndwz")},m(e,r){u(e,t,r),a[n].m(t,null),s=!0},p(e,s){let o=n;n=i(e),n===o?a[n].p(e,s):(D(),B(a[o],1,1,(()=>{a[o]=null})),U(),r=a[n],r?r.p(e,s):(r=a[n]=l[n](e),r.c()),E(r,1),r.m(t,null))},i(e){s||(E(r),s=!0)},o(e){B(r),s=!1},d(e){e&&p(t),a[n].d()}}}function ga(e,t,n){let r,s,l;a(e,re,(e=>n(4,r=e))),a(e,Tr,(e=>n(5,s=e))),a(e,_r,(e=>n(6,l=e)));var i,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{o(r.next(e))}catch(e){l(e)}}function i(e){try{o(r.throw(e))}catch(e){l(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}o((r=r.apply(e,t||[])).next())}))};const c=(e,t)=>{e.preventDefault(),n(1,w=t),t?localStorage.setItem("referee:match",String(t.id)):(localStorage.removeItem("referee:match"),Or())},u=e=>{e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")},p=()=>o(void 0,void 0,void 0,(function*(){if(!E&&!w.link)return alert("Please fill the MP link!");if(!G||!H)return alert("Please set the rolls!");n(1,w=Object.assign(Object.assign({},w),{rolls:[{player:w.players[0].player,value:G},{player:w.players[1].player,value:H}]}));const e=yield de("/items/rolls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{match:w.id,player:w.players[0].player.id,value:G},{match:w.id,player:w.players[1].player.id,value:H}])});w.link||(yield de(`/items/matches/${w.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({link:E})})),e.errors?alert(e.errors[0].message):n(1,w=Object.assign(Object.assign({},w),{link:E,rolls:e.data}))})),d=(e,t,r)=>o(void 0,void 0,void 0,(function*(){e.preventDefault(),n(1,w=Object.assign(Object.assign({},w),{protects:[...w.protects||[],{player:r,map:t}]}));const s=yield de("/items/protects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:w.id,player:r.id,map:t.id})});s.errors?alert(s.errors[0].message):n(1,w.protects[w.protects.length-1].id=s.data.id,w)})),f=(e,t,r)=>o(void 0,void 0,void 0,(function*(){e.preventDefault(),n(1,w=Object.assign(Object.assign({},w),{bans:[...w.bans||[],{player:r,map:t}]}));const s=yield de("/items/bans",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:w.id,player:r.id,map:t.id})});s.errors?alert(s.errors[0].message):n(1,w.bans[w.bans.length-1].id=s.data.id,w)})),m=(e,t)=>o(void 0,void 0,void 0,(function*(){e.preventDefault(),n(1,w=Object.assign(Object.assign({},w),{picks:[...w.picks||[],{player:v,map:t}]}));const r=yield de("/items/picks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:w.id,player:null==v?void 0:v.id,map:t.id})});r.errors?alert(r.errors[0].message):n(1,w.picks[w.picks.length-1].id=r.data.id,w)}));let h=!1;const g=e=>o(void 0,void 0,void 0,(function*(){n(7,h=!0);const t=yield de("/custom/matches/scores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:w.id,map:e.id})});n(7,h=!1),t.errors?alert(t.errors[0].message):n(1,w=Object.assign(Object.assign({},w),{scores:t}))})),$=(e,t)=>o(void 0,void 0,void 0,(function*(){const r=t.id==w.players[0].player.id?1:0;n(1,w=Object.assign(Object.assign({},w),{scores:[...w.scores,{map:e,player:t,score:1},{map:e,player:w.players[r].player,score:0}]}))}));let v,w,b,k,x,S,q,C,T,O,j,z,M,N,P,L,A,G,H,R,D=!0,U=!1,E="",B="",J="",W=[],I=0,Y=0,F=0,Q=0;const K=(e,t)=>{if(!e)return null;const[n,r]=e.rolls;if(!n||!r)return null;const[s,l]=e.players;return n.value>r.value?"winner"==t?s.player:l.player:"winner"==t?l.player:s.player};return e.$$.update=()=>{if(112&e.$$.dirty[0]&&r&&!s){let e=localStorage.getItem("referee:match");Or().then((()=>{n(1,w=s.find((t=>String(t.id)==e))),n(21,L=l.find((e=>"Tiebreaker (rice)"==e.category))),n(22,A=l.find((e=>"Tiebreaker (hybrid)"==e.category)))}))}15&e.$$.dirty[0]|4099&e.$$.dirty[1]&&(n(0,v=K(w,"winner")),n(2,I=0),n(3,Y=0),n(31,F=0),n(32,Q=0),n(30,W=null===n(43,i=null==w?void 0:w.picks)||void 0===i?void 0:i.map((e=>{var t,r,s;const l=Object.assign(Object.assign({},e),{scores:(null===(t=w.scores)||void 0===t?void 0:t.filter((t=>t.map.id==e.map.id)))||[]});1==l.scores.length&&l.scores.push(Object.assign(Object.assign({},l.scores[0]),{player:w.players[(null===(r=l.scores[0])||void 0===r?void 0:r.player.id)==w.players[0].player.id?1:0].player,score:0})),(null===(s=l.scores[0])||void 0===s?void 0:s.player.id)!=w.players[0].player.id&&(l.scores=l.scores.reverse());const[a,i]=l.scores;return a&&i?(n(33,R=!1),a.score>i.score?(n(2,I+=1),n(0,v=w.players[1].player)):(n(3,Y+=1),n(0,v=w.players[0].player))):n(33,R=!0),"Rice"==e.map.category?n(31,F+=1):n(32,Q+=1),l}))))},[v,w,I,Y,r,s,l,h,b,k,x,S,q,C,T,O,j,z,M,N,P,L,A,D,U,E,B,J,G,H,W,F,Q,R,c,u,p,d,f,g,$,K,m,i,(e,t)=>t.map.id==e.id,(e,t)=>t.map.id==e.id,()=>n(23,D=!D),()=>n(24,U=!U),(e,t)=>c(t,e),e=>c(e),function(e){_[e?"unshift":"push"]((()=>{b=e,n(8,b)}))},()=>u(b),function(e){_[e?"unshift":"push"]((()=>{k=e,n(9,k)}))},()=>u(k),function(e){_[e?"unshift":"push"]((()=>{x=e,n(10,x)}))},()=>u(x),function(e){_[e?"unshift":"push"]((()=>{S=e,n(11,S)}))},()=>u(S),function(e){_[e?"unshift":"push"]((()=>{q=e,n(12,q)}))},()=>u(q),function(e){_[e?"unshift":"push"]((()=>{C=e,n(13,C)}))},()=>u(C),function(){E=this.value,n(25,E)},function(){B=this.value,n(26,B)},function(){J=this.value,n(27,J)},function(e){_[e?"unshift":"push"]((()=>{T=e,n(14,T)}))},()=>u(T),function(e){_[e?"unshift":"push"]((()=>{O=e,n(15,O)}))},()=>u(O),function(e){_[e?"unshift":"push"]((()=>{j=e,n(16,j)}))},()=>u(j),function(){G=y(this.value),n(28,G)},function(){H=y(this.value),n(29,H)},()=>p(),e=>e.id==w.protects[0].map.id,function(e){_[e?"unshift":"push"]((()=>{z=e,n(17,z)}))},()=>u(z),(e,t)=>d(t,e,K(w,"winner")),e=>e.id==w.protects[1].map.id,function(e){_[e?"unshift":"push"]((()=>{z=e,n(17,z)}))},()=>u(z),(e,t)=>d(t,e,K(w,"loser")),e=>e.id==w.bans[0].map.id,function(e){_[e?"unshift":"push"]((()=>{M=e,n(18,M)}))},()=>u(M),(e,t)=>f(t,e,K(w,"loser")),e=>e.id==w.bans[1].map.id,function(e){_[e?"unshift":"push"]((()=>{M=e,n(18,M)}))},()=>u(M),(e,t)=>f(t,e,K(w,"winner")),(e,t)=>t.id==e.map.id,function(e){_[e?"unshift":"push"]((()=>{P=e,n(20,P)}))},()=>u(P),e=>g(e.map),e=>$(e.map,w.players[0].player),e=>$(e.map,w.players[1].player),function(e){_[e?"unshift":"push"]((()=>{N=e,n(19,N)}))},()=>u(N),(e,t)=>m(t,e),e=>m(e,L),e=>m(e,A),function(e){_[e?"unshift":"push"]((()=>{P=e,n(20,P)}))},()=>u(P),function(e){_[e?"unshift":"push"]((()=>{P=e,n(20,P)}))},()=>u(P)]}class $a extends Z{constructor(e){super(),X(this,e,ga,ha,l,{},[-1,-1,-1,-1])}}function va(e){let t,n,r,s,l,a,i,o,d,m,g;t=new ke({}),s=new Me({}),a=new De({props:{stages:e[1]}});const $=[La,Pa,Na,Ma,za,ja,Oa,_a,Ta,Ca,qa,Sa,xa,ka,ba],y=[];function w(e,t){return"players"==e[0]?0:"countries"==e[0]?1:"qualifiers"==e[0]?2:"qualifiers!maps"==e[0]?3:"qualifiers!elite"==e[0]?4:"qualifiers!elite!maps"==e[0]?5:"qualifiers!lobbies"==e[0]?6:"groups"==e[0]?7:"groups!results"==e[0]?8:"groups!maps"==e[0]?9:"groups!rolls"==e[0]?10:"ro64"==e[0]?11:"ro64!maps"==e[0]?12:"ro64!rolls"==e[0]?13:14}return d=w(e),m=y[d]=$[d](e),{c(){F(t.$$.fragment),n=h(),r=f("div"),F(s.$$.fragment),l=h(),F(a.$$.fragment),i=h(),o=f("div"),m.c(),v(o,"class","page svelte-ucquck"),v(r,"class","body svelte-ucquck")},m(e,p){Q(t,e,p),u(e,n,p),u(e,r,p),Q(s,r,null),c(r,l),Q(a,r,null),c(r,i),c(r,o),y[d].m(o,null),g=!0},p(e,t){const n={};2&t&&(n.stages=e[1]),a.$set(n);let r=d;d=w(e),d!==r&&(D(),B(y[r],1,1,(()=>{y[r]=null})),U(),m=y[d],m||(m=y[d]=$[d](e),m.c()),E(m,1),m.m(o,null))},i(e){g||(E(t.$$.fragment,e),E(s.$$.fragment,e),E(a.$$.fragment,e),E(m),g=!0)},o(e){B(t.$$.fragment,e),B(s.$$.fragment,e),B(a.$$.fragment,e),B(m),g=!1},d(e){K(t,e),e&&p(n),e&&p(r),K(s),K(a),y[d].d()}}}function ya(t){let n,r;return n=new $a({}),{c(){F(n.$$.fragment)},m(e,t){Q(n,e,t),r=!0},p:e,i(e){r||(E(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){K(n,e)}}}function wa(t){let n,r;return n=new fl({}),{c(){F(n.$$.fragment)},m(e,t){Q(n,e,t),r=!0},p:e,i(e){r||(E(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){K(n,e)}}}function ba(e){let t,n;return t=new nt({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function ka(e){let t,n;return t=new el({props:{stage:"ro64"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function xa(e){let t,n;return t=new Bs({props:{stage:"ro64"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Sa(e){let t,n;return t=new Cs({props:{stage:"ro64"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function qa(e){let t,n;return t=new el({props:{stage:"groups"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Ca(e){let t,n;return t=new Bs({props:{stage:"groups"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Ta(e){let t,n;return t=new Zr({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function _a(e){let t,n;return t=new Br({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Oa(e){let t,n;return t=new cn({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function ja(e){let t,n;return t=new ir({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function za(e){let t,n;return t=new hr({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Ma(e){let t,n;return t=new zn({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Na(e){let t,n;return t=new Qn({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Pa(e){let t,n;return t=new St({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function La(e){let t,n;return t=new ht({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Aa(e){let t,n,r,s;const l=[wa,ya,va],a=[];function i(e,t){return"scuffed!drawing"==e[0]?0:"referee!helper"==e[0]?1:2}return t=i(e),n=a[t]=l[t](e),{c(){n.c(),r=g()},m(e,n){a[t].m(e,n),u(e,r,n),s=!0},p(e,[s]){let o=t;t=i(e),t===o?a[t].p(e,s):(D(),B(a[o],1,1,(()=>{a[o]=null})),U(),n=a[t],n?n.p(e,s):(n=a[t]=l[t](e),n.c()),E(n,1),n.m(r.parentNode,r))},i(e){s||(E(n),s=!0)},o(e){B(n),s=!1},d(e){a[t].d(e),e&&p(r)}}}function Ga(e,t,n){let r,s;return a(e,ce,(e=>n(0,r=e))),a(e,oe,(e=>n(1,s=e))),[r,s]}return new class extends Z{constructor(e){super(),X(this,e,Ga,Aa,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
