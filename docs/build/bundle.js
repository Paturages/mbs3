var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function i(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function o(e,t,n,r,s,l,a){const o=function(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}(t,r,s,l);if(o){const s=i(t,n,r,a);e.p(s,o)}}function c(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function h(){return f(" ")}function g(){return f("")}function y(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function v(e){return""===e?null:+e}function b(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function w(e,t){e.value=null==t?"":t}function k(e,t,n){e.classList[n?"add":"remove"](t)}let x;function C(e){x=e}function S(e){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_mount.push(e)}function T(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const _=[],O=[],q=[],N=[],M=Promise.resolve();let P=!1;function j(e){q.push(e)}let L=!1;const z=new Set;function A(){if(!L){L=!0;do{for(let e=0;e<_.length;e+=1){const t=_[e];C(t),H(t.$$)}for(C(null),_.length=0;O.length;)O.pop()();for(let e=0;e<q.length;e+=1){const t=q[e];z.has(t)||(z.add(t),t())}q.length=0}while(_.length);for(;N.length;)N.pop()();P=!1,L=!1,z.clear()}}function H(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const D=new Set;let R;function U(){R={r:0,c:[],p:R}}function E(){R.r||r(R.c),R=R.p}function G(e,t){e&&e.i&&(D.delete(e),e.i(t))}function W(e,t,n,r){if(e&&e.o){if(D.has(e))return;D.add(e),R.c.push((()=>{D.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const J="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function I(e,t){e.d(1),t.delete(e.key)}function B(e,t){W(e,1,1,(()=>{t.delete(e.key)}))}function F(e,t,n,r,s,l,a,i,o,c,u,p){let d=e.length,m=l.length,f=d;const h={};for(;f--;)h[e[f].key]=f;const g=[],y=new Map,$=new Map;for(f=m;f--;){const e=p(s,l,f),i=n(e);let o=a.get(i);o?r&&o.p(e,t):(o=c(i,e),o.c()),y.set(i,g[f]=o),i in h&&$.set(i,Math.abs(f-h[i]))}const v=new Set,b=new Set;function w(e){G(e,1),e.m(i,u),a.set(e.key,e),u=e.first,m--}for(;d&&m;){const t=g[m-1],n=e[d-1],r=t.key,s=n.key;t===n?(u=t.first,d--,m--):y.has(s)?!a.has(r)||v.has(r)?w(t):b.has(s)?d--:$.get(r)>$.get(s)?(b.add(r),w(t)):(v.add(s),d--):(o(n,a),d--)}for(;d--;){const t=e[d];y.has(t.key)||o(t,a)}for(;m;)w(g[m-1]);return g}function Y(e){e&&e.c()}function Q(e,n,l,a){const{fragment:i,on_mount:o,on_destroy:c,after_update:u}=e.$$;i&&i.m(n,l),a||j((()=>{const n=o.map(t).filter(s);c?c.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(j)}function K(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function X(e,t){-1===e.$$.dirty[0]&&(_.push(e),P||(P=!0,M.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function V(t,s,l,a,i,o,c=[-1]){const u=x;C(t);const d=t.$$={fragment:null,ctx:null,props:o,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let m=!1;if(d.ctx=l?l(t,s.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return d.ctx&&i(d.ctx[e],d.ctx[e]=s)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](s),m&&X(t,e)),n})):[],d.update(),m=!0,r(d.before_update),d.fragment=!!a&&a(d.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);d.fragment&&d.fragment.l(e),e.forEach(p)}else d.fragment&&d.fragment.c();s.intro&&G(t.$$.fragment),Q(t,s.target,s.anchor,s.customElement),A()}C(u)}class Z{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ee=[];function te(t,n=e){let r;const s=[];function a(e){if(l(t,e)&&(t=e,r)){const e=!ee.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),ee.push(n,t)}if(e){for(let e=0;e<ee.length;e+=2)ee[e][0](ee[e+1]);ee.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(l,i=e){const o=[l,i];return s.push(o),1===s.length&&(r=n(a)||e),l(t),()=>{const e=s.indexOf(o);-1!==e&&s.splice(e,1),0===s.length&&(r(),r=null)}}}}const{API_URL:ne}={API_URL:"https://api.mbs3.fightthe.pw",UI_URL:"https://mbs3.fightthe.pw",isProd:!0},re=te(null),se=te(null),le=te([]),ae=te([]),ie=te([]),oe=te([]),ce=te(null),ue=new Set(["players","countries","qualifiers","qualifiers!maps","qualifiers!elite","qualifiers!elite!maps","qualifiers!lobbies","groups","scuffed!drawing","referee!helper"]),pe=()=>{const{hash:e}=location,[,t]=e.split("/");ue.has(t)?ce.set(t):(ce.set("home"),"#/"!=e&&(location.hash="#/"))};window.addEventListener("hashchange",pe),pe();const de=(e,t={headers:{}})=>fetch(`${ne}${e}`,Object.assign(Object.assign({},t),{headers:Object.assign({Authorization:me?`Bearer ${me}`:void 0},t.headers)})).then((e=>e.json()));let me;function fe(t){let n,r;return{c(){n=m("a"),r=f("Login"),$(n,"href",t[3])},m(e,t){u(e,n,t),c(n,r)},p:e,d(e){e&&p(n)}}}function he(e){let t,n,r,s,l,a,i,o,d,g,v,w=e[0].username+"",k=e[0].player&&ge(),x=e[0].referee&&ye(),C=e[0].commentator&&$e(),S=e[0].streamer&&ve();return{c(){t=f("Logged in as\r\n      "),n=m("b"),r=f(w),s=f(" -\r\n      "),k&&k.c(),l=h(),x&&x.c(),a=h(),C&&C.c(),i=h(),S&&S.c(),o=h(),d=m("a"),d.textContent="Log out",$(d,"href","#/")},m(p,m){u(p,t,m),u(p,n,m),c(n,r),u(p,s,m),k&&k.m(p,m),u(p,l,m),x&&x.m(p,m),u(p,a,m),C&&C.m(p,m),u(p,i,m),S&&S.m(p,m),u(p,o,m),u(p,d,m),g||(v=y(d,"click",e[2]),g=!0)},p(e,t){1&t&&w!==(w=e[0].username+"")&&b(r,w),e[0].player?k||(k=ge(),k.c(),k.m(l.parentNode,l)):k&&(k.d(1),k=null),e[0].referee?x||(x=ye(),x.c(),x.m(a.parentNode,a)):x&&(x.d(1),x=null),e[0].commentator?C||(C=$e(),C.c(),C.m(i.parentNode,i)):C&&(C.d(1),C=null),e[0].streamer?S||(S=ve(),S.c(),S.m(o.parentNode,o)):S&&(S.d(1),S=null)},d(e){e&&p(t),e&&p(n),e&&p(s),k&&k.d(e),e&&p(l),x&&x.d(e),e&&p(a),C&&C.d(e),e&&p(i),S&&S.d(e),e&&p(o),e&&p(d),g=!1,v()}}}function ge(e){let t;return{c(){t=f("Player -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function ye(e){let t;return{c(){t=f("Referee -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function $e(e){let t;return{c(){t=f("Commentator -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function ve(e){let t;return{c(){t=f("Streamer -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function be(t){let n,r,s,l,a,i;function o(e,t){return e[0]?he:e[1].length?fe:void 0}let d=o(t),f=d&&d(t);return{c(){n=m("div"),r=m("a"),r.innerHTML='<div class="logo svelte-swbai7"><img alt="" src="/images/logo.png" class="svelte-swbai7"/></div> \n    <h1 class="svelte-swbai7"><img alt="Mania Beginner&#39;s Showdown" src="/images/title.png" class="svelte-swbai7"/> \n      <div class="three svelte-swbai7"><span class="svelte-swbai7">3</span></div></h1>',s=h(),l=m("div"),l.innerHTML='<div class="host-title svelte-swbai7">Hosted by</div>\n    Paturages &amp; Davvy',a=h(),i=m("div"),f&&f.c(),$(r,"href","#/"),$(l,"class","hosts svelte-swbai7"),$(i,"class","me svelte-swbai7"),$(n,"class","banner svelte-swbai7")},m(e,t){u(e,n,t),c(n,r),c(n,s),c(n,l),c(n,a),c(n,i),f&&f.m(i,null)},p(e,[t]){d===(d=o(e))&&f?f.p(e,t):(f&&f.d(1),f=d&&d(e),f&&(f.c(),f.m(i,null)))},i:e,o:e,d(e){e&&p(n),f&&f.d()}}}function we(e,t,n){let r,s;a(e,re,(e=>n(0,r=e))),a(e,le,(e=>n(1,s=e)));var l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{o(r.next(e))}catch(e){l(e)}}function i(e){try{o(r.throw(e))}catch(e){l(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}o((r=r.apply(e,t||[])).next())}))};return[r,s,()=>l(void 0,void 0,void 0,(function*(){yield fetch("https://api.mbs3.fightthe.pw/auth/logout",{method:"POST",credentials:"include"}),location.reload()})),"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw"]}(async()=>{const{data:e}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  stages(sort: "sort") {\n    slug\n    name\n    date_start\n    date_end\n    link\n  }\n  players(sort: "ranking", limit: -1) {\n    id\n    seed\n    group {\n      id\n    }\n    elite\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n    ranking\n    pp\n    qualifier {\n      name\n      link\n      time\n    }\n  }\n  referees {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n  commentators {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n  streamers {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n}'})});oe.set(e.stages),se.set(e.players);const t=new Map(e.players.map((e=>[e.id,e])));le.set(e.referees);const n=new Map(e.referees.map((e=>[e.id,e])));ae.set(e.commentators);const r=new Map(e.commentators.map((e=>[e.id,e])));ie.set(e.streamers);const s=new Map(e.streamers.map((e=>[e.id,e]))),l=await fetch(`${ne}/auth/refresh`,{method:"POST",credentials:"include"});if(200==l.status){const e=await l.json();me=e.data.access_token;const{data:{first_name:a,email:i,avatar:o}}=await de("/users/me?fields=first_name,email");let c=!1;const u=-(new Date).getTimezoneOffset()/60,p=t.get(i);p&&(c=!p.timezone||!p.timezone.endsWith(String(u)));const d=n.get(i);d&&!c&&(c=!d.timezone||!d.timezone.endsWith(String(u)));const m=r.get(i);m&&!c&&(c=!m.timezone||!m.timezone.endsWith(String(u)));const f=s.get(i);f&&!c&&(c=!f.timezone||!f.timezone.endsWith(String(u))),re.set({avatar:o,username:a,id:i,player:p,referee:d,commentator:m,streamer:f,qualifier:null==p?void 0:p.qualifier}),c&&await de("/custom/profile/timezone",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({offset:(new Date).getTimezoneOffset()})})}})();class ke extends Z{constructor(e){super(),V(this,e,we,be,l,{})}}function xe(e){let t,n,r,s,l,a,d,f;const h=e[3].default,g=function(e,t,n,r){if(e){const s=i(e,t,n,r);return e[0](s)}}(h,e,e[2],null);return{c(){t=m("span"),n=m("a"),r=m("div"),g&&g.c(),$(r,"class","text svelte-hih935"),$(n,"href",s=e[0]||"javascript:void(0)"),$(n,"target",e[1]),$(n,"rel",l="_blank"===e[1]?"noopener":void 0),$(n,"class","link svelte-hih935"),$(t,"class","button")},m(s,l){u(s,t,l),c(t,n),c(n,r),g&&g.m(r,null),a=!0,d||(f=y(n,"click",e[4]),d=!0)},p(e,[t]){g&&g.p&&4&t&&o(g,h,e,e[2],t,null,null),(!a||1&t&&s!==(s=e[0]||"javascript:void(0)"))&&$(n,"href",s),(!a||2&t)&&$(n,"target",e[1]),(!a||2&t&&l!==(l="_blank"===e[1]?"noopener":void 0))&&$(n,"rel",l)},i(e){a||(G(g,e),a=!0)},o(e){W(g,e),a=!1},d(e){e&&p(t),g&&g.d(e),d=!1,f()}}}function Ce(e,t,n){let{$$slots:r={},$$scope:s}=t,{href:l}=t,{target:a=""}=t;return e.$$set=e=>{"href"in e&&n(0,l=e.href),"target"in e&&n(1,a=e.target),"$$scope"in e&&n(2,s=e.$$scope)},[l,a,s,r,function(t){T(e,t)}]}class Se extends Z{constructor(e){super(),V(this,e,Ce,xe,l,{href:0,target:1})}}function Te(e){let t;return{c(){t=f("Forum post")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function _e(e){let t;return{c(){t=f("Discord")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Oe(e){let t;return{c(){t=f("Players")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function qe(e){let t;return{c(){t=f("Countries")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ne(e){let t,n,r,s,l,a,i,o,d,f,g,y,v,b;return s=new Se({props:{href:"https://osu.ppy.sh/community/forums/topics/1280306",target:"_blank",$$slots:{default:[Te]},$$scope:{ctx:e}}}),i=new Se({props:{href:"https://discord.gg/uNSqksR",target:"_blank",$$slots:{default:[_e]},$$scope:{ctx:e}}}),f=new Se({props:{href:"#/players",$$slots:{default:[Oe]},$$scope:{ctx:e}}}),v=new Se({props:{href:"#/countries",$$slots:{default:[qe]},$$scope:{ctx:e}}}),{c(){t=m("nav"),n=m("ul"),r=m("li"),Y(s.$$.fragment),l=h(),a=m("li"),Y(i.$$.fragment),o=h(),d=m("li"),Y(f.$$.fragment),g=h(),y=m("li"),Y(v.$$.fragment),$(r,"class","svelte-rtylg"),$(a,"class","svelte-rtylg"),$(d,"class","svelte-rtylg"),$(y,"class","svelte-rtylg"),$(n,"class","svelte-rtylg")},m(e,p){u(e,t,p),c(t,n),c(n,r),Q(s,r,null),c(n,l),c(n,a),Q(i,a,null),c(n,o),c(n,d),Q(f,d,null),c(n,g),c(n,y),Q(v,y,null),b=!0},p(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const r={};1&t&&(r.$$scope={dirty:t,ctx:e}),i.$set(r);const l={};1&t&&(l.$$scope={dirty:t,ctx:e}),f.$set(l);const a={};1&t&&(a.$$scope={dirty:t,ctx:e}),v.$set(a)},i(e){b||(G(s.$$.fragment,e),G(i.$$.fragment,e),G(f.$$.fragment,e),G(v.$$.fragment,e),b=!0)},o(e){W(s.$$.fragment,e),W(i.$$.fragment,e),W(f.$$.fragment,e),W(v.$$.fragment,e),b=!1},d(e){e&&p(t),K(s),K(i),K(f),K(v)}}}class Me extends Z{constructor(e){super(),V(this,e,null,Ne,l,{})}}function Pe(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function je(e){let t;return{c(){t=f("Loading...")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Le(e){let t,n=e[3].name+"";return{c(){t=f(n)},m(e,n){u(e,t,n)},p(e,r){1&r&&n!==(n=e[3].name+"")&&b(t,n)},d(e){e&&p(t)}}}function ze(e){let t,n,r,s=e[3].name+"";return{c(){t=m("a"),n=f(s),$(t,"href",r=e[3].link)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[3].name+"")&&b(n,s),1&l&&r!==(r=e[3].link)&&$(t,"href",r)},d(e){e&&p(t)}}}function Ae(e,t){let n,r,s,l,a,i,o,d,g,y=t[2](t[3].date_start)+"",v=t[2](t[3].date_end)+"";function w(e,t){return e[3].link?ze:Le}let x=w(t),C=x(t);return{key:e,first:null,c(){n=m("div"),r=m("div"),C.c(),s=h(),l=m("div"),a=f(y),i=h(),o=m("div"),d=f(v),g=h(),$(r,"class","stage-name svelte-1xzsd"),$(l,"class","stage-date svelte-1xzsd"),$(o,"class","stage-date svelte-1xzsd"),$(n,"class","stage svelte-1xzsd"),k(n,"active",!t[5]||t[0][t[5]-1].date_end<t[1]),this.first=n},m(e,t){u(e,n,t),c(n,r),C.m(r,null),c(n,s),c(n,l),c(l,a),c(n,i),c(n,o),c(o,d),c(n,g)},p(e,s){x===(x=w(t=e))&&C?C.p(t,s):(C.d(1),C=x(t),C&&(C.c(),C.m(r,null))),1&s&&y!==(y=t[2](t[3].date_start)+"")&&b(a,y),1&s&&v!==(v=t[2](t[3].date_end)+"")&&b(d,v),3&s&&k(n,"active",!t[5]||t[0][t[5]-1].date_end<t[1])},d(e){e&&p(n),C.d()}}}function He(t){let n,r=[],s=new Map,l=t[0];const a=e=>e[3].slug;for(let e=0;e<l.length;e+=1){let n=Pe(t,l,e),i=a(n);s.set(i,r[e]=Ae(i,n))}let i=null;return l.length||(i=je()),{c(){n=m("div");for(let e=0;e<r.length;e+=1)r[e].c();i&&i.c(),$(n,"class","schedule svelte-1xzsd")},m(e,t){u(e,n,t);for(let e=0;e<r.length;e+=1)r[e].m(n,null);i&&i.m(n,null)},p(e,[t]){7&t&&(l=e[0],r=F(r,t,a,1,e,l,s,n,I,Ae,null,Pe),l.length?i&&(i.d(1),i=null):i||(i=je(),i.c(),i.m(n,null)))},i:e,o:e,d(e){e&&p(n);for(let e=0;e<r.length;e+=1)r[e].d();i&&i.d()}}}function De(e,t,n){let{stages:r=[]}=t;const s=(new Date).toISOString();return e.$$set=e=>{"stages"in e&&n(0,r=e.stages)},[r,s,e=>new Date(e).toUTCString().replace(" 00:00:00 GMT","")]}class Re extends Z{constructor(e){super(),V(this,e,De,He,l,{stages:0})}}function Ue(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function Ee(e,t,n){const r=e.slice();return r[6]=t[n],r[5]=n,r}function Ge(e,t,n){const r=e.slice();return r[8]=t[n],r[5]=n,r}function We(e){let t;return{c(){t=f("Hosts")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Je(e){let t;return{c(){t=f("Graphic Designer")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ie(e){let t;return{c(){t=f("Mappool selectors")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Be(e){let t;return{c(){t=f("Donators")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Fe(e){let t;return{c(){t=f("Referees")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ye(e){let t,n,r,s,l=e[8].username+"";return{c(){t=m("a"),n=f(l),s=h(),$(t,"href",r=`https://osu.ppy.sh/users/${e[8].id}`),$(t,"target","_blank"),$(t,"rel","noopener"),$(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){1&s&&l!==(l=e[8].username+"")&&b(n,l),1&s&&r!==(r=`https://osu.ppy.sh/users/${e[8].id}`)&&$(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function Qe(e){let t;return{c(){t=f("Streamers")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ke(e){let t,n,r,s,l=e[6].username+"";return{c(){t=m("a"),n=f(l),s=h(),$(t,"href",r=`https://osu.ppy.sh/users/${e[6].id}`),$(t,"target","_blank"),$(t,"rel","noopener"),$(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){2&s&&l!==(l=e[6].username+"")&&b(n,l),2&s&&r!==(r=`https://osu.ppy.sh/users/${e[6].id}`)&&$(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function Xe(e){let t;return{c(){t=f("Commentators")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ve(e){let t,n,r,s,l=e[3].username+"";return{c(){t=m("a"),n=f(l),s=h(),$(t,"href",r=`https://osu.ppy.sh/users/${e[3].id}`),$(t,"target","_blank"),$(t,"rel","noopener"),$(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){4&s&&l!==(l=e[3].username+"")&&b(n,l),4&s&&r!==(r=`https://osu.ppy.sh/users/${e[3].id}`)&&$(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function Ze(e){let t,n,r,s,l,a,i,o,f,g,y,v,b,w,k,x,C,S,T,_,O,q,N,M,P,j,L,z,A,H,D,R,U,E,J;n=new Se({props:{$$slots:{default:[We]},$$scope:{ctx:e}}}),i=new Se({props:{$$slots:{default:[Je]},$$scope:{ctx:e}}}),v=new Se({props:{$$slots:{default:[Ie]},$$scope:{ctx:e}}}),C=new Se({props:{$$slots:{default:[Be]},$$scope:{ctx:e}}}),q=new Se({props:{$$slots:{default:[Fe]},$$scope:{ctx:e}}});let I=e[0],B=[];for(let t=0;t<I.length;t+=1)B[t]=Ye(Ge(e,I,t));L=new Se({props:{$$slots:{default:[Qe]},$$scope:{ctx:e}}});let F=e[1],X=[];for(let t=0;t<F.length;t+=1)X[t]=Ke(Ee(e,F,t));R=new Se({props:{$$slots:{default:[Xe]},$$scope:{ctx:e}}});let V=e[2],Z=[];for(let t=0;t<V.length;t+=1)Z[t]=Ve(Ue(e,V,t));return{c(){t=m("div"),Y(n.$$.fragment),r=h(),s=m("div"),s.innerHTML='<a href="https://osu.ppy.sh/users/1375479" target="_blank" rel="noopener" class="svelte-1psdwt3">Paturages</a>  \n    <a href="https://osu.ppy.sh/users/10047413" target="_blank" rel="noopener" class="svelte-1psdwt3">Davvy</a>',l=h(),a=m("div"),Y(i.$$.fragment),o=h(),f=m("div"),f.innerHTML='<a href="https://osu.ppy.sh/users/9148286" target="_blank" rel="noopener" class="svelte-1psdwt3">E-M-i</a>',g=h(),y=m("div"),Y(v.$$.fragment),b=h(),w=m("div"),w.innerHTML='<a href="https://osu.ppy.sh/users/1375479" target="_blank" rel="noopener" class="svelte-1psdwt3">Paturages</a>  \n    <a href="https://osu.ppy.sh/users/10047413" target="_blank" rel="noopener" class="svelte-1psdwt3">Davvy</a>  \n    <a href="https://osu.ppy.sh/users/11253722" target="_blank" rel="noopener" class="svelte-1psdwt3">DannyPX</a>  \n    <a href="https://osu.ppy.sh/users/11626065" target="_blank" rel="noopener" class="svelte-1psdwt3">guden</a>  \n    <a href="https://osu.ppy.sh/users/2124783" target="_blank" rel="noopener" class="svelte-1psdwt3">Kamikaze</a>  \n    <a href="https://osu.ppy.sh/users/8976576" target="_blank" rel="noopener" class="svelte-1psdwt3">-mint-</a>  \n    <a href="https://osu.ppy.sh/users/8642224" target="_blank" rel="noopener" class="svelte-1psdwt3">Konohana Lucia</a>',k=h(),x=m("div"),Y(C.$$.fragment),S=h(),T=m("div"),T.innerHTML='<a href="https://osu.ppy.sh/users/8642224" target="_blank" rel="noopener" class="svelte-1psdwt3">Konohana Lucia</a>  \n    <a href="https://osu.ppy.sh/users/8184715" target="_blank" rel="noopener" class="svelte-1psdwt3">Syako</a>',_=h(),O=m("div"),Y(q.$$.fragment),N=h(),M=m("div");for(let e=0;e<B.length;e+=1)B[e].c();P=h(),j=m("div"),Y(L.$$.fragment),z=h(),A=m("div");for(let e=0;e<X.length;e+=1)X[e].c();H=h(),D=m("div"),Y(R.$$.fragment),U=h(),E=m("div");for(let e=0;e<Z.length;e+=1)Z[e].c();$(s,"class","container svelte-1psdwt3"),$(t,"class","section svelte-1psdwt3"),$(f,"class","container svelte-1psdwt3"),$(a,"class","section svelte-1psdwt3"),$(w,"class","container svelte-1psdwt3"),$(y,"class","section svelte-1psdwt3"),$(T,"class","container svelte-1psdwt3"),$(x,"class","section svelte-1psdwt3"),$(M,"class","container svelte-1psdwt3"),$(O,"class","section svelte-1psdwt3"),$(A,"class","container svelte-1psdwt3"),$(j,"class","section svelte-1psdwt3"),$(E,"class","container svelte-1psdwt3"),$(D,"class","section svelte-1psdwt3")},m(e,p){u(e,t,p),Q(n,t,null),c(t,r),c(t,s),u(e,l,p),u(e,a,p),Q(i,a,null),c(a,o),c(a,f),u(e,g,p),u(e,y,p),Q(v,y,null),c(y,b),c(y,w),u(e,k,p),u(e,x,p),Q(C,x,null),c(x,S),c(x,T),u(e,_,p),u(e,O,p),Q(q,O,null),c(O,N),c(O,M);for(let e=0;e<B.length;e+=1)B[e].m(M,null);u(e,P,p),u(e,j,p),Q(L,j,null),c(j,z),c(j,A);for(let e=0;e<X.length;e+=1)X[e].m(A,null);u(e,H,p),u(e,D,p),Q(R,D,null),c(D,U),c(D,E);for(let e=0;e<Z.length;e+=1)Z[e].m(E,null);J=!0},p(e,[t]){const r={};1024&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};1024&t&&(s.$$scope={dirty:t,ctx:e}),i.$set(s);const l={};1024&t&&(l.$$scope={dirty:t,ctx:e}),v.$set(l);const a={};1024&t&&(a.$$scope={dirty:t,ctx:e}),C.$set(a);const o={};if(1024&t&&(o.$$scope={dirty:t,ctx:e}),q.$set(o),1&t){let n;for(I=e[0],n=0;n<I.length;n+=1){const r=Ge(e,I,n);B[n]?B[n].p(r,t):(B[n]=Ye(r),B[n].c(),B[n].m(M,null))}for(;n<B.length;n+=1)B[n].d(1);B.length=I.length}const c={};if(1024&t&&(c.$$scope={dirty:t,ctx:e}),L.$set(c),2&t){let n;for(F=e[1],n=0;n<F.length;n+=1){const r=Ee(e,F,n);X[n]?X[n].p(r,t):(X[n]=Ke(r),X[n].c(),X[n].m(A,null))}for(;n<X.length;n+=1)X[n].d(1);X.length=F.length}const u={};if(1024&t&&(u.$$scope={dirty:t,ctx:e}),R.$set(u),4&t){let n;for(V=e[2],n=0;n<V.length;n+=1){const r=Ue(e,V,n);Z[n]?Z[n].p(r,t):(Z[n]=Ve(r),Z[n].c(),Z[n].m(E,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=V.length}},i(e){J||(G(n.$$.fragment,e),G(i.$$.fragment,e),G(v.$$.fragment,e),G(C.$$.fragment,e),G(q.$$.fragment,e),G(L.$$.fragment,e),G(R.$$.fragment,e),J=!0)},o(e){W(n.$$.fragment,e),W(i.$$.fragment,e),W(v.$$.fragment,e),W(C.$$.fragment,e),W(q.$$.fragment,e),W(L.$$.fragment,e),W(R.$$.fragment,e),J=!1},d(e){e&&p(t),K(n),e&&p(l),e&&p(a),K(i),e&&p(g),e&&p(y),K(v),e&&p(k),e&&p(x),K(C),e&&p(_),e&&p(O),K(q),d(B,e),e&&p(P),e&&p(j),K(L),d(X,e),e&&p(H),e&&p(D),K(R),d(Z,e)}}}function et(e,t,n){let r,s,l;return a(e,le,(e=>n(0,r=e))),a(e,ie,(e=>n(1,s=e))),a(e,ae,(e=>n(2,l=e))),[r,s,l]}class tt extends Z{constructor(e){super(),V(this,e,et,Ze,l,{})}}function nt(t){let n,r,s,l,a,i,o,d,g,y,v,w,k,x,C,S,T,_,O,q=t[0].username+"",N=t[0].country+"",M=t[0].ranking+"",P=Number(t[0].pp).toFixed(2)+"";return{c(){n=m("a"),r=m("div"),s=m("img"),a=h(),i=m("div"),o=f(q),d=h(),g=m("div"),y=f(N),v=h(),w=m("div"),k=f(M),x=h(),C=m("div"),S=f("("),T=f(P),_=f(" pp)"),$(s,"class","avatar svelte-18mwkz8"),s.src!==(l=t[0].avatar)&&$(s,"src",l),$(s,"alt",""),$(r,"class","avatar svelte-18mwkz8"),$(g,"class","country svelte-18mwkz8"),$(i,"class","name svelte-18mwkz8"),$(C,"class","pp svelte-18mwkz8"),$(w,"class","ranking svelte-18mwkz8"),$(n,"class","player svelte-18mwkz8"),$(n,"href",O=`https://osu.ppy.sh/users/${t[0].id}`),$(n,"target","_blank"),$(n,"rel","noopener")},m(e,t){u(e,n,t),c(n,r),c(r,s),c(n,a),c(n,i),c(i,o),c(i,d),c(i,g),c(g,y),c(n,v),c(n,w),c(w,k),c(w,x),c(w,C),c(C,S),c(C,T),c(C,_)},p(e,[t]){1&t&&s.src!==(l=e[0].avatar)&&$(s,"src",l),1&t&&q!==(q=e[0].username+"")&&b(o,q),1&t&&N!==(N=e[0].country+"")&&b(y,N),1&t&&M!==(M=e[0].ranking+"")&&b(k,M),1&t&&P!==(P=Number(e[0].pp).toFixed(2)+"")&&b(T,P),1&t&&O!==(O=`https://osu.ppy.sh/users/${e[0].id}`)&&$(n,"href",O)},i:e,o:e,d(e){e&&p(n)}}}function rt(e,t,n){let{player:r}=t;return e.$$set=e=>{"player"in e&&n(0,r=e.player)},[r]}class st extends Z{constructor(e){super(),V(this,e,rt,nt,l,{player:0})}}function lt(e,t,n){const r=e.slice();return r[4]=t[n],r}function at(e){let t,n,r;return n=new Se({props:{href:"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw",$$slots:{default:[it]},$$scope:{ctx:e}}}),{c(){t=m("p"),Y(n.$$.fragment),$(t,"class","register svelte-g74cd1")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},i(e){r||(G(n.$$.fragment,e),r=!0)},o(e){W(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function it(e){let t;return{c(){t=f("Register")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function ot(e){let t,n,r,s,l,a,i=e[1].length+"",o=[],d=new Map,y=e[1];const v=e=>e[4].id;for(let t=0;t<y.length;t+=1){let n=lt(e,y,t),r=v(n);d.set(r,o[t]=pt(r,n))}let w=null;return y.length||(w=ut()),{c(){t=m("div"),n=f("Total players: "),r=f(i),s=h();for(let e=0;e<o.length;e+=1)o[e].c();l=g(),w&&w.c(),$(t,"class","stats")},m(e,i){u(e,t,i),c(t,n),c(t,r),u(e,s,i);for(let t=0;t<o.length;t+=1)o[t].m(e,i);u(e,l,i),w&&w.m(e,i),a=!0},p(e,t){(!a||2&t)&&i!==(i=e[1].length+"")&&b(r,i),2&t&&(y=e[1],U(),o=F(o,t,v,1,e,y,d,l.parentNode,B,pt,l,lt),E(),y.length?w&&(w.d(1),w=null):w||(w=ut(),w.c(),w.m(l.parentNode,l)))},i(e){if(!a){for(let e=0;e<y.length;e+=1)G(o[e]);a=!0}},o(e){for(let e=0;e<o.length;e+=1)W(o[e]);a=!1},d(e){e&&p(t),e&&p(s);for(let t=0;t<o.length;t+=1)o[t].d(e);e&&p(l),w&&w.d(e)}}}function ct(t){let n;return{c(){n=f("Loading players...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function ut(e){let t;return{c(){t=f("No players registered yet!")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function pt(e,t){let n,r,s;return r=new st({props:{player:t[4]}}),{key:e,first:null,c(){n=g(),Y(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.player=t[4]),r.$set(s)},i(e){s||(G(r.$$.fragment,e),s=!0)},o(e){W(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function dt(e){let t,n,r,s,l,a=!e[0]&&at(e);const i=[ct,ot],o=[];function c(e,t){return e[1]?1:0}return r=c(e),s=o[r]=i[r](e),{c(){a&&a.c(),t=h(),n=m("p"),s.c(),$(n,"class","players svelte-g74cd1")},m(e,s){a&&a.m(e,s),u(e,t,s),u(e,n,s),o[r].m(n,null),l=!0},p(e,[l]){e[0]?a&&(U(),W(a,1,1,(()=>{a=null})),E()):a?1&l&&G(a,1):(a=at(e),a.c(),G(a,1),a.m(t.parentNode,t));let u=r;r=c(e),r===u?o[r].p(e,l):(U(),W(o[u],1,1,(()=>{o[u]=null})),E(),s=o[r],s?s.p(e,l):(s=o[r]=i[r](e),s.c()),G(s,1),s.m(n,null))},i(e){l||(G(a),G(s),l=!0)},o(e){W(a),W(s),l=!1},d(e){a&&a.d(e),e&&p(t),e&&p(n),o[r].d()}}}function mt(e,t,n){let r,s;return a(e,re,(e=>n(0,r=e))),a(e,se,(e=>n(1,s=e))),[r,s]}class ft extends Z{constructor(e){super(),V(this,e,mt,dt,l,{})}}function ht(e,t,n){const r=e.slice();return r[5]=t[n].players,r[6]=t[n].country,r}function gt(e,t,n){const r=e.slice();return r[9]=t[n],r}function yt(e){let t;return{c(){t=f("Loading...")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function $t(e){let t,n,r,s=e[5],l=[];for(let t=0;t<s.length;t+=1)l[t]=vt(gt(e,s,t));const a=e=>W(l[e],1,1,(()=>{l[e]=null}));return{c(){t=m("div");for(let e=0;e<l.length;e+=1)l[e].c();n=h(),$(t,"class","players svelte-1q27u36")},m(e,s){u(e,t,s);for(let e=0;e<l.length;e+=1)l[e].m(t,null);c(t,n),r=!0},p(e,r){if(2&r){let i;for(s=e[5],i=0;i<s.length;i+=1){const a=gt(e,s,i);l[i]?(l[i].p(a,r),G(l[i],1)):(l[i]=vt(a),l[i].c(),G(l[i],1),l[i].m(t,n))}for(U(),i=s.length;i<l.length;i+=1)a(i);E()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)G(l[e]);r=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)W(l[e]);r=!1},d(e){e&&p(t),d(l,e)}}}function vt(e){let t,n;return t=new st({props:{player:e[9]}}),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.player=e[9]),t.$set(r)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function bt(e,t){let n,r,s,l,a,i,o,d,v,w,k,x,C,S,T,_=t[6]+"",O=t[5].length+"",q=1==t[5].length?"":"s",N=t[0]==t[6]?"▼":"►";function M(){return t[4](t[6])}let P=t[0]==t[6]&&$t(t);return{key:e,first:null,c(){n=m("div"),r=m("div"),s=f(_),l=f(": "),a=f(O),i=f(" player"),o=f(q),d=h(),v=m("div"),w=f(N),k=h(),P&&P.c(),x=g(),$(r,"class","label svelte-1q27u36"),$(v,"class","pointer"),$(n,"class","country svelte-1q27u36"),this.first=n},m(e,t){u(e,n,t),c(n,r),c(r,s),c(r,l),c(r,a),c(r,i),c(r,o),c(n,d),c(n,v),c(v,w),u(e,k,t),P&&P.m(e,t),u(e,x,t),C=!0,S||(T=y(n,"click",M),S=!0)},p(e,n){t=e,(!C||2&n)&&_!==(_=t[6]+"")&&b(s,_),(!C||2&n)&&O!==(O=t[5].length+"")&&b(a,O),(!C||2&n)&&q!==(q=1==t[5].length?"":"s")&&b(o,q),(!C||3&n)&&N!==(N=t[0]==t[6]?"▼":"►")&&b(w,N),t[0]==t[6]?P?(P.p(t,n),3&n&&G(P,1)):(P=$t(t),P.c(),G(P,1),P.m(x.parentNode,x)):P&&(U(),W(P,1,1,(()=>{P=null})),E())},i(e){C||(G(P),C=!0)},o(e){W(P),C=!1},d(e){e&&p(n),e&&p(k),P&&P.d(e),e&&p(x),S=!1,T()}}}function wt(e){let t,n,r=[],s=new Map,l=e[1];const a=e=>e[6];for(let t=0;t<l.length;t+=1){let n=ht(e,l,t),i=a(n);s.set(i,r[t]=bt(i,n))}let i=null;return l.length||(i=yt()),{c(){t=m("div");for(let e=0;e<r.length;e+=1)r[e].c();i&&i.c(),$(t,"class","countries svelte-1q27u36")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);i&&i.m(t,null),n=!0},p(e,[n]){7&n&&(l=e[1],U(),r=F(r,n,a,1,e,l,s,t,B,bt,null,ht),E(),l.length?i&&(i.d(1),i=null):i||(i=yt(),i.c(),i.m(t,null)))},i(e){if(!n){for(let e=0;e<l.length;e+=1)G(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)W(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d();i&&i.d()}}}function kt(e,t,n){let r,s,l;a(e,se,(e=>n(3,s=e)));const i=e=>n(0,l=l==e?null:e);return e.$$.update=()=>{8&e.$$.dirty&&n(1,r=Object.values((null==s?void 0:s.reduce(((e,t)=>(e[t.country]||(e[t.country]={country:t.country,players:[]}),e[t.country].players.push(t),e)),{}))||{}).sort(((e,t)=>e.players.length<t.players.length?1:-1)))},[l,r,i,s,e=>i(e)]}class xt extends Z{constructor(e){super(),V(this,e,kt,wt,l,{})}}function Ct(e,t,n){const r=e.slice();return r[11]=t[n],r}function St(e){let t,n,r,s,l=e[0].name+"",a=e[2]&&_t(e);return{c(){t=f(l),n=h(),a&&a.c(),r=g()},m(e,l){u(e,t,l),u(e,n,l),a&&a.m(e,l),u(e,r,l),s=!0},p(e,n){(!s||1&n)&&l!==(l=e[0].name+"")&&b(t,l),e[2]?a?(a.p(e,n),4&n&&G(a,1)):(a=_t(e),a.c(),G(a,1),a.m(r.parentNode,r)):a&&(U(),W(a,1,1,(()=>{a=null})),E())},i(e){s||(G(a),s=!0)},o(e){W(a),s=!1},d(e){e&&p(t),e&&p(n),a&&a.d(e),e&&p(r)}}}function Tt(t){let n,r,s,l=t[0].name+"";return{c(){n=m("a"),r=f(l),$(n,"href",s=t[0].link),$(n,"target","_blank"),$(n,"rel","noopener")},m(e,t){u(e,n,t),c(n,r)},p(e,t){1&t&&l!==(l=e[0].name+"")&&b(r,l),1&t&&s!==(s=e[0].link)&&$(n,"href",s)},i:e,o:e,d(e){e&&p(n)}}}function _t(e){let t,n,r,s;const l=[qt,Ot],a=[];function i(e,t){return e[4]?0:1}return t=i(e),n=a[t]=l[t](e),{c(){n.c(),r=g()},m(e,n){a[t].m(e,n),u(e,r,n),s=!0},p(e,s){let o=t;t=i(e),t===o?a[t].p(e,s):(U(),W(a[o],1,1,(()=>{a[o]=null})),E(),n=a[t],n?n.p(e,s):(n=a[t]=l[t](e),n.c()),G(n,1),n.m(r.parentNode,r))},i(e){s||(G(n),s=!0)},o(e){W(n),s=!1},d(e){a[t].d(e),e&&p(r)}}}function Ot(e){let t,n;return t=new Se({props:{$$slots:{default:[Nt]},$$scope:{ctx:e}}}),t.$on("click",e[8]),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};16384&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function qt(t){let n;return{c(){n=f("...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function Nt(e){let t;return{c(){t=f("Sign up")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Mt(t){let n;return{c(){n=f("To be defined")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Pt(e){let t,n,r,s=e[0].referee.username+"";return{c(){t=m("a"),n=f(s),$(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].referee.username+"")&&b(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&$(t,"href",r)},d(e){e&&p(t)}}}function jt(e){let t,n,r,s,l,a,i,o=(e[0].available_referees.map(Et).join(", ")||"None")+"";function c(e,t){return e[3]?At:e[6]?zt:Lt}let d=c(e),y=d(e);return{c(){t=m("br"),n=h(),r=m("b"),r.textContent="Available referees",s=f(":\r\n        "),l=f(o),a=f(" -\r\n        "),y.c(),i=g()},m(e,o){u(e,t,o),u(e,n,o),u(e,r,o),u(e,s,o),u(e,l,o),u(e,a,o),y.m(e,o),u(e,i,o)},p(e,t){1&t&&o!==(o=(e[0].available_referees.map(Et).join(", ")||"None")+"")&&b(l,o),d===(d=c(e))&&y?y.p(e,t):(y.d(1),y=d(e),y&&(y.c(),y.m(i.parentNode,i)))},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s),e&&p(l),e&&p(a),y.d(e),e&&p(i)}}}function Lt(t){let n,r,s;return{c(){n=m("a"),n.textContent="Add yourself as available",$(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=y(n,"click",t[7]),r=!0)},p:e,d(e){e&&p(n),r=!1,s()}}}function zt(t){let n,r,s;return{c(){n=m("a"),n.textContent="Remove yourself",$(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=y(n,"click",t[7]),r=!0)},p:e,d(e){e&&p(n),r=!1,s()}}}function At(t){let n;return{c(){n=f("Processing...")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Ht(t){let n;return{c(){n=m("a"),n.textContent="Free spot!",$(n,"class","free-spot svelte-mwswut")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Dt(e){let t,n,r,s=e[0].players[e[11]].username+"";return{c(){t=m("a"),n=f(s),$(t,"href",r=`https://osu.ppy.sh/users/${e[0].players[e[11]].id}`),$(t,"class","svelte-mwswut")},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].players[e[11]].username+"")&&b(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].players[e[11]].id}`)&&$(t,"href",r)},d(e){e&&p(t)}}}function Rt(e){let t;function n(e,t){return e[0].players[e[11]]?Dt:e[0].link?void 0:Ht}let r=n(e),s=r&&r(e);return{c(){s&&s.c(),t=g()},m(e,n){s&&s.m(e,n),u(e,t,n)},p(e,l){r===(r=n(e))&&s?s.p(e,l):(s&&s.d(1),s=r&&r(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s&&s.d(e),e&&p(t)}}}function Ut(e){let t,n,r,s,l,a,i,o,g,y,v,w,k,x,C,S,T,_,O,q,N,M=e[5].toUTCString().replace(":00 GMT"," UTC+0")+"",P=e[5].toTimeString().replace(":00 GMT"," UTC")+"";const j=[Tt,St],L=[];function z(e,t){return e[0].link?0:1}function A(e,t){return e[0].referee?Pt:Mt}r=z(e),s=L[r]=j[r](e);let H=A(e),D=H(e),R=e[1]&&jt(e),J=[0,1,2,3,4,5,6,7],I=[];for(let t=0;t<8;t+=1)I[t]=Rt(Ct(e,J,t));return{c(){t=m("div"),n=m("div"),s.c(),l=h(),a=m("div"),i=m("div"),o=f(M),g=h(),y=m("div"),v=f("Your local time: "),w=m("b"),k=f(P),x=h(),C=m("div"),S=m("b"),S.textContent="Referee",T=f(":\r\n      "),D.c(),_=h(),R&&R.c(),O=h(),q=m("div");for(let e=0;e<8;e+=1)I[e].c();$(n,"class","name svelte-mwswut"),$(i,"class","utc svelte-mwswut"),$(y,"class","time svelte-mwswut"),$(C,"class","referee svelte-mwswut"),$(q,"class","players svelte-mwswut"),$(a,"class","body"),$(t,"class","lobby svelte-mwswut")},m(e,s){u(e,t,s),c(t,n),L[r].m(n,null),c(t,l),c(t,a),c(a,i),c(i,o),c(a,g),c(a,y),c(y,v),c(y,w),c(w,k),c(a,x),c(a,C),c(C,S),c(C,T),D.m(C,null),c(C,_),R&&R.m(C,null),c(a,O),c(a,q);for(let e=0;e<8;e+=1)I[e].m(q,null);N=!0},p(e,[t]){let l=r;if(r=z(e),r===l?L[r].p(e,t):(U(),W(L[l],1,1,(()=>{L[l]=null})),E(),s=L[r],s?s.p(e,t):(s=L[r]=j[r](e),s.c()),G(s,1),s.m(n,null)),(!N||32&t)&&M!==(M=e[5].toUTCString().replace(":00 GMT"," UTC+0")+"")&&b(o,M),(!N||32&t)&&P!==(P=e[5].toTimeString().replace(":00 GMT"," UTC")+"")&&b(k,P),H===(H=A(e))&&D?D.p(e,t):(D.d(1),D=H(e),D&&(D.c(),D.m(C,_))),e[1]?R?R.p(e,t):(R=jt(e),R.c(),R.m(C,null)):R&&(R.d(1),R=null),1&t){let n;for(J=[0,1,2,3,4,5,6,7],n=0;n<8;n+=1){const r=Ct(e,J,n);I[n]?I[n].p(r,t):(I[n]=Rt(r),I[n].c(),I[n].m(q,null))}for(;n<8;n+=1)I[n].d(1)}},i(e){N||(G(s),N=!0)},o(e){W(s),N=!1},d(e){e&&p(t),L[r].d(),D.d(),R&&R.d(),d(I,e)}}}const Et=({referee:e})=>e.username;function Gt(e,t,n){let r,s,l;a(e,re,(e=>n(9,l=e)));var i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{o(r.next(e))}catch(e){l(e)}}function i(e){try{o(r.throw(e))}catch(e){l(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}o((r=r.apply(e,t||[])).next())}))};let o,{lobby:c}=t,{toggleAvailable:u}=t,{setSchedule:p}=t;let d;return e.$$set=e=>{"lobby"in e&&n(0,c=e.lobby),"toggleAvailable"in e&&n(1,u=e.toggleAvailable),"setSchedule"in e&&n(2,p=e.setSchedule)},e.$$.update=()=>{1&e.$$.dirty&&n(5,r=new Date(c.time)),515&e.$$.dirty&&n(6,s=u&&c.available_referees.find((({referee:e})=>e.id==l.id)))},[c,u,p,o,d,r,s,()=>i(void 0,void 0,void 0,(function*(){n(3,o=!0),yield u(),n(3,o=!1)})),()=>i(void 0,void 0,void 0,(function*(){n(4,d=!0),yield p(),n(4,d=!1)})),l]}class Wt extends Z{constructor(e){super(),V(this,e,Gt,Ut,l,{lobby:0,toggleAvailable:1,setSchedule:2})}}function Jt(t){let n,r,s,l,a,i,o,d,g,v,w,x,C,S,T,_,O,q,N,M,P,j,L,z,A,H,D,R,U,E,G,W,J,I,B,F,Y,Q,K,X,V,Z,ee,te,ne,re=t[0].artist+"",se=t[0].name+"",le=t[0].difficulty+"",ae=t[0].category+"",ie=t[0].charter+"",oe=t[0].sr+"",ce=t[0].length+"",ue=t[0].bpm+"",pe=t[0].od+"",de=t[0].hp+"";return{c(){n=m("div"),r=m("div"),s=m("div"),l=m("a"),a=f(re),i=f(" - "),o=f(se),d=m("br"),g=f(le),w=h(),x=m("div"),C=f(ae),S=h(),T=m("div"),_=m("div"),O=f("Mapset by "),q=m("a"),N=f(ie),P=h(),j=m("div"),L=m("span"),z=f("⭐ "),A=f(oe),H=h(),D=m("span"),R=f("⏰ "),U=f(ce),E=h(),G=m("span"),W=f("🎵 "),J=f(ue),I=f(" BPM"),B=h(),F=m("span"),Y=f("🎯 OD "),Q=f(pe),K=h(),X=m("span"),V=f("❤️ HP "),Z=f(de),$(l,"class","name svelte-ttf8w6"),$(l,"href",v=`https://osu.ppy.sh/beatmaps/${t[0].id}`),$(l,"target","_blank"),$(l,"rel","noopener"),$(x,"class","category svelte-ttf8w6"),$(s,"class","header svelte-ttf8w6"),$(q,"href",M=`https://osu.ppy.sh/users/${t[0].charter_id}`),$(q,"class","svelte-ttf8w6"),$(_,"class","mapper"),$(L,"class","stat-item svelte-ttf8w6"),$(D,"class","stat-item svelte-ttf8w6"),$(G,"class","stat-item svelte-ttf8w6"),$(F,"class","stat-item svelte-ttf8w6"),$(X,"class","stat-item svelte-ttf8w6"),$(j,"class","stats svelte-ttf8w6"),$(T,"class","body svelte-ttf8w6"),$(r,"class","container svelte-ttf8w6"),$(n,"class","map svelte-ttf8w6"),$(n,"style",ee=`background-image:url(${t[0].cover})`),k(n,"rice",t[0].category.toLowerCase().match(/rice|tech/)),k(n,"ln",t[0].category.toLowerCase().includes("ln")),k(n,"hybrid",t[0].category.toLowerCase().includes("hybrid")),k(n,"tiebreaker",t[0].category.toLowerCase().includes("tiebreaker"))},m(e,p){u(e,n,p),c(n,r),c(r,s),c(s,l),c(l,a),c(l,i),c(l,o),c(l,d),c(l,g),c(s,w),c(s,x),c(x,C),c(r,S),c(r,T),c(T,_),c(_,O),c(_,q),c(q,N),c(T,P),c(T,j),c(j,L),c(L,z),c(L,A),c(j,H),c(j,D),c(D,R),c(D,U),c(j,E),c(j,G),c(G,W),c(G,J),c(G,I),c(j,B),c(j,F),c(F,Y),c(F,Q),c(j,K),c(j,X),c(X,V),c(X,Z),te||(ne=y(n,"click",t[1]),te=!0)},p(e,[t]){1&t&&re!==(re=e[0].artist+"")&&b(a,re),1&t&&se!==(se=e[0].name+"")&&b(o,se),1&t&&le!==(le=e[0].difficulty+"")&&b(g,le),1&t&&v!==(v=`https://osu.ppy.sh/beatmaps/${e[0].id}`)&&$(l,"href",v),1&t&&ae!==(ae=e[0].category+"")&&b(C,ae),1&t&&ie!==(ie=e[0].charter+"")&&b(N,ie),1&t&&M!==(M=`https://osu.ppy.sh/users/${e[0].charter_id}`)&&$(q,"href",M),1&t&&oe!==(oe=e[0].sr+"")&&b(A,oe),1&t&&ce!==(ce=e[0].length+"")&&b(U,ce),1&t&&ue!==(ue=e[0].bpm+"")&&b(J,ue),1&t&&pe!==(pe=e[0].od+"")&&b(Q,pe),1&t&&de!==(de=e[0].hp+"")&&b(Z,de),1&t&&ee!==(ee=`background-image:url(${e[0].cover})`)&&$(n,"style",ee),1&t&&k(n,"rice",e[0].category.toLowerCase().match(/rice|tech/)),1&t&&k(n,"ln",e[0].category.toLowerCase().includes("ln")),1&t&&k(n,"hybrid",e[0].category.toLowerCase().includes("hybrid")),1&t&&k(n,"tiebreaker",e[0].category.toLowerCase().includes("tiebreaker"))},i:e,o:e,d(e){e&&p(n),te=!1,ne()}}}function It(e,t,n){let{map:r}=t;return e.$$set=e=>{"map"in e&&n(0,r=e.map)},[r,function(t){T(e,t)}]}class Bt extends Z{constructor(e){super(),V(this,e,It,Jt,l,{map:0})}}const Ft=te(null),Yt=te(null),{Map:Qt}=J;function Kt(e,t,n){const r=e.slice();return r[8]=t[n],r}function Xt(e,t,n){const r=e.slice();return r[11]=t[n],r}function Vt(e){let t;function n(e,t){return e[0].qualifier?en:Zt}let r=n(e),s=r(e);return{c(){t=m("p"),s.c(),$(t,"class","intro svelte-1pt4gyt")},m(e,n){u(e,t,n),s.m(t,null)},p(e,l){r===(r=n(e))&&s?s.p(e,l):(s.d(1),s=r(e),s&&(s.c(),s.m(t,null)))},d(e){e&&p(t),s.d()}}}function Zt(e){let t,n,r,s,l,a,i,o,c,d,h,g=e[0].username+"";return{c(){t=f("Welcome, player "),n=f(g),r=f("!"),s=m("br"),l=m("br"),a=f("\r\n    You can feel free to put yourself in any qualifier with a free spot in it."),i=m("br"),o=m("br"),c=f("\r\n    If there is no lobby that suits you, please specify a time in the #reschedules channel in the Discord:"),d=m("br"),h=f("\r\n    we will try to organize a special extra lobby.")},m(e,p){u(e,t,p),u(e,n,p),u(e,r,p),u(e,s,p),u(e,l,p),u(e,a,p),u(e,i,p),u(e,o,p),u(e,c,p),u(e,d,p),u(e,h,p)},p(e,t){1&t&&g!==(g=e[0].username+"")&&b(n,g)},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s),e&&p(l),e&&p(a),e&&p(i),e&&p(o),e&&p(c),e&&p(d),e&&p(h)}}}function en(e){let t,n,r,s,l,a,i,o,d,h,g,y,$,v,w,k,x,C,S,T,_,O,q,N,M,P,j,L,z,A,H=e[0].qualifier.name+"",D=e[2].toUTCString().replace(":00 GMT"," UTC+0")+"",R=e[2].toTimeString().replace(":00 GMT"," UTC")+"";return{c(){t=f("You are in "),n=m("b"),r=f("Lobby "),s=f(H),l=f(" happening on\r\n    "),a=m("b"),i=f(D),o=m("br"),d=f("\r\n    (converted to your local time: "),h=m("b"),g=f(R),y=f(").\r\n    "),$=m("br"),v=m("br"),w=f("\r\n    The referee will ping you on Discord (make sure you are in our Discord) "),k=m("b"),k.textContent="15 minutes",x=f(" before the time"),C=m("br"),S=f("\r\n    and will invite you in the multiplayer lobby "),T=m("b"),T.textContent="5 minutes",_=f(" before the time. Make sure you are logged in the game by then!\r\n    "),O=m("br"),q=m("br"),N=f("\r\n    Once you are in the game, you will play all maps "),M=m("b"),M.textContent="2 times",P=f(":"),j=m("br"),L=f("\r\n    the best score on each map will count in the final qualifiers leaderboard and determine your seed.\r\n    "),z=m("br"),A=m("br")},m(e,p){u(e,t,p),u(e,n,p),c(n,r),c(n,s),u(e,l,p),u(e,a,p),c(a,i),u(e,o,p),u(e,d,p),u(e,h,p),c(h,g),u(e,y,p),u(e,$,p),u(e,v,p),u(e,w,p),u(e,k,p),u(e,x,p),u(e,C,p),u(e,S,p),u(e,T,p),u(e,_,p),u(e,O,p),u(e,q,p),u(e,N,p),u(e,M,p),u(e,P,p),u(e,j,p),u(e,L,p),u(e,z,p),u(e,A,p)},p(e,t){1&t&&H!==(H=e[0].qualifier.name+"")&&b(s,H),4&t&&D!==(D=e[2].toUTCString().replace(":00 GMT"," UTC+0")+"")&&b(i,D),4&t&&R!==(R=e[2].toTimeString().replace(":00 GMT"," UTC")+"")&&b(g,R)},d(e){e&&p(t),e&&p(n),e&&p(l),e&&p(a),e&&p(o),e&&p(d),e&&p(h),e&&p(y),e&&p($),e&&p(v),e&&p(w),e&&p(k),e&&p(x),e&&p(C),e&&p(S),e&&p(T),e&&p(_),e&&p(O),e&&p(q),e&&p(N),e&&p(M),e&&p(P),e&&p(j),e&&p(L),e&&p(z),e&&p(A)}}}function tn(e){let t,n,r,s,l=[],a=new Qt,i=[],o=new Qt,c=e[3];const d=e=>e[11].id;for(let t=0;t<c.length;t+=1){let n=Xt(e,c,t),r=d(n);a.set(r,l[t]=rn(r,n))}let f=e[1];const g=e=>e[8].name;for(let t=0;t<f.length;t+=1){let n=Kt(e,f,t),r=g(n);o.set(r,i[t]=sn(r,n))}return{c(){t=m("p");for(let e=0;e<l.length;e+=1)l[e].c();n=h(),r=m("p");for(let e=0;e<i.length;e+=1)i[e].c();$(t,"class","maps svelte-1pt4gyt"),$(r,"class","lobbies svelte-1pt4gyt")},m(e,a){u(e,t,a);for(let e=0;e<l.length;e+=1)l[e].m(t,null);u(e,n,a),u(e,r,a);for(let e=0;e<i.length;e+=1)i[e].m(r,null);s=!0},p(e,n){8&n&&(c=e[3],U(),l=F(l,n,d,1,e,c,a,t,B,rn,null,Xt),E()),51&n&&(f=e[1],U(),i=F(i,n,g,1,e,f,o,r,B,sn,null,Kt),E())},i(e){if(!s){for(let e=0;e<c.length;e+=1)G(l[e]);for(let e=0;e<f.length;e+=1)G(i[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)W(l[e]);for(let e=0;e<i.length;e+=1)W(i[e]);s=!1},d(e){e&&p(t);for(let e=0;e<l.length;e+=1)l[e].d();e&&p(n),e&&p(r);for(let e=0;e<i.length;e+=1)i[e].d()}}}function nn(t){let n;return{c(){n=m("p"),n.textContent="Loading qualifier lobbies...",$(n,"class","lobbies svelte-1pt4gyt")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function rn(e,t){let n,r,s;return r=new Bt({props:{map:t[11]}}),{key:e,first:null,c(){n=g(),Y(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.map=t[11]),r.$set(s)},i(e){s||(G(r.$$.fragment,e),s=!0)},o(e){W(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function sn(e,t){let n,r,s;return r=new Wt({props:{lobby:t[8],toggleAvailable:t[0]?.referee&&t[4](t[8]),setSchedule:t[0]?.player&&!t[0]?.qualifier?.link&&t[5](t[8])}}),{key:e,first:null,c(){n=g(),Y(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.lobby=t[8]),3&n&&(s.toggleAvailable=t[0]?.referee&&t[4](t[8])),3&n&&(s.setSchedule=t[0]?.player&&!t[0]?.qualifier?.link&&t[5](t[8])),r.$set(s)},i(e){s||(G(r.$$.fragment,e),s=!0)},o(e){W(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function ln(e){let t,n,r,s,l,a,i,o=e[0]?.player&&Vt(e);const c=[nn,tn],d=[];function f(e,t){return e[1]?1:0}return s=f(e),l=d[s]=c[s](e),{c(){t=m("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers">Player ranking</a>',n=h(),o&&o.c(),r=h(),l.c(),a=g(),$(t,"class","links svelte-1pt4gyt")},m(e,l){u(e,t,l),u(e,n,l),o&&o.m(e,l),u(e,r,l),d[s].m(e,l),u(e,a,l),i=!0},p(e,[t]){e[0]?.player?o?o.p(e,t):(o=Vt(e),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null);let n=s;s=f(e),s===n?d[s].p(e,t):(U(),W(d[n],1,1,(()=>{d[n]=null})),E(),l=d[s],l?l.p(e,t):(l=d[s]=c[s](e),l.c()),G(l,1),l.m(a.parentNode,a))},i(e){i||(G(l),i=!0)},o(e){W(l),i=!1},d(e){e&&p(t),e&&p(n),o&&o.d(e),e&&p(r),d[s].d(e),e&&p(a)}}}function an(e,t,n){let r,s,l,i;a(e,Ft,(e=>n(1,s=e))),a(e,re,(e=>n(0,l=e))),a(e,Yt,(e=>n(3,i=e)));var o,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{o(r.next(e))}catch(e){l(e)}}function i(e){try{o(r.throw(e))}catch(e){l(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}o((r=r.apply(e,t||[])).next())}))};s||(async()=>{const{data:e}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "qualifiers"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  qualifier_lobbies(sort: "time") {\n    name\n    link\n    players {\n      id\n      username\n    }\n    time\n    referee {\n      id\n      username\n    }\n    available_referees {\n      rel_id: id\n      referee: referees_id {\n        id\n        username\n      }\n    }\n  }\n}'})});Ft.set(e.qualifier_lobbies),Yt.set(e.maps)})();return e.$$.update=()=>{65&e.$$.dirty&&n(2,r=new Date(null===n(6,o=null==l?void 0:l.qualifier)||void 0===o?void 0:o.time))},[l,s,r,i,e=>()=>c(void 0,void 0,void 0,(function*(){const t=e.available_referees.find((({referee:e})=>e.id==l.id)),n=yield de(`/items/qualifier_lobbies/${e.name}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({available_referees:t?{delete:[t.rel_id]}:{create:[{referees_id:l.id}]}})});n.errors?alert(n.errors[0].message):Ft.set(s.map((r=>(r.name!=e.name||(t?r.available_referees=r.available_referees.filter((({referee:e})=>e.id!=l.id)):r.available_referees.push({rel_id:n.data.available_referees.pop(),referee:l.referee})),r))))})),e=>()=>c(void 0,void 0,void 0,(function*(){const t=yield de("/custom/qualifiers/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qualifier:e.name})});t.errors&&alert(t.errors[0].message),location.reload()})),o]}class on extends Z{constructor(e){super(),V(this,e,an,ln,l,{})}}function cn(t){let n,r,s,l,a,i,o,d,g,y,v,w,x,C,S,T,_,O,q,N,M,P,j,L,z,A,H,D,R,U,E,G,W,J,I,B,F=t[1].position+"",Y=t[0].username+"",Q=t[1].score+"",K=t[3].toFixed(2)+"",X=t[1].combo+"",V=t[1].c320+"",Z=t[1].c300+"",ee=t[1].c200+"",te=t[1].c100+"",ne=t[1].c50+"",re=t[1].c0+"";return{c(){n=m("div"),r=m("div"),s=f(F),l=f("."),a=h(),i=m("div"),o=m("a"),d=f(Y),y=h(),v=m("div"),w=f(Q),x=h(),C=m("div"),S=f(K),T=f("%, x"),_=f(X),O=h(),q=m("div"),N=m("div"),M=f(V),P=h(),j=m("div"),L=f(Z),z=h(),A=m("div"),H=f(ee),D=h(),R=m("div"),U=f(te),E=h(),G=m("div"),W=f(ne),J=h(),I=m("div"),B=f(re),$(r,"class","position svelte-1m6wbdm"),$(o,"href",g=`https://osu.ppy.sh/users/${t[0].id}`),$(o,"target","_blank"),$(o,"rel","noopener"),$(i,"class","player svelte-1m6wbdm"),$(C,"class","details svelte-1m6wbdm"),$(v,"class","value svelte-1m6wbdm"),$(N,"class","judgement svelte-1m6wbdm"),$(j,"class","judgement svelte-1m6wbdm"),$(A,"class","judgement svelte-1m6wbdm"),$(R,"class","judgement svelte-1m6wbdm"),$(G,"class","judgement svelte-1m6wbdm"),$(I,"class","judgement svelte-1m6wbdm"),$(q,"class","judgements svelte-1m6wbdm"),$(n,"class","score svelte-1m6wbdm"),k(n,"me",t[2]?.id==t[0].id)},m(e,t){u(e,n,t),c(n,r),c(r,s),c(r,l),c(n,a),c(n,i),c(i,o),c(o,d),c(n,y),c(n,v),c(v,w),c(v,x),c(v,C),c(C,S),c(C,T),c(C,_),c(n,O),c(n,q),c(q,N),c(N,M),c(q,P),c(q,j),c(j,L),c(q,z),c(q,A),c(A,H),c(q,D),c(q,R),c(R,U),c(q,E),c(q,G),c(G,W),c(q,J),c(q,I),c(I,B)},p(e,[t]){2&t&&F!==(F=e[1].position+"")&&b(s,F),1&t&&Y!==(Y=e[0].username+"")&&b(d,Y),1&t&&g!==(g=`https://osu.ppy.sh/users/${e[0].id}`)&&$(o,"href",g),2&t&&Q!==(Q=e[1].score+"")&&b(w,Q),2&t&&X!==(X=e[1].combo+"")&&b(_,X),2&t&&V!==(V=e[1].c320+"")&&b(M,V),2&t&&Z!==(Z=e[1].c300+"")&&b(L,Z),2&t&&ee!==(ee=e[1].c200+"")&&b(H,ee),2&t&&te!==(te=e[1].c100+"")&&b(U,te),2&t&&ne!==(ne=e[1].c50+"")&&b(W,ne),2&t&&re!==(re=e[1].c0+"")&&b(B,re),5&t&&k(n,"me",e[2]?.id==e[0].id)},i:e,o:e,d(e){e&&p(n)}}}function un(e,t,n){let r;a(e,re,(e=>n(2,r=e)));let{player:s}=t,{score:l}=t;const i=l.c320+l.c300+l.c200+l.c100+l.c50+l.c0,o=(305*l.c320+300*l.c300+200*l.c200+100*l.c100+50*l.c50)/(3.05*i);return e.$$set=e=>{"player"in e&&n(0,s=e.player),"score"in e&&n(1,l=e.score)},[s,l,r,o]}class pn extends Z{constructor(e){super(),V(this,e,un,cn,l,{player:0,score:1})}}const dn=te(null),mn=te(null),fn=te(null),hn=te(null),gn=te(null),yn=new Set(["9950122","2735466","18025458","15255368","15286154","13608389","17422924","17957861","9895270","5101133","13455818","19365665","6335238","2383766","13984214","8916149"]),$n=async e=>{var t,n;const r=e.filter((e=>!yn.has(e.id))),s=e.filter((e=>yn.has(e.id))),{data:l}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "qualifiers"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  qualifier_scores(sort: "-score", limit: -1) {\n    player {\n      id\n    }\n    map {\n      id\n    }\n    lobby {\n      name\n      link\n    }\n    score\n    combo\n    c320\n    c300\n    c200\n    c100\n    c50\n    c0\n  }\n}'})}),a=e=>[e.id,Object.assign(Object.assign({},e),{players:new Map})],i=new Map(l.maps.map(a)),o=new Map(l.maps.map(a)),c=t=>[t.id,Object.assign(Object.assign({},t),{totalScore:0,sumOfPositions:e.length*l.maps.length,mapScores:new Map(l.maps.map((e=>[e.id,[]])))})],u=new Map(r.map(c)),p=new Map(s.map(c));l.qualifier_scores.forEach((e=>{var t,n;let r;if(r=u.get(null===(t=e.player)||void 0===t?void 0:t.id)){if(!i.has(e.map.id))return;r.mapScores.get(e.map.id).push(e);const t=i.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,r)}else if(r=p.get(null===(n=e.player)||void 0===n?void 0:n.id)){if(!o.has(e.map.id))return;r.mapScores.get(e.map.id).push(e);const t=o.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,r)}}));for(const e of i.values()){const n=Array.from(e.players.values());for(let r=0;r<n.length;++r){const s=n[r].mapScores.get(e.id)[0],l=null===(t=n[r-1])||void 0===t?void 0:t.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}for(const e of o.values()){const t=Array.from(e.players.values());for(let r=0;r<t.length;++r){const s=t[r].mapScores.get(e.id)[0],l=null===(n=t[r-1])||void 0===n?void 0:n.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}for(const t of u.values())t.sumOfPositions=l.maps.reduce(((n,r)=>{var s,l;return t.totalScore+=null===(s=t.mapScores.get(r.id)[0])||void 0===s?void 0:s.score,n+((null===(l=t.mapScores.get(r.id)[0])||void 0===l?void 0:l.position)||e.length)}),0);for(const t of p.values())t.sumOfPositions=l.maps.reduce(((n,r)=>{var s,l;return t.totalScore+=null===(s=t.mapScores.get(r.id)[0])||void 0===s?void 0:s.score,n+((null===(l=t.mapScores.get(r.id)[0])||void 0===l?void 0:l.position)||e.length)}),0);const d=(e,t)=>e.sumOfPositions==t.sumOfPositions?e.totalScore<t.totalScore?1:-1:e.sumOfPositions<t.sumOfPositions?-1:1,m=Array.from(u.values()).sort(d),f=Array.from(p.values()).sort(d);m.forEach(((e,t)=>e.position=t+1)),f.forEach(((e,t)=>e.position=t+1)),dn.set(Array.from(i.values())),fn.set(Array.from(o.values())),mn.set(m),hn.set(f)},vn=(e,t)=>{const n=e.findIndex((e=>e.id==(null==t?void 0:t.id)));n>-1&&gn.set(Object.assign(Object.assign({},e[n]),{position:n+1}))},{Map:bn}=J;function wn(e,t,n){const r=e.slice();return r[8]=t[n],r}function kn(e,t,n){const r=e.slice();return r[11]=t[n],r}function xn(e){let t,n,r=[],s=new bn,l=e[0];const a=e=>e[8].id;for(let t=0;t<l.length;t+=1){let n=wn(e,l,t),i=a(n);s.set(i,r[t]=On(i,n))}return{c(){t=m("p");for(let e=0;e<r.length;e+=1)r[e].c();$(t,"class","maps svelte-1pnvguw")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){15&n&&(l=e[0],U(),r=F(r,n,a,1,e,l,s,t,B,On,null,wn),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)G(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)W(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Cn(t){let n;return{c(){n=m("p"),n.textContent="Loading qualifier scores...",$(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function Sn(e){let t,n,r;return n=new pn({props:{player:e[1],score:e[1].mapScores.get(e[8].id)[0]}}),{c(){t=m("div"),Y(n.$$.fragment),$(t,"class","my-qualifier svelte-1pnvguw")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.player=e[1]),3&t&&(r.score=e[1].mapScores.get(e[8].id)[0]),n.$set(r)},i(e){r||(G(n.$$.fragment,e),r=!0)},o(e){W(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function Tn(e){let t,n,r=[],s=new bn,l=Array.from(e[8].players.values());const a=e=>e[11].id;for(let t=0;t<l.length;t+=1){let n=kn(e,l,t),i=a(n);s.set(i,r[t]=_n(i,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);u(e,t,s),n=!0},p(e,n){1&n&&(l=Array.from(e[8].players.values()),U(),r=F(r,n,a,1,e,l,s,t.parentNode,B,_n,t,kn),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)G(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)W(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&p(t)}}}function _n(e,t){let n,r,s;return r=new pn({props:{player:t[11],score:t[11].mapScores.get(t[8].id)[0]}}),{key:e,first:null,c(){n=g(),Y(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.player=t[11]),1&n&&(s.score=t[11].mapScores.get(t[8].id)[0]),r.$set(s)},i(e){s||(G(r.$$.fragment,e),s=!0)},o(e){W(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function On(e,t){let n,r,s,l,a,i,o,d,v,w,k,x,C=t[2][t[8].id]?"Show":"Hide";r=new Bt({props:{map:t[8]}});let S=t[1]&&Sn(t);function T(){return t[7](t[8])}let _=!t[2][t[8].id]&&Tn(t);return{key:e,first:null,c(){n=g(),Y(r.$$.fragment),s=h(),S&&S.c(),l=h(),a=m("a"),i=f(C),o=f(" scores"),d=h(),_&&_.c(),v=g(),$(a,"href","javascript:void(0)"),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),u(e,s,t),S&&S.m(e,t),u(e,l,t),u(e,a,t),c(a,i),c(a,o),u(e,d,t),_&&_.m(e,t),u(e,v,t),w=!0,k||(x=y(a,"click",T),k=!0)},p(e,n){t=e;const s={};1&n&&(s.map=t[8]),r.$set(s),t[1]?S?(S.p(t,n),2&n&&G(S,1)):(S=Sn(t),S.c(),G(S,1),S.m(l.parentNode,l)):S&&(U(),W(S,1,1,(()=>{S=null})),E()),(!w||5&n)&&C!==(C=t[2][t[8].id]?"Show":"Hide")&&b(i,C),t[2][t[8].id]?_&&(U(),W(_,1,1,(()=>{_=null})),E()):_?(_.p(t,n),5&n&&G(_,1)):(_=Tn(t),_.c(),G(_,1),_.m(v.parentNode,v))},i(e){w||(G(r.$$.fragment,e),G(S),G(_),w=!0)},o(e){W(r.$$.fragment,e),W(S),W(_),w=!1},d(e){e&&p(n),K(r,e),e&&p(s),S&&S.d(e),e&&p(l),e&&p(a),e&&p(d),_&&_.d(e),e&&p(v),k=!1,x()}}}function qn(e){let t,n,r,s,l,a;const i=[Cn,xn],o=[];function c(e,t){return e[0]?1:0}return r=c(e),s=o[r]=i[r](e),{c(){t=m("div"),t.innerHTML='<a href="#/qualifiers">Player rankings</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!elite!maps">Elite players</a>',n=h(),s.c(),l=g(),$(t,"class","links svelte-1pnvguw")},m(e,s){u(e,t,s),u(e,n,s),o[r].m(e,s),u(e,l,s),a=!0},p(e,[t]){let n=r;r=c(e),r===n?o[r].p(e,t):(U(),W(o[n],1,1,(()=>{o[n]=null})),E(),s=o[r],s?s.p(e,t):(s=o[r]=i[r](e),s.c()),G(s,1),s.m(l.parentNode,l))},i(e){a||(G(s),a=!0)},o(e){W(s),a=!1},d(e){e&&p(t),e&&p(n),o[r].d(e),e&&p(l)}}}function Nn(e,t,n){let r,s,l,i,o;a(e,dn,(e=>n(0,r=e))),a(e,se,(e=>n(4,s=e))),a(e,gn,(e=>n(1,l=e))),a(e,mn,(e=>n(5,i=e))),a(e,re,(e=>n(6,o=e)));let c={};const u=e=>{n(2,c=Object.assign(Object.assign({},c),{[e.id]:!c[e.id]}))};return e.$$.update=()=>{17&e.$$.dirty&&!r&&s&&$n(s),98&e.$$.dirty&&!l&&i&&o&&vn(i,o)},[r,l,c,u,s,i,o,e=>u(e)]}class Mn extends Z{constructor(e){super(),V(this,e,Nn,qn,l,{})}}function Pn(e,t,n){const r=e.slice();return r[4]=t[n],r}function jn(e,t){let n,r,s,l,a,i,o=(t[1].mapScores.get(t[4].id)[0]?.score||"N/A")+"",d=(t[1].mapScores.get(t[4].id)[0]?.position||"-")+"";return{key:e,first:null,c(){n=m("div"),r=f(o),s=m("br"),l=f("\r\n      ("),a=f(d),i=f(")\r\n    "),$(n,"class","score svelte-nyb024"),this.first=n},m(e,t){u(e,n,t),c(n,r),c(n,s),c(n,l),c(n,a),c(n,i)},p(e,n){t=e,6&n&&o!==(o=(t[1].mapScores.get(t[4].id)[0]?.score||"N/A")+"")&&b(r,o),6&n&&d!==(d=(t[1].mapScores.get(t[4].id)[0]?.position||"-")+"")&&b(a,d)},d(e){e&&p(n)}}}function Ln(t){let n,r,s,l,a,i,o,d,g,y,v,w,k,x,C,S,T,_,O,q,N,M,P,j,L,z,A,H=t[1].username+"",D=t[1].ranking+"",R=t[1].country+"",U=t[2].map(t[3]).join(" + ")+"",E=t[1].sumOfPositions+"",G=t[1].totalScore+"",W=[],J=new Map,B=t[2];const Y=e=>e[4].id;for(let e=0;e<B.length;e+=1){let n=Pn(t,B,e),r=Y(n);J.set(r,W[e]=jn(r,n))}return{c(){n=m("a"),r=m("div"),s=m("img"),a=h(),i=m("div"),o=f(t[0]),d=f(". "),g=f(H),y=f(" (#"),v=f(D),w=f(")\r\n    "),k=m("div"),x=f(R),C=h(),S=m("div"),T=f(U),_=f("\r\n    =\r\n    "),O=m("b"),q=f(E),N=h(),M=m("div"),P=f("Total score: "),j=f(G),z=h(),A=m("div");for(let e=0;e<W.length;e+=1)W[e].c();$(s,"class","avatar svelte-nyb024"),s.src!==(l=t[1].avatar)&&$(s,"src",l),$(s,"alt",""),$(r,"class","avatar svelte-nyb024"),$(k,"class","country svelte-nyb024"),$(i,"class","name svelte-nyb024"),$(M,"class","total-score svelte-nyb024"),$(S,"class","positions svelte-nyb024"),$(n,"class","player svelte-nyb024"),$(n,"href",L=`https://osu.ppy.sh/users/${t[1].id}`),$(n,"target","_blank"),$(n,"rel","noopener"),$(A,"class","scores svelte-nyb024")},m(e,t){u(e,n,t),c(n,r),c(r,s),c(n,a),c(n,i),c(i,o),c(i,d),c(i,g),c(i,y),c(i,v),c(i,w),c(i,k),c(k,x),c(n,C),c(n,S),c(S,T),c(S,_),c(S,O),c(O,q),c(S,N),c(S,M),c(M,P),c(M,j),u(e,z,t),u(e,A,t);for(let e=0;e<W.length;e+=1)W[e].m(A,null)},p(e,[t]){2&t&&s.src!==(l=e[1].avatar)&&$(s,"src",l),1&t&&b(o,e[0]),2&t&&H!==(H=e[1].username+"")&&b(g,H),2&t&&D!==(D=e[1].ranking+"")&&b(v,D),2&t&&R!==(R=e[1].country+"")&&b(x,R),6&t&&U!==(U=e[2].map(e[3]).join(" + ")+"")&&b(T,U),2&t&&E!==(E=e[1].sumOfPositions+"")&&b(q,E),2&t&&G!==(G=e[1].totalScore+"")&&b(j,G),2&t&&L!==(L=`https://osu.ppy.sh/users/${e[1].id}`)&&$(n,"href",L),6&t&&(B=e[2],W=F(W,t,Y,1,e,B,J,A,I,jn,null,Pn))},i:e,o:e,d(e){e&&p(n),e&&p(z),e&&p(A);for(let e=0;e<W.length;e+=1)W[e].d()}}}function zn(e,t,n){let{position:r}=t,{player:s}=t,{maps:l}=t;return e.$$set=e=>{"position"in e&&n(0,r=e.position),"player"in e&&n(1,s=e.player),"maps"in e&&n(2,l=e.maps)},[r,s,l,e=>s.mapScores.get(e.id)[0]?.position||"N/A"]}class An extends Z{constructor(e){super(),V(this,e,zn,Ln,l,{position:0,player:1,maps:2})}}function Hn(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function Dn(e){let t,n,r,s,l;return s=new An({props:{position:e[1].position,player:e[1],maps:e[2]}}),{c(){t=m("div"),n=m("h1"),n.textContent="Your placement",r=h(),Y(s.$$.fragment),$(t,"class","my-qualifier svelte-buidrs")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){const n={};2&t&&(n.position=e[1].position),2&t&&(n.player=e[1]),4&t&&(n.maps=e[2]),s.$set(n)},i(e){l||(G(s.$$.fragment,e),l=!0)},o(e){W(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function Rn(e){let t,n,r=[],s=new Map,l=e[0];const a=e=>e[5].id;for(let t=0;t<l.length;t+=1){let n=Hn(e,l,t),i=a(n);s.set(i,r[t]=Bn(i,n))}return{c(){t=m("div");for(let e=0;e<r.length;e+=1)r[e].c();$(t,"class","players svelte-buidrs")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){5&n&&(l=e[0],U(),r=F(r,n,a,1,e,l,s,t,B,Bn,null,Hn),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)G(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)W(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Un(t){let n;return{c(){n=m("p"),n.textContent="Loading qualifier scores...",$(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function En(e){let t;return{c(){t=m("h1"),t.textContent="Not qualified"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Gn(e){let t;return{c(){t=m("h1"),t.textContent="Bottom seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Wn(e){let t;return{c(){t=m("h1"),t.textContent="Low seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Jn(e){let t;return{c(){t=m("h1"),t.textContent="High seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function In(e){let t;return{c(){t=m("h1"),t.textContent="Top seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Bn(e,t){let n,r,s,l;function a(e,t){return 0==e[7]?In:32==e[7]?Jn:64==e[7]?Wn:96==e[7]?Gn:128==e[7]?En:void 0}let i=a(t),o=i&&i(t);return s=new An({props:{position:t[7]+1,player:t[5],maps:t[2]}}),{key:e,first:null,c(){n=g(),o&&o.c(),r=h(),Y(s.$$.fragment),this.first=n},m(e,t){u(e,n,t),o&&o.m(e,t),u(e,r,t),Q(s,e,t),l=!0},p(e,n){i!==(i=a(t=e))&&(o&&o.d(1),o=i&&i(t),o&&(o.c(),o.m(r.parentNode,r)));const l={};1&n&&(l.position=t[7]+1),1&n&&(l.player=t[5]),4&n&&(l.maps=t[2]),s.$set(l)},i(e){l||(G(s.$$.fragment,e),l=!0)},o(e){W(s.$$.fragment,e),l=!1},d(e){e&&p(n),o&&o.d(e),e&&p(r),K(s,e)}}}function Fn(e){let t,n,r,s,l,a,i,o=e[1]&&Dn(e);const c=[Un,Rn],d=[];function f(e,t){return e[0]?1:0}return s=f(e),l=d[s]=c[s](e),{c(){t=m("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!elite">Elite players</a>',n=h(),o&&o.c(),r=h(),l.c(),a=g(),$(t,"class","links svelte-buidrs")},m(e,l){u(e,t,l),u(e,n,l),o&&o.m(e,l),u(e,r,l),d[s].m(e,l),u(e,a,l),i=!0},p(e,[t]){e[1]?o?(o.p(e,t),2&t&&G(o,1)):(o=Dn(e),o.c(),G(o,1),o.m(r.parentNode,r)):o&&(U(),W(o,1,1,(()=>{o=null})),E());let n=s;s=f(e),s===n?d[s].p(e,t):(U(),W(d[n],1,1,(()=>{d[n]=null})),E(),l=d[s],l?l.p(e,t):(l=d[s]=c[s](e),l.c()),G(l,1),l.m(a.parentNode,a))},i(e){i||(G(o),G(l),i=!0)},o(e){W(o),W(l),i=!1},d(e){e&&p(t),e&&p(n),o&&o.d(e),e&&p(r),d[s].d(e),e&&p(a)}}}function Yn(e,t,n){let r,s,l,i,o;return a(e,mn,(e=>n(0,r=e))),a(e,se,(e=>n(3,s=e))),a(e,gn,(e=>n(1,l=e))),a(e,re,(e=>n(4,i=e))),a(e,dn,(e=>n(2,o=e))),e.$$.update=()=>{9&e.$$.dirty&&!r&&s&&$n(s),19&e.$$.dirty&&!l&&r&&i&&vn(r,i)},[r,l,o,s,i]}class Qn extends Z{constructor(e){super(),V(this,e,Yn,Fn,l,{})}}const{Map:Kn}=J;function Xn(e,t,n){const r=e.slice();return r[8]=t[n],r}function Vn(e,t,n){const r=e.slice();return r[11]=t[n],r}function Zn(e){let t,n,r=[],s=new Kn,l=e[0];const a=e=>e[8].id;for(let t=0;t<l.length;t+=1){let n=Xn(e,l,t),i=a(n);s.set(i,r[t]=sr(i,n))}return{c(){t=m("p");for(let e=0;e<r.length;e+=1)r[e].c();$(t,"class","maps svelte-1pnvguw")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){15&n&&(l=e[0],U(),r=F(r,n,a,1,e,l,s,t,B,sr,null,Xn),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)G(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)W(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function er(t){let n;return{c(){n=m("p"),n.textContent="Loading qualifier scores...",$(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function tr(e){let t,n,r;return n=new pn({props:{player:e[1],score:e[1].mapScores.get(e[8].id)[0]}}),{c(){t=m("div"),Y(n.$$.fragment),$(t,"class","my-qualifier svelte-1pnvguw")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.player=e[1]),3&t&&(r.score=e[1].mapScores.get(e[8].id)[0]),n.$set(r)},i(e){r||(G(n.$$.fragment,e),r=!0)},o(e){W(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function nr(e){let t,n,r=[],s=new Kn,l=Array.from(e[8].players.values());const a=e=>e[11].id;for(let t=0;t<l.length;t+=1){let n=Vn(e,l,t),i=a(n);s.set(i,r[t]=rr(i,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);u(e,t,s),n=!0},p(e,n){1&n&&(l=Array.from(e[8].players.values()),U(),r=F(r,n,a,1,e,l,s,t.parentNode,B,rr,t,Vn),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)G(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)W(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&p(t)}}}function rr(e,t){let n,r,s;return r=new pn({props:{player:t[11],score:t[11].mapScores.get(t[8].id)[0]}}),{key:e,first:null,c(){n=g(),Y(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.player=t[11]),1&n&&(s.score=t[11].mapScores.get(t[8].id)[0]),r.$set(s)},i(e){s||(G(r.$$.fragment,e),s=!0)},o(e){W(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function sr(e,t){let n,r,s,l,a,i,o,d,v,w,k,x,C=t[2][t[8].id]?"Show":"Hide";r=new Bt({props:{map:t[8]}});let S=t[1]&&tr(t);function T(){return t[7](t[8])}let _=!t[2][t[8].id]&&nr(t);return{key:e,first:null,c(){n=g(),Y(r.$$.fragment),s=h(),S&&S.c(),l=h(),a=m("a"),i=f(C),o=f(" scores"),d=h(),_&&_.c(),v=g(),$(a,"href","javascript:void(0)"),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),u(e,s,t),S&&S.m(e,t),u(e,l,t),u(e,a,t),c(a,i),c(a,o),u(e,d,t),_&&_.m(e,t),u(e,v,t),w=!0,k||(x=y(a,"click",T),k=!0)},p(e,n){t=e;const s={};1&n&&(s.map=t[8]),r.$set(s),t[1]?S?(S.p(t,n),2&n&&G(S,1)):(S=tr(t),S.c(),G(S,1),S.m(l.parentNode,l)):S&&(U(),W(S,1,1,(()=>{S=null})),E()),(!w||5&n)&&C!==(C=t[2][t[8].id]?"Show":"Hide")&&b(i,C),t[2][t[8].id]?_&&(U(),W(_,1,1,(()=>{_=null})),E()):_?(_.p(t,n),5&n&&G(_,1)):(_=nr(t),_.c(),G(_,1),_.m(v.parentNode,v))},i(e){w||(G(r.$$.fragment,e),G(S),G(_),w=!0)},o(e){W(r.$$.fragment,e),W(S),W(_),w=!1},d(e){e&&p(n),K(r,e),e&&p(s),S&&S.d(e),e&&p(l),e&&p(a),e&&p(d),_&&_.d(e),e&&p(v),k=!1,x()}}}function lr(e){let t,n,r,s,l,a;const i=[er,Zn],o=[];function c(e,t){return e[0]?1:0}return r=c(e),s=o[r]=i[r](e),{c(){t=m("div"),t.innerHTML='<a href="#/qualifiers">Player rankings</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!maps">Regular players</a>',n=h(),s.c(),l=g(),$(t,"class","links svelte-1pnvguw")},m(e,s){u(e,t,s),u(e,n,s),o[r].m(e,s),u(e,l,s),a=!0},p(e,[t]){let n=r;r=c(e),r===n?o[r].p(e,t):(U(),W(o[n],1,1,(()=>{o[n]=null})),E(),s=o[r],s?s.p(e,t):(s=o[r]=i[r](e),s.c()),G(s,1),s.m(l.parentNode,l))},i(e){a||(G(s),a=!0)},o(e){W(s),a=!1},d(e){e&&p(t),e&&p(n),o[r].d(e),e&&p(l)}}}function ar(e,t,n){let r,s,l,i,o;a(e,fn,(e=>n(0,r=e))),a(e,se,(e=>n(4,s=e))),a(e,gn,(e=>n(1,l=e))),a(e,hn,(e=>n(5,i=e))),a(e,re,(e=>n(6,o=e)));let c={};const u=e=>{n(2,c=Object.assign(Object.assign({},c),{[e.id]:!c[e.id]}))};return e.$$.update=()=>{17&e.$$.dirty&&!r&&s&&$n(s),98&e.$$.dirty&&!l&&i&&o&&vn(i,o)},[r,l,c,u,s,i,o,e=>u(e)]}class ir extends Z{constructor(e){super(),V(this,e,ar,lr,l,{})}}function or(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function cr(e){let t,n,r,s,l;return s=new An({props:{position:e[1].position,player:e[1],maps:e[2]}}),{c(){t=m("div"),n=m("h1"),n.textContent="Your placement",r=h(),Y(s.$$.fragment),$(t,"class","my-qualifier svelte-buidrs")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){const n={};2&t&&(n.position=e[1].position),2&t&&(n.player=e[1]),4&t&&(n.maps=e[2]),s.$set(n)},i(e){l||(G(s.$$.fragment,e),l=!0)},o(e){W(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function ur(e){let t,n,r,s,l=[],a=new Map,i=e[0];const o=e=>e[5].id;for(let t=0;t<i.length;t+=1){let n=or(e,i,t),r=o(n);a.set(r,l[t]=dr(r,n))}return{c(){t=m("div"),n=m("h1"),n.textContent="Elite players",r=h();for(let e=0;e<l.length;e+=1)l[e].c();$(t,"class","players svelte-buidrs")},m(e,a){u(e,t,a),c(t,n),c(t,r);for(let e=0;e<l.length;e+=1)l[e].m(t,null);s=!0},p(e,n){5&n&&(i=e[0],U(),l=F(l,n,o,1,e,i,a,t,B,dr,null,or),E())},i(e){if(!s){for(let e=0;e<i.length;e+=1)G(l[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)W(l[e]);s=!1},d(e){e&&p(t);for(let e=0;e<l.length;e+=1)l[e].d()}}}function pr(t){let n;return{c(){n=m("p"),n.textContent="Loading qualifier scores...",$(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function dr(e,t){let n,r,s;return r=new An({props:{position:t[7]+1,player:t[5],maps:t[2]}}),{key:e,first:null,c(){n=g(),Y(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.position=t[7]+1),1&n&&(s.player=t[5]),4&n&&(s.maps=t[2]),r.$set(s)},i(e){s||(G(r.$$.fragment,e),s=!0)},o(e){W(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function mr(e){let t,n,r,s,l,a,i,o=e[1]&&cr(e);const c=[pr,ur],d=[];function f(e,t){return e[0]?1:0}return s=f(e),l=d[s]=c[s](e),{c(){t=m("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers">Regular players</a>',n=h(),o&&o.c(),r=h(),l.c(),a=g(),$(t,"class","links svelte-buidrs")},m(e,l){u(e,t,l),u(e,n,l),o&&o.m(e,l),u(e,r,l),d[s].m(e,l),u(e,a,l),i=!0},p(e,[t]){e[1]?o?(o.p(e,t),2&t&&G(o,1)):(o=cr(e),o.c(),G(o,1),o.m(r.parentNode,r)):o&&(U(),W(o,1,1,(()=>{o=null})),E());let n=s;s=f(e),s===n?d[s].p(e,t):(U(),W(d[n],1,1,(()=>{d[n]=null})),E(),l=d[s],l?l.p(e,t):(l=d[s]=c[s](e),l.c()),G(l,1),l.m(a.parentNode,a))},i(e){i||(G(o),G(l),i=!0)},o(e){W(o),W(l),i=!1},d(e){e&&p(t),e&&p(n),o&&o.d(e),e&&p(r),d[s].d(e),e&&p(a)}}}function fr(e,t,n){let r,s,l,i,o;return a(e,hn,(e=>n(0,r=e))),a(e,se,(e=>n(3,s=e))),a(e,gn,(e=>n(1,l=e))),a(e,re,(e=>n(4,i=e))),a(e,fn,(e=>n(2,o=e))),e.$$.update=()=>{9&e.$$.dirty&&!r&&s&&$n(s),19&e.$$.dirty&&!l&&r&&i&&vn(r,i)},[r,l,o,s,i]}class hr extends Z{constructor(e){super(),V(this,e,fr,mr,l,{})}}function gr(e,t,n){const r=e.slice();return r[6]=t[n].commentator,r[8]=n,r}function yr(e){let t,n,r,s,l=e[3].group.id+"",a=e[0].id+"";return{c(){t=f("G"),n=f(l),r=f("-"),s=f(a)},m(e,l){u(e,t,l),u(e,n,l),u(e,r,l),u(e,s,l)},p(e,t){1&t&&a!==(a=e[0].id+"")&&b(s,a)},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s)}}}function $r(e){let t,n,r,s,l,a,i=e[3].group.id+"",o=e[0].id+"";return{c(){t=m("a"),n=f("G"),r=f(i),s=f("-"),l=f(o),$(t,"href",a=e[0].link),$(t,"target","_blank"),$(t,"rel","noopener")},m(e,a){u(e,t,a),c(t,n),c(t,r),c(t,s),c(t,l)},p(e,n){1&n&&o!==(o=e[0].id+"")&&b(l,o),1&n&&a!==(a=e[0].link)&&$(t,"href",a)},d(e){e&&p(t)}}}function vr(t){let n;return{c(){n=f("To be defined\r\n      ")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function br(e){let t,n,r,s,l=e[0].referee.username+"";return{c(){t=m("a"),n=f(l),s=h(),$(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){1&s&&l!==(l=e[0].referee.username+"")&&b(n,l),1&s&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&$(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function wr(t){let n;return{c(){n=f("-\r\n      ")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function kr(e){let t,n,r,s,l=e[0].streamer.username+"";return{c(){t=m("a"),n=f(l),s=h(),$(t,"href",r=`https://osu.ppy.sh/users/${e[0].streamer.id}`)},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){1&s&&l!==(l=e[0].streamer.username+"")&&b(n,l),1&s&&r!==(r=`https://osu.ppy.sh/users/${e[0].streamer.id}`)&&$(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function xr(t){let n;return{c(){n=f("-")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Cr(e){let t,n=e[0].commentators,r=[];for(let t=0;t<n.length;t+=1)r[t]=Sr(gr(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);u(e,t,n)},p(e,s){if(1&s){let l;for(n=e[0].commentators,l=0;l<n.length;l+=1){const a=gr(e,n,l);r[l]?r[l].p(a,s):(r[l]=Sr(a),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(e){d(r,e),e&&p(t)}}}function Sr(e){let t,n,r,s,l=e[6].username+"",a=e[8]&&function(e){let t;return{c(){t=f(",")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}();return{c(){a&&a.c(),t=h(),n=m("a"),r=f(l),$(n,"href",s=`https://osu.ppy.sh/users/${e[6].id}`)},m(e,s){a&&a.m(e,s),u(e,t,s),u(e,n,s),c(n,r)},p(e,t){1&t&&l!==(l=e[6].username+"")&&b(r,l),1&t&&s!==(s=`https://osu.ppy.sh/users/${e[6].id}`)&&$(n,"href",s)},d(e){a&&a.d(e),e&&p(t),e&&p(n)}}}function Tr(t){let n,r,s,l,a,i,o,d,g,v,w,x,C,S,T,_,O,q,N,M,P,j,L,z,A,H,D,R,U,E,G,W,J,I,B,F,Y,Q,K,X,V,Z,ee,te,ne,re,se,le,ae,ie,oe,ce,ue=t[1].toDateString()+"",pe=t[1].toTimeString().replace(":00 GMT"," UTC")+"",de=t[1].toUTCString().replace(":00 GMT"," UTC+0")+"",me=t[3].username+"",fe=t[3].seed+"",he=t[4].username+"",ge=t[4].seed+"",ye=(t[0].points1||0)+"",$e=(t[0].points2||0)+"";function ve(e,t){return e[0].link?$r:yr}let be=ve(t),we=be(t);function ke(e,t){return e[0].referee?br:vr}let xe=ke(t),Ce=xe(t);function Se(e,t){return e[0].streamer?kr:wr}let Te=Se(t),_e=Te(t);function Oe(e,t){return e[0].commentators.length?Cr:xr}let qe=Oe(t),Ne=qe(t);return{c(){n=m("div"),r=m("div"),we.c(),s=h(),l=m("div"),a=m("div"),i=m("b"),o=f(ue),d=h(),g=f(pe),v=h(),w=m("div"),x=f(de),C=h(),S=m("div"),T=m("b"),T.textContent="Referee",_=f(":\r\n      "),Ce.c(),O=f("-\r\n      "),q=m("b"),q.textContent="Streamer",N=f(":\r\n      "),_e.c(),M=f("-\r\n      "),P=m("b"),P.textContent="Commentators",j=f(":\r\n      "),Ne.c(),L=h(),z=m("div"),A=m("div"),H=m("img"),R=h(),U=m("a"),E=f(me),G=f(" (#"),W=f(fe),J=f(")"),I=h(),B=m("div"),B.textContent="vs.",F=h(),Y=m("div"),Q=m("img"),X=h(),V=m("a"),Z=f(he),ee=f(" (#"),te=f(ge),ne=f(")"),re=h(),se=m("div"),le=f(ye),ae=f(" - "),ie=f($e),$(r,"class","name svelte-fwi9o4"),$(w,"class","utc svelte-fwi9o4"),$(a,"class","time svelte-fwi9o4"),$(S,"class","staff svelte-fwi9o4"),$(H,"alt",""),H.src!==(D=t[3].avatar)&&$(H,"src",D),$(H,"class","svelte-fwi9o4"),$(U,"href",`https://osu.ppy.sh/users/${t[3].id}`),$(A,"class","player svelte-fwi9o4"),$(B,"class","vs svelte-fwi9o4"),$(Q,"alt",""),Q.src!==(K=t[4].avatar)&&$(Q,"src",K),$(Q,"class","svelte-fwi9o4"),$(V,"href",`https://osu.ppy.sh/users/${t[4].id}`),$(Y,"class","player svelte-fwi9o4"),$(z,"class","players svelte-fwi9o4"),$(l,"class","body svelte-fwi9o4"),$(se,"class","score svelte-fwi9o4"),$(n,"class","match svelte-fwi9o4"),k(n,"my-match",t[2]?.id==t[3].id||t[2]?.id==t[4].id)},m(e,p){u(e,n,p),c(n,r),we.m(r,null),c(n,s),c(n,l),c(l,a),c(a,i),c(i,o),c(i,d),c(i,g),c(a,v),c(a,w),c(w,x),c(l,C),c(l,S),c(S,T),c(S,_),Ce.m(S,null),c(S,O),c(S,q),c(S,N),_e.m(S,null),c(S,M),c(S,P),c(S,j),Ne.m(S,null),c(l,L),c(l,z),c(z,A),c(A,H),c(A,R),c(A,U),c(U,E),c(U,G),c(U,W),c(U,J),c(z,I),c(z,B),c(z,F),c(z,Y),c(Y,Q),c(Y,X),c(Y,V),c(V,Z),c(V,ee),c(V,te),c(V,ne),c(n,re),c(n,se),c(se,le),c(se,ae),c(se,ie),oe||(ce=y(n,"click",t[5]),oe=!0)},p(e,[t]){be===(be=ve(e))&&we?we.p(e,t):(we.d(1),we=be(e),we&&(we.c(),we.m(r,null))),2&t&&ue!==(ue=e[1].toDateString()+"")&&b(o,ue),2&t&&pe!==(pe=e[1].toTimeString().replace(":00 GMT"," UTC")+"")&&b(g,pe),2&t&&de!==(de=e[1].toUTCString().replace(":00 GMT"," UTC+0")+"")&&b(x,de),xe===(xe=ke(e))&&Ce?Ce.p(e,t):(Ce.d(1),Ce=xe(e),Ce&&(Ce.c(),Ce.m(S,O))),Te===(Te=Se(e))&&_e?_e.p(e,t):(_e.d(1),_e=Te(e),_e&&(_e.c(),_e.m(S,M))),qe===(qe=Oe(e))&&Ne?Ne.p(e,t):(Ne.d(1),Ne=qe(e),Ne&&(Ne.c(),Ne.m(S,null))),1&t&&ye!==(ye=(e[0].points1||0)+"")&&b(le,ye),1&t&&$e!==($e=(e[0].points2||0)+"")&&b(ie,$e),28&t&&k(n,"my-match",e[2]?.id==e[3].id||e[2]?.id==e[4].id)},i:e,o:e,d(e){e&&p(n),we.d(),Ce.d(),_e.d(),Ne.d(),oe=!1,ce()}}}function _r(e,t,n){let r,s;a(e,re,(e=>n(2,s=e)));let{match:l}=t;const[i,o]=l.players.map((({player:e})=>e));return e.$$set=e=>{"match"in e&&n(0,l=e.match)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=new Date(l.time))},[l,r,s,i,o,function(t){T(e,t)}]}class Or extends Z{constructor(e){super(),V(this,e,_r,Tr,l,{match:0})}}const qr=te(null),Nr=te(null),Mr=async()=>{const{data:e}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "groups"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  matches(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "groups"\n        }\n      }\n    }\n    sort: "time"\n    limit: -1\n  ) {\n    id\n    link\n    players {\n      player: players_id {\n        id\n        username\n        avatar\n        seed\n        group {\n          id\n        }\n      }\n    }\n    time\n    referee {\n      id\n      username\n    }\n    streamer {\n      id\n      username\n    }\n    commentators {\n      commentator: commentators_id {\n        id\n        username\n      }\n    }\n\n    rolls {\n      id\n      player { id username }\n      value\n    }\n    protects {\n      id\n      player { id username }\n      map { id }\n    }\n    bans {\n      id\n      player { id username }\n      map { id }\n    }\n    picks {\n      id\n      player { id username }\n      map { id category }\n    }\n\n    scores {\n      id\n      player { id }\n      map { id }\n      score\n      combo\n      c320\n      c300\n      c200\n      c100\n      c50\n      c0\n    }\n    wbd {\n      id\n    }\n  }\n}'})});e.matches.forEach((e=>{e.players=e.players[0].player.seed<e.players[1].player.seed?e.players:e.players.reverse(),e.points1=0,e.points2=0,e.picks.forEach((t=>{var n;let r=e.scores.filter((e=>e.map.id==t.map.id))||[];(null===(n=r[0])||void 0===n?void 0:n.player.id)!=e.players[0].player.id&&(r=r.reverse());const[s,l]=r;s&&l&&(s.score>l.score?e.points1+=1:e.points2+=1)}))})),qr.set(e.matches),Nr.set(e.maps)},{Map:Pr}=J;function jr(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function Lr(e,t,n){const r=e.slice();return r[12]=t[n],r}function zr(e,t,n){const r=e.slice();return r[9]=t[n],r}function Ar(e){let t,n,r,s,l,a,i,o,d,g,y,v,w,k,x=e[0].player.group.id+"",C=[],S=new Pr,T=e[3];const _=e=>e[9].id;for(let t=0;t<T.length;t+=1){let n=zr(e,T,t),r=_(n);S.set(r,C[t]=Hr(r,n))}return{c(){t=m("div"),n=f("Welcome to the Group Stage!"),r=m("br"),s=m("br"),l=f("\r\n  You will be facing every other player of your group once ("),a=m("b"),i=f("Group "),o=f(x),d=f(")!"),g=m("br"),y=f("\r\n  You can find the list of your own matches just below."),v=h(),w=m("div");for(let e=0;e<C.length;e+=1)C[e].c();$(t,"class","intro svelte-dwzz6e"),$(w,"class","matches svelte-dwzz6e")},m(e,p){u(e,t,p),c(t,n),c(t,r),c(t,s),c(t,l),c(t,a),c(a,i),c(a,o),c(t,d),c(t,g),c(t,y),u(e,v,p),u(e,w,p);for(let e=0;e<C.length;e+=1)C[e].m(w,null);k=!0},p(e,t){(!k||1&t)&&x!==(x=e[0].player.group.id+"")&&b(o,x),8&t&&(T=e[3],U(),C=F(C,t,_,1,e,T,S,w,B,Hr,null,zr),E())},i(e){if(!k){for(let e=0;e<T.length;e+=1)G(C[e]);k=!0}},o(e){for(let e=0;e<C.length;e+=1)W(C[e]);k=!1},d(e){e&&p(t),e&&p(v),e&&p(w);for(let e=0;e<C.length;e+=1)C[e].d()}}}function Hr(e,t){let n,r,s;return r=new Or({props:{match:t[9]}}),{key:e,first:null,c(){n=g(),Y(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.match=t[9]),r.$set(s)},i(e){s||(G(r.$$.fragment,e),s=!0)},o(e){W(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function Dr(e){let t,n,s,l,a,i,o,d,f,g,v,b=[],w=new Pr,k=[],x=new Pr,C=e[4];const S=e=>e[12].id;for(let t=0;t<C.length;t+=1){let n=Lr(e,C,t),r=S(n);w.set(r,b[t]=Ur(r,n))}let T=e[2];const _=e=>e[9].id;for(let t=0;t<T.length;t+=1){let n=jr(e,T,t),r=_(n);x.set(r,k[t]=Gr(r,n))}return{c(){t=m("div");for(let e=0;e<b.length;e+=1)b[e].c();n=h(),s=m("div"),l=m("div"),a=m("a"),a.textContent="Sort chronologically",i=h(),o=m("a"),o.textContent="Sort by group",d=h();for(let e=0;e<k.length;e+=1)k[e].c();$(t,"class","maps svelte-dwzz6e"),$(a,"href","javascript:void(0)"),$(o,"href","javascript:void(0)"),$(l,"class","matches-links svelte-dwzz6e"),$(s,"class","matches svelte-dwzz6e")},m(r,p){u(r,t,p);for(let e=0;e<b.length;e+=1)b[e].m(t,null);u(r,n,p),u(r,s,p),c(s,l),c(l,a),c(l,i),c(l,o),c(s,d);for(let e=0;e<k.length;e+=1)k[e].m(s,null);f=!0,g||(v=[y(a,"click",e[6]),y(o,"click",e[5])],g=!0)},p(e,n){16&n&&(C=e[4],U(),b=F(b,n,S,1,e,C,w,t,B,Ur,null,Lr),E()),6&n&&(T=e[2],U(),k=F(k,n,_,1,e,T,x,s,B,Gr,null,jr),E())},i(e){if(!f){for(let e=0;e<C.length;e+=1)G(b[e]);for(let e=0;e<T.length;e+=1)G(k[e]);f=!0}},o(e){for(let e=0;e<b.length;e+=1)W(b[e]);for(let e=0;e<k.length;e+=1)W(k[e]);f=!1},d(e){e&&p(t);for(let e=0;e<b.length;e+=1)b[e].d();e&&p(n),e&&p(s);for(let e=0;e<k.length;e+=1)k[e].d();g=!1,r(v)}}}function Rr(t){let n;return{c(){n=m("div"),n.textContent="Loading groups matches...",$(n,"class","matches svelte-dwzz6e")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function Ur(e,t){let n,r,s;return r=new Bt({props:{map:t[12]}}),{key:e,first:null,c(){n=g(),Y(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};16&n&&(s.map=t[12]),r.$set(s)},i(e){s||(G(r.$$.fragment,e),s=!0)},o(e){W(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function Er(e){let t;return{c(){t=m("div"),$(t,"class","group-spacer svelte-dwzz6e")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Gr(e,t){let n,r,s,l,a;r=new Or({props:{match:t[9]}});let i=t[1]&&t[2][t[11]+1]?.players[0].player.group.id>t[9].players[0].player.group.id&&Er();return{key:e,first:null,c(){n=g(),Y(r.$$.fragment),s=h(),i&&i.c(),l=g(),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),u(e,s,t),i&&i.m(e,t),u(e,l,t),a=!0},p(e,n){t=e;const s={};4&n&&(s.match=t[9]),r.$set(s),t[1]&&t[2][t[11]+1]?.players[0].player.group.id>t[9].players[0].player.group.id?i||(i=Er(),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},i(e){a||(G(r.$$.fragment,e),a=!0)},o(e){W(r.$$.fragment,e),a=!1},d(e){e&&p(n),K(r,e),e&&p(s),i&&i.d(e),e&&p(l)}}}function Wr(e){let t,n,r,s,l,a=e[0]?.player?.group&&Ar(e);const i=[Rr,Dr],o=[];function c(e,t){return e[2]?1:0}return n=c(e),r=o[n]=i[n](e),{c(){a&&a.c(),t=h(),r.c(),s=g()},m(e,r){a&&a.m(e,r),u(e,t,r),o[n].m(e,r),u(e,s,r),l=!0},p(e,[l]){e[0]?.player?.group?a?(a.p(e,l),1&l&&G(a,1)):(a=Ar(e),a.c(),G(a,1),a.m(t.parentNode,t)):a&&(U(),W(a,1,1,(()=>{a=null})),E());let u=n;n=c(e),n===u?o[n].p(e,l):(U(),W(o[u],1,1,(()=>{o[u]=null})),E(),r=o[n],r?r.p(e,l):(r=o[n]=i[n](e),r.c()),G(r,1),r.m(s.parentNode,s))},i(e){l||(G(a),G(r),l=!0)},o(e){W(a),W(r),l=!1},d(e){a&&a.d(e),e&&p(t),o[n].d(e),e&&p(s)}}}function Jr(e,t,n){let r,s,l;var i;a(e,qr,(e=>n(8,r=e))),a(e,re,(e=>n(0,s=e))),a(e,Nr,(e=>n(4,l=e))),r||Mr();let o=!1;let c,u;return e.$$.update=()=>{385&e.$$.dirty&&r&&(null===n(7,i=null==s?void 0:s.player)||void 0===i?void 0:i.group)&&n(3,u=r.filter((e=>e.players.find((({player:e})=>e.id==s.id))))),256&e.$$.dirty&&n(2,c=r)},[s,o,c,u,l,()=>{n(1,o=!0),n(2,c=c.sort(((e,t)=>{if(e.players[0].player.group.id!=t.players[0].player.group.id)return e.players[0].player.group.id<t.players[0].player.group.id?-1:1;const[n,r]=e.players.map((({player:e})=>e)),[s,l]=t.players.map((({player:e})=>e));return n.seed!=s.seed?n.seed<s.seed?-1:1:r.seed<l.seed?-1:1})))},()=>{n(1,o=!1),n(2,c=c.sort(((e,t)=>e.time<t.time?-1:1)))},i,r]}class Ir extends Z{constructor(e){super(),V(this,e,Jr,Wr,l,{})}}function Br(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function Fr(e,t,n){const r=e.slice();return r[14]=t[n],r}function Yr(e,t,n){const r=e.slice();return r[17]=t[n],r[13]=n,r}function Qr(e,t,n){const r=e.slice();return r[14]=t[n],r[20]=n,r}function Kr(e){let t,n,r=e[14].username+"";return{c(){t=m("div"),n=f(r),$(t,"class","player")},m(e,r){u(e,t,r),c(t,n)},p(e,t){1&t&&r!==(r=e[14].username+"")&&b(n,r)},d(e){e&&p(t)}}}function Xr(e){let t,n,r,s,l,a,i=e[13]+1+"",o=e[17],g=[];for(let t=0;t<o.length;t+=1)g[t]=Kr(Qr(e,o,t));return{c(){t=m("div"),n=m("h3"),r=f("Group "),s=f(i),l=h();for(let e=0;e<g.length;e+=1)g[e].c();a=h(),$(t,"class","group svelte-c6gifs"),k(t,"active",e[2]==e[13])},m(e,i){u(e,t,i),c(t,n),c(n,r),c(n,s),c(t,l);for(let e=0;e<g.length;e+=1)g[e].m(t,null);c(t,a)},p(e,n){if(1&n){let r;for(o=e[17],r=0;r<o.length;r+=1){const s=Qr(e,o,r);g[r]?g[r].p(s,n):(g[r]=Kr(s),g[r].c(),g[r].m(t,a))}for(;r<g.length;r+=1)g[r].d(1);g.length=o.length}4&n&&k(t,"active",e[2]==e[13])},d(e){e&&p(t),d(g,e)}}}function Vr(e){let t,n;return t=new An({props:{position:e[1].position,player:e[1],maps:e[4]}}),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.position=e[1].position),2&n&&(r.player=e[1]),16&n&&(r.maps=e[4]),t.$set(r)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Zr(e){let t;return{c(){t=f("Roll")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function es(e,t){let n,r;return{key:e,first:null,c(){n=m("img"),$(n,"alt",""),n.src!==(r=t[14].avatar)&&$(n,"src",r),$(n,"class","svelte-c6gifs"),this.first=n},m(e,t){u(e,n,t)},p(e,s){t=e,8&s&&n.src!==(r=t[14].avatar)&&$(n,"src",r)},d(e){e&&p(n)}}}function ts(e){let t,n,r,s,l,a,i=["Top","High","Low","Bottom"][e[13]]+"",o=[],d=new Map,g=e[11];const y=e=>e[14].id;for(let t=0;t<g.length;t+=1){let n=Fr(e,g,t),r=y(n);d.set(r,o[t]=es(r,n))}return{c(){t=m("div"),n=m("h3"),r=f(i),s=f(" seed"),l=h();for(let e=0;e<o.length;e+=1)o[e].c();a=h(),$(t,"class","seed svelte-c6gifs")},m(e,i){u(e,t,i),c(t,n),c(n,r),c(n,s),c(t,l);for(let e=0;e<o.length;e+=1)o[e].m(t,null);c(t,a)},p(e,n){8&n&&(g=e[11],o=F(o,n,y,1,e,g,d,t,I,es,a,Fr))},d(e){e&&p(t);for(let e=0;e<o.length;e+=1)o[e].d()}}}function ns(e){let t,n,r,s,l,a,i,o,g,v,w,k,x,C,S,T,_,O=e[2]+1+"",q=e[0],N=[];for(let t=0;t<q.length;t+=1)N[t]=Xr(Yr(e,q,t));let M=e[1]&&Vr(e);v=new Se({props:{$$slots:{default:[Zr]},$$scope:{ctx:e}}}),v.$on("click",e[5]);let P=e[3],j=[];for(let t=0;t<P.length;t+=1)j[t]=ts(Br(e,P,t));return{c(){t=m("div");for(let e=0;e<N.length;e+=1)N[e].c();n=h(),r=m("div"),s=f("Current group: "),l=m("b"),a=f("Group "),i=f(O),o=h(),M&&M.c(),g=h(),Y(v.$$.fragment),w=h(),k=m("div");for(let e=0;e<j.length;e+=1)j[e].c();x=h(),C=m("button"),C.textContent="panic",$(t,"class","groups svelte-c6gifs"),$(r,"class","spotlight svelte-c6gifs"),$(k,"class","seeds svelte-c6gifs")},m(p,d){u(p,t,d);for(let e=0;e<N.length;e+=1)N[e].m(t,null);u(p,n,d),u(p,r,d),c(r,s),c(r,l),c(l,a),c(l,i),c(r,o),M&&M.m(r,null),c(r,g),Q(v,r,null),u(p,w,d),u(p,k,d);for(let e=0;e<j.length;e+=1)j[e].m(k,null);u(p,x,d),u(p,C,d),S=!0,T||(_=y(C,"click",e[9]),T=!0)},p(e,[n]){if(5&n){let r;for(q=e[0],r=0;r<q.length;r+=1){const s=Yr(e,q,r);N[r]?N[r].p(s,n):(N[r]=Xr(s),N[r].c(),N[r].m(t,null))}for(;r<N.length;r+=1)N[r].d(1);N.length=q.length}(!S||4&n)&&O!==(O=e[2]+1+"")&&b(i,O),e[1]?M?(M.p(e,n),2&n&&G(M,1)):(M=Vr(e),M.c(),G(M,1),M.m(r,g)):M&&(U(),W(M,1,1,(()=>{M=null})),E());const s={};if(2097152&n&&(s.$$scope={dirty:n,ctx:e}),v.$set(s),8&n){let t;for(P=e[3],t=0;t<P.length;t+=1){const r=Br(e,P,t);j[t]?j[t].p(r,n):(j[t]=ts(r),j[t].c(),j[t].m(k,null))}for(;t<j.length;t+=1)j[t].d(1);j.length=P.length}},i(e){S||(G(M),G(v.$$.fragment,e),S=!0)},o(e){W(M),W(v.$$.fragment,e),S=!1},d(e){e&&p(t),d(N,e),e&&p(n),e&&p(r),M&&M.d(),K(v),e&&p(w),e&&p(k),d(j,e),e&&p(x),e&&p(C),T=!1,_()}}}function rs(e,t,n){let r,s,l,i;a(e,mn,(e=>n(7,s=e))),a(e,se,(e=>n(8,l=e))),a(e,dn,(e=>n(4,i=e)));let o,c=new Array(32).fill(0).map((()=>[{id:"",username:"-"},{id:"",username:"-"},{id:"",username:"-"},{id:"",username:"-"}])),u=new Set,p=0;S((()=>{const e=localStorage.getItem("groups");e&&n(0,c=JSON.parse(e));const t=localStorage.getItem("selectedPlayers");if(t){JSON.parse(t).forEach((e=>u.add(e)))}}));return e.$$.update=()=>{384&e.$$.dirty&&!s&&l&&$n(l),192&e.$$.dirty&&n(3,r=s?[s.slice(0,32).filter((e=>!u.has(e.id))),s.slice(32,64).filter((e=>!u.has(e.id))),s.slice(64,96).filter((e=>!u.has(e.id))),s.slice(96,128).filter((e=>!u.has(e.id)))]:[])},[c,o,p,r,i,()=>{const e=r.find((e=>e.length)),t=e[Math.random()*e.length>>0];n(1,o=t),n(6,u=new Set([...u,t.id])),n(0,c[p][c[p].findIndex((e=>"-"==e.username))]={id:t.id,username:t.username},c),localStorage.setItem("groups",JSON.stringify(c)),localStorage.setItem("selectedPlayers",JSON.stringify(Array.from(u.values()))),n(2,p=31==p?0:p+1)},u,s,l,()=>{localStorage.clear()}]}class ss extends Z{constructor(e){super(),V(this,e,rs,ns,l,{})}}const{Map:ls}=J;function as(e,t,n){const r=e.slice();return r[112]=t[n],r}function is(e,t,n){const r=e.slice();return r[45]=t[n],r}function os(e,t,n){const r=e.slice();return r[112]=t[n],r}function cs(e,t,n){const r=e.slice();return r[112]=t[n],r}function us(e,t,n){const r=e.slice();return r[112]=t[n],r}function ps(e,t,n){const r=e.slice();return r[112]=t[n],r}function ds(e,t,n){const r=e.slice();return r[109]=t[n],r}function ms(e){let t,n,s,l,a,i,o,d,g,v,k,x,C,S,T,_,O,q,N,M,P,j,L,z,A,H,D,R,J,I,B,F,Y,Q,K,X,V,Z,ee,te,ne,re,se,le,ae,ie,oe,ce,ue,pe,de,me,fe,he,ge,ye,$e,ve,be,we,ke,xe,Ce,Se,Te,_e,Oe,qe,Ne,Me,Pe,je,Le,ze,Ae,He,De,Re,Ue,Ee,Ge,We,Je,Ie,Be,Fe,Ye,Qe,Ke,Xe,Ve,Ze,et,tt,nt,rt,st,lt,at,it,ot,ct,ut,pt,dt,mt,ft,ht,gt,yt,$t,vt,bt,wt,kt,xt,Ct,St,Tt,_t,Ot,qt,Nt,Mt,Pt,jt,Lt,zt,At,Ht,Dt,Rt,Ut=e[1].players[0].player.username+"",Et=e[1].players[0].player.seed+"",Gt=e[1].players[1].player.username+"",Wt=e[1].players[1].player.seed+"";function Jt(e,t){return e[1].link?$s:ys}let It=Jt(e),Bt=It(e);function Ft(e,t){return e[1].rolls.length?bs:vs}let Yt=Ft(e),Qt=Yt(e);const Kt=[ks,ws],Xt=[];function Vt(e,t){return e[1].protects[0]?0:e[1].rolls[1]?1:-1}~($t=Vt(e))&&(vt=Xt[$t]=Kt[$t](e));const Zt=[Ts,Ss],en=[];function tn(e,t){return e[1].protects[1]?0:e[1].protects[0]?1:-1}~(wt=tn(e))&&(kt=en[wt]=Zt[wt](e));const nn=[Ns,qs],rn=[];function sn(e,t){return e[1].bans[0]?0:e[1].protects[1]?1:-1}~(Tt=sn(e))&&(_t=rn[Tt]=nn[Tt](e));const ln=[Ls,js],an=[];function on(e,t){return e[1].bans[1]?0:e[1].bans[0]?1:-1}~(qt=on(e))&&(Nt=an[qt]=ln[qt](e));let cn=e[1].bans[1]&&Hs(e),un=3==e[4]&&3==e[5]&&e[30]&&Bs(e),pn=e[4]>=4&&Qs(e),dn=e[5]>=4&&Ks(e);return{c(){t=m("div"),n=m("a"),n.textContent="Back to matches",s=h(),l=m("center"),a=m("br"),i=m("br"),o=h(),d=m("a"),g=f("Emergency match editing link if you make a tremendous mistake"),k=h(),x=m("br"),C=m("br"),S=h(),T=m("div"),_=m("div"),O=f(e[4]),q=h(),N=m("div"),M=m("img"),j=h(),L=m("a"),z=f(Ut),A=f(" (#"),H=f(Et),D=f(")"),J=h(),I=m("div"),I.textContent="vs.",B=h(),F=m("div"),Y=m("img"),K=h(),X=m("a"),V=f(Gt),Z=f(" (#"),ee=f(Wt),te=f(")"),re=h(),se=m("div"),le=f(e[5]),ae=h(),ie=m("div"),oe=f("Create and prepare your lobby\r\n    "),ce=m("div"),ue=m("input"),de=h(),me=m("a"),me.textContent="📝 Copy",fe=h(),he=m("div"),ge=m("input"),ye=h(),$e=m("a"),$e.textContent="📝 Copy",ve=h(),be=m("div"),we=m("input"),ke=h(),xe=m("a"),xe.textContent="📝 Copy",Ce=h(),Se=m("div"),Te=m("input"),Oe=h(),qe=m("a"),qe.textContent="📝 Copy",Ne=h(),Me=m("div"),Pe=m("input"),Le=h(),ze=m("a"),ze.textContent="📝 Copy",Ae=h(),He=m("div"),De=m("input"),Ue=h(),Ee=m("a"),Ee.textContent="📝 Copy",Ge=h(),Bt.c(),We=h(),Je=m("div"),Ie=m("center"),Ie.innerHTML="Warmup rules: 4 minutes max, non-offensive<br/>\n      Ask for them 30 minutes in advance",Be=h(),Fe=m("div"),Ye=m("input"),Qe=h(),Ke=m("input"),Xe=h(),Ve=m("div"),Ze=m("input"),tt=h(),nt=m("a"),nt.textContent="📝 Copy",rt=h(),st=m("div"),lt=m("input"),it=h(),ot=m("a"),ot.textContent="📝 Copy",ct=h(),ut=m("div"),pt=f("Rolls\r\n    "),dt=m("div"),mt=m("input"),ft=h(),ht=m("a"),ht.textContent="📝 Copy",gt=h(),Qt.c(),yt=h(),vt&&vt.c(),bt=h(),kt&&kt.c(),xt=h(),Ct=m("hr"),St=h(),_t&&_t.c(),Ot=h(),Nt&&Nt.c(),Mt=h(),Pt=m("hr"),jt=h(),cn&&cn.c(),Lt=h(),un&&un.c(),zt=h(),pn&&pn.c(),At=h(),dn&&dn.c(),$(n,"href","#/referee!helper"),$(d,"href",v=`https://api.mbs3.fightthe.pw/admin/collections/matches/${e[1].id}`),$(d,"target","_blank"),$(_,"class","points svelte-3m7ipm"),$(M,"alt",""),M.src!==(P=e[1].players[0].player.avatar)&&$(M,"src",P),$(M,"class","svelte-3m7ipm"),$(L,"href",R=`https://osu.ppy.sh/users/${e[1].players[0].player.id}`),$(N,"class","player svelte-3m7ipm"),$(I,"class","vs svelte-3m7ipm"),$(Y,"alt",""),Y.src!==(Q=e[1].players[1].player.avatar)&&$(Y,"src",Q),$(Y,"class","svelte-3m7ipm"),$(X,"href",ne=`https://osu.ppy.sh/users/${e[1].players[1].player.id}`),$(F,"class","player svelte-3m7ipm"),$(se,"class","points svelte-3m7ipm"),$(T,"class","players svelte-3m7ipm"),ue.readOnly=!0,ue.value=pe=`!mp make MBS3: (${e[1].players[0].player.username}) vs. (${e[1].players[1].player.username})`,$(ue,"class","svelte-3m7ipm"),$(me,"href","#/referee!helper"),$(me,"class","copy"),ge.readOnly=!0,ge.value="!mp set 0 3 3",$(ge,"class","svelte-3m7ipm"),$($e,"href","#/referee!helper"),$($e,"class","copy"),we.readOnly=!0,we.value="!mp mods Freemod",$(we,"class","svelte-3m7ipm"),$(xe,"href","#/referee!helper"),$(xe,"class","copy"),Te.readOnly=!0,Te.value=_e=`!mp addref ${e[1].streamer?.username||"Paturages"}`,$(Te,"class","svelte-3m7ipm"),$(qe,"href","#/referee!helper"),$(qe,"class","copy"),Pe.readOnly=!0,Pe.value=je=`!mp invite #${e[1].players[0].player.id}`,$(Pe,"class","svelte-3m7ipm"),$(ze,"href","#/referee!helper"),$(ze,"class","copy"),De.readOnly=!0,De.value=Re=`!mp invite #${e[1].players[1].player.id}`,$(De,"class","svelte-3m7ipm"),$(Ee,"href","#/referee!helper"),$(Ee,"class","copy"),$(ie,"class","init svelte-3m7ipm"),$(Ye,"placeholder","Beatmap link 1"),$(Ye,"class","svelte-3m7ipm"),$(Ke,"placeholder","Beatmap link 2"),$(Ke,"class","svelte-3m7ipm"),$(Fe,"class","values svelte-3m7ipm"),Ze.readOnly=!0,Ze.value=et=`!mp map ${e[25].split("/").pop()} 3 ${e[1].players[0].player.username}'s warmup`,$(Ze,"class","svelte-3m7ipm"),$(nt,"href","#/referee!helper"),$(nt,"class","copy"),$(Ve,"class","warmup svelte-3m7ipm"),lt.readOnly=!0,lt.value=at=`!mp map ${e[26].split("/").pop()} 3 ${e[1].players[1].player.username}'s warmup`,$(lt,"class","svelte-3m7ipm"),$(ot,"href","#/referee!helper"),$(ot,"class","copy"),$(st,"class","warmup svelte-3m7ipm"),$(Je,"class","warmups svelte-3m7ipm"),mt.readOnly=!0,mt.value="Time to roll: each player will !roll, the highest one will protect and ban first!",$(mt,"class","svelte-3m7ipm"),$(ht,"href","#/referee!helper"),$(ht,"class","copy"),$(dt,"class","call svelte-3m7ipm"),$(ut,"class","rolls svelte-3m7ipm"),$(t,"class","match")},m(r,p){u(r,t,p),c(t,n),c(t,s),c(t,l),c(l,a),c(l,i),c(l,o),c(l,d),c(d,g),c(l,k),c(l,x),c(l,C),c(t,S),c(t,T),c(T,_),c(_,O),c(T,q),c(T,N),c(N,M),c(N,j),c(N,L),c(L,z),c(L,A),c(L,H),c(L,D),c(T,J),c(T,I),c(T,B),c(T,F),c(F,Y),c(F,K),c(F,X),c(X,V),c(X,Z),c(X,ee),c(X,te),c(T,re),c(T,se),c(se,le),c(t,ae),c(t,ie),c(ie,oe),c(ie,ce),c(ce,ue),e[52](ue),c(ce,de),c(ce,me),c(ie,fe),c(ie,he),c(he,ge),e[54](ge),c(he,ye),c(he,$e),c(ie,ve),c(ie,be),c(be,we),e[56](we),c(be,ke),c(be,xe),c(ie,Ce),c(ie,Se),c(Se,Te),e[58](Te),c(Se,Oe),c(Se,qe),c(ie,Ne),c(ie,Me),c(Me,Pe),e[60](Pe),c(Me,Le),c(Me,ze),c(ie,Ae),c(ie,He),c(He,De),e[62](De),c(He,Ue),c(He,Ee),c(t,Ge),Bt.m(t,null),c(t,We),c(t,Je),c(Je,Ie),c(Je,Be),c(Je,Fe),c(Fe,Ye),w(Ye,e[25]),c(Fe,Qe),c(Fe,Ke),w(Ke,e[26]),c(Je,Xe),c(Je,Ve),c(Ve,Ze),e[67](Ze),c(Ve,tt),c(Ve,nt),c(Je,rt),c(Je,st),c(st,lt),e[69](lt),c(st,it),c(st,ot),c(t,ct),c(t,ut),c(ut,pt),c(ut,dt),c(dt,mt),e[71](mt),c(dt,ft),c(dt,ht),c(ut,gt),Qt.m(ut,null),c(t,yt),~$t&&Xt[$t].m(t,null),c(t,bt),~wt&&en[wt].m(t,null),c(t,xt),c(t,Ct),c(t,St),~Tt&&rn[Tt].m(t,null),c(t,Ot),~qt&&an[qt].m(t,null),c(t,Mt),c(t,Pt),c(t,jt),cn&&cn.m(t,null),c(t,Lt),un&&un.m(t,null),c(t,zt),pn&&pn.m(t,null),c(t,At),dn&&dn.m(t,null),Ht=!0,Dt||(Rt=[y(n,"click",e[51]),y(me,"click",e[53]),y($e,"click",e[55]),y(xe,"click",e[57]),y(qe,"click",e[59]),y(ze,"click",e[61]),y(Ee,"click",e[63]),y(Ye,"input",e[65]),y(Ke,"input",e[66]),y(nt,"click",e[68]),y(ot,"click",e[70]),y(ht,"click",e[72])],Dt=!0)},p(e,n){(!Ht||2&n[0]&&v!==(v=`https://api.mbs3.fightthe.pw/admin/collections/matches/${e[1].id}`))&&$(d,"href",v),(!Ht||16&n[0])&&b(O,e[4]),(!Ht||2&n[0]&&M.src!==(P=e[1].players[0].player.avatar))&&$(M,"src",P),(!Ht||2&n[0])&&Ut!==(Ut=e[1].players[0].player.username+"")&&b(z,Ut),(!Ht||2&n[0])&&Et!==(Et=e[1].players[0].player.seed+"")&&b(H,Et),(!Ht||2&n[0]&&R!==(R=`https://osu.ppy.sh/users/${e[1].players[0].player.id}`))&&$(L,"href",R),(!Ht||2&n[0]&&Y.src!==(Q=e[1].players[1].player.avatar))&&$(Y,"src",Q),(!Ht||2&n[0])&&Gt!==(Gt=e[1].players[1].player.username+"")&&b(V,Gt),(!Ht||2&n[0])&&Wt!==(Wt=e[1].players[1].player.seed+"")&&b(ee,Wt),(!Ht||2&n[0]&&ne!==(ne=`https://osu.ppy.sh/users/${e[1].players[1].player.id}`))&&$(X,"href",ne),(!Ht||32&n[0])&&b(le,e[5]),(!Ht||2&n[0]&&pe!==(pe=`!mp make MBS3: (${e[1].players[0].player.username}) vs. (${e[1].players[1].player.username})`)&&ue.value!==pe)&&(ue.value=pe),(!Ht||2&n[0]&&_e!==(_e=`!mp addref ${e[1].streamer?.username||"Paturages"}`)&&Te.value!==_e)&&(Te.value=_e),(!Ht||2&n[0]&&je!==(je=`!mp invite #${e[1].players[0].player.id}`)&&Pe.value!==je)&&(Pe.value=je),(!Ht||2&n[0]&&Re!==(Re=`!mp invite #${e[1].players[1].player.id}`)&&De.value!==Re)&&(De.value=Re),It===(It=Jt(e))&&Bt?Bt.p(e,n):(Bt.d(1),Bt=It(e),Bt&&(Bt.c(),Bt.m(t,We))),33554432&n[0]&&Ye.value!==e[25]&&w(Ye,e[25]),67108864&n[0]&&Ke.value!==e[26]&&w(Ke,e[26]),(!Ht||33554434&n[0]&&et!==(et=`!mp map ${e[25].split("/").pop()} 3 ${e[1].players[0].player.username}'s warmup`)&&Ze.value!==et)&&(Ze.value=et),(!Ht||67108866&n[0]&&at!==(at=`!mp map ${e[26].split("/").pop()} 3 ${e[1].players[1].player.username}'s warmup`)&&lt.value!==at)&&(lt.value=at),Yt===(Yt=Ft(e))&&Qt?Qt.p(e,n):(Qt.d(1),Qt=Yt(e),Qt&&(Qt.c(),Qt.m(ut,null)));let r=$t;$t=Vt(e),$t===r?~$t&&Xt[$t].p(e,n):(vt&&(U(),W(Xt[r],1,1,(()=>{Xt[r]=null})),E()),~$t?(vt=Xt[$t],vt?vt.p(e,n):(vt=Xt[$t]=Kt[$t](e),vt.c()),G(vt,1),vt.m(t,bt)):vt=null);let s=wt;wt=tn(e),wt===s?~wt&&en[wt].p(e,n):(kt&&(U(),W(en[s],1,1,(()=>{en[s]=null})),E()),~wt?(kt=en[wt],kt?kt.p(e,n):(kt=en[wt]=Zt[wt](e),kt.c()),G(kt,1),kt.m(t,xt)):kt=null);let l=Tt;Tt=sn(e),Tt===l?~Tt&&rn[Tt].p(e,n):(_t&&(U(),W(rn[l],1,1,(()=>{rn[l]=null})),E()),~Tt?(_t=rn[Tt],_t?_t.p(e,n):(_t=rn[Tt]=nn[Tt](e),_t.c()),G(_t,1),_t.m(t,Ot)):_t=null);let a=qt;qt=on(e),qt===a?~qt&&an[qt].p(e,n):(Nt&&(U(),W(an[a],1,1,(()=>{an[a]=null})),E()),~qt?(Nt=an[qt],Nt?Nt.p(e,n):(Nt=an[qt]=ln[qt](e),Nt.c()),G(Nt,1),Nt.m(t,Mt)):Nt=null),e[1].bans[1]?cn?(cn.p(e,n),2&n[0]&&G(cn,1)):(cn=Hs(e),cn.c(),G(cn,1),cn.m(t,Lt)):cn&&(U(),W(cn,1,1,(()=>{cn=null})),E()),3==e[4]&&3==e[5]&&e[30]?un?(un.p(e,n),1073741872&n[0]&&G(un,1)):(un=Bs(e),un.c(),G(un,1),un.m(t,zt)):un&&(U(),W(un,1,1,(()=>{un=null})),E()),e[4]>=4?pn?pn.p(e,n):(pn=Qs(e),pn.c(),pn.m(t,At)):pn&&(pn.d(1),pn=null),e[5]>=4?dn?dn.p(e,n):(dn=Ks(e),dn.c(),dn.m(t,null)):dn&&(dn.d(1),dn=null)},i(e){Ht||(G(vt),G(kt),G(_t),G(Nt),G(cn),G(un),Ht=!0)},o(e){W(vt),W(kt),W(_t),W(Nt),W(cn),W(un),Ht=!1},d(n){n&&p(t),e[52](null),e[54](null),e[56](null),e[58](null),e[60](null),e[62](null),Bt.d(),e[67](null),e[69](null),e[71](null),Qt.d(),~$t&&Xt[$t].d(),~wt&&en[wt].d(),~Tt&&rn[Tt].d(),~qt&&an[qt].d(),cn&&cn.d(),un&&un.d(),pn&&pn.d(),dn&&dn.d(),Dt=!1,r(Rt)}}}function fs(e){let t,n,r,s=[],l=new ls,a=e[7];const i=e=>e[109].id;for(let t=0;t<a.length;t+=1){let n=ds(e,a,t),r=i(n);l.set(r,s[t]=Vs(r,n))}return{c(){t=m("div"),n=f("Select a match\r\n  ");for(let e=0;e<s.length;e+=1)s[e].c();$(t,"class","matches svelte-3m7ipm")},m(e,l){u(e,t,l),c(t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null);r=!0},p(e,n){192&n[0]|128&n[1]&&(a=e[7],U(),s=F(s,n,i,1,e,a,l,t,B,Vs,null,ds),E())},i(e){if(!r){for(let e=0;e<a.length;e+=1)G(s[e]);r=!0}},o(e){for(let e=0;e<s.length;e+=1)W(s[e]);r=!1},d(e){e&&p(t);for(let e=0;e<s.length;e+=1)s[e].d()}}}function hs(t){let n;return{c(){n=f("Loading matches...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function gs(t){let n;return{c(){n=m("a"),n.textContent="Login",$(n,"href","https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function ys(e){let t,n,r,s,l,a;return{c(){t=m("div"),n=f("Paste your MP link here\r\n    "),r=m("div"),s=m("input"),$(s,"placeholder","MP Link"),$(s,"class","svelte-3m7ipm"),$(r,"class","values svelte-3m7ipm"),$(t,"class","init svelte-3m7ipm")},m(i,o){u(i,t,o),c(t,n),c(t,r),c(r,s),w(s,e[24]),l||(a=y(s,"input",e[64]),l=!0)},p(e,t){16777216&t[0]&&s.value!==e[24]&&w(s,e[24])},d(e){e&&p(t),l=!1,a()}}}function $s(e){let t,n,r,s,l;return{c(){t=m("center"),n=m("h1"),r=m("a"),s=f("MP Link"),$(r,"href",l=e[1].link)},m(e,l){u(e,t,l),c(t,n),c(n,r),c(r,s)},p(e,t){2&t[0]&&l!==(l=e[1].link)&&$(r,"href",l)},d(e){e&&p(t)}}}function vs(e){let t,n,s,l,a,i,o,d;return{c(){t=m("div"),n=m("input"),s=h(),l=m("input"),a=h(),i=m("button"),i.textContent="Confirm rolls",$(n,"placeholder","Roll 1"),$(n,"type","number"),$(n,"class","svelte-3m7ipm"),$(l,"placeholder","Roll 2"),$(l,"type","number"),$(l,"class","svelte-3m7ipm"),$(t,"class","values svelte-3m7ipm")},m(r,p){u(r,t,p),c(t,n),w(n,e[2]),c(t,s),c(t,l),w(l,e[3]),u(r,a,p),u(r,i,p),o||(d=[y(n,"input",e[73]),y(l,"input",e[74]),y(i,"click",e[75])],o=!0)},p(e,t){4&t[0]&&v(n.value)!==e[2]&&w(n,e[2]),8&t[0]&&v(l.value)!==e[3]&&w(l,e[3])},d(e){e&&p(t),e&&p(a),e&&p(i),o=!1,r(d)}}}function bs(e){let t,n,r,s,l,a,i=e[1].rolls[0].value+"",o=e[1].rolls[1].value+"";return{c(){t=m("div"),n=m("b"),r=f(i),s=f(" vs.\r\n      "),l=m("b"),a=f(o),$(t,"class","values svelte-3m7ipm")},m(e,i){u(e,t,i),c(t,n),c(n,r),c(t,s),c(t,l),c(l,a)},p(e,t){2&t[0]&&i!==(i=e[1].rolls[0].value+"")&&b(r,i),2&t[0]&&o!==(o=e[1].rolls[1].value+"")&&b(a,o)},d(e){e&&p(t)}}}function ws(e){let t,n,r,s,l,a,i,o,d,f,g,v,b,w=[],k=new ls,x=e[9];const C=e=>e[112].id;for(let t=0;t<x.length;t+=1){let n=ps(e,x,t),r=C(n);k.set(r,w[t]=Cs(r,n))}return{c(){t=m("div"),n=m("center"),n.innerHTML="Protects<br/>\n      Roll winner protects first",r=h(),s=m("div"),l=m("input"),i=h(),o=m("a"),o.textContent="📝 Copy",d=h(),f=m("div");for(let e=0;e<w.length;e+=1)w[e].c();l.readOnly=!0,l.value=a=`${e[8].username} wins the roll and protects first! Pick a map to protect: this map will not be able to be banned.`,$(l,"class","svelte-3m7ipm"),$(o,"href","#/referee!helper"),$(o,"class","copy"),$(s,"class","call svelte-3m7ipm"),$(f,"class","maps svelte-3m7ipm"),$(t,"class","protects svelte-3m7ipm")},m(a,p){u(a,t,p),c(t,n),c(t,r),c(t,s),c(s,l),e[77](l),c(s,i),c(s,o),c(t,d),c(t,f);for(let e=0;e<w.length;e+=1)w[e].m(f,null);g=!0,v||(b=y(o,"click",e[78]),v=!0)},p(e,t){(!g||256&t[0]&&a!==(a=`${e[8].username} wins the roll and protects first! Pick a map to protect: this map will not be able to be banned.`)&&l.value!==a)&&(l.value=a),768&t[0]|1024&t[1]&&(x=e[9],U(),w=F(w,t,C,1,e,x,k,f,B,Cs,null,ps),E())},i(e){if(!g){for(let e=0;e<x.length;e+=1)G(w[e]);g=!0}},o(e){for(let e=0;e<w.length;e+=1)W(w[e]);g=!1},d(n){n&&p(t),e[77](null);for(let e=0;e<w.length;e+=1)w[e].d();v=!1,b()}}}function ks(e){let t,n,r,s,l,a=e[8].username+"";return s=new Bt({props:{map:e[9].find(e[76])}}),{c(){t=m("div"),n=f(a),r=f("'s protect\r\n    "),Y(s.$$.fragment),$(t,"class","protects svelte-3m7ipm")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){(!l||256&t[0])&&a!==(a=e[8].username+"")&&b(n,a);const r={};514&t[0]&&(r.map=e[9].find(e[76])),s.$set(r)},i(e){l||(G(s.$$.fragment,e),l=!0)},o(e){W(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function xs(e){let t,n;return t=new Bt({props:{map:e[112]}}),t.$on("click",(function(...t){return e[79](e[112],...t)})),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};512&r[0]&&(s.map=e[112]),t.$set(s)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Cs(e,t){let n,r,s,l=!t[112].category.startsWith("Tiebreaker"),a=l&&xs(t);return{key:e,first:null,c(){n=g(),a&&a.c(),r=g(),this.first=n},m(e,t){u(e,n,t),a&&a.m(e,t),u(e,r,t),s=!0},p(e,n){t=e,512&n[0]&&(l=!t[112].category.startsWith("Tiebreaker")),l?a?(a.p(t,n),512&n[0]&&G(a,1)):(a=xs(t),a.c(),G(a,1),a.m(r.parentNode,r)):a&&(U(),W(a,1,1,(()=>{a=null})),E())},i(e){s||(G(a),s=!0)},o(e){W(a),s=!1},d(e){e&&p(n),a&&a.d(e),e&&p(r)}}}function Ss(e){let t,n,r,s,l,a,i,o,d,f,g,v=[],b=new ls,w=e[9];const k=e=>e[112].id;for(let t=0;t<w.length;t+=1){let n=us(e,w,t),r=k(n);b.set(r,v[t]=Os(r,n))}return{c(){t=m("div"),n=m("div"),r=m("input"),l=h(),a=m("a"),a.textContent="📝 Copy",i=h(),o=m("div");for(let e=0;e<v.length;e+=1)v[e].c();r.readOnly=!0,r.value=s=`${e[33].username} protects second: pick a map to protect`,$(r,"class","svelte-3m7ipm"),$(a,"href","#/referee!helper"),$(a,"class","copy"),$(n,"class","call svelte-3m7ipm"),$(o,"class","maps svelte-3m7ipm"),$(t,"class","protects svelte-3m7ipm")},m(s,p){u(s,t,p),c(t,n),c(n,r),e[81](r),c(n,l),c(n,a),c(t,i),c(t,o);for(let e=0;e<v.length;e+=1)v[e].m(o,null);d=!0,f||(g=y(a,"click",e[82]),f=!0)},p(e,t){(!d||4&t[1]&&s!==(s=`${e[33].username} protects second: pick a map to protect`)&&r.value!==s)&&(r.value=s),512&t[0]|1036&t[1]&&(w=e[9],U(),v=F(v,t,k,1,e,w,b,o,B,Os,null,us),E())},i(e){if(!d){for(let e=0;e<w.length;e+=1)G(v[e]);d=!0}},o(e){for(let e=0;e<v.length;e+=1)W(v[e]);d=!1},d(n){n&&p(t),e[81](null);for(let e=0;e<v.length;e+=1)v[e].d();f=!1,g()}}}function Ts(e){let t,n,r,s,l,a=e[33].username+"";return s=new Bt({props:{map:e[9].find(e[80])}}),{c(){t=m("div"),n=f(a),r=f("'s protect\r\n    "),Y(s.$$.fragment),$(t,"class","protects svelte-3m7ipm")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){(!l||4&t[1])&&a!==(a=e[33].username+"")&&b(n,a);const r={};514&t[0]&&(r.map=e[9].find(e[80])),s.$set(r)},i(e){l||(G(s.$$.fragment,e),l=!0)},o(e){W(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function _s(e){let t,n;return t=new Bt({props:{map:e[112]}}),t.$on("click",(function(...t){return e[83](e[112],...t)})),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};512&r[0]&&(s.map=e[112]),t.$set(s)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Os(e,t){let n,r,s,l=!t[112].category.startsWith("Tiebreaker")&&t[34].id!=t[112].id,a=l&&_s(t);return{key:e,first:null,c(){n=g(),a&&a.c(),r=g(),this.first=n},m(e,t){u(e,n,t),a&&a.m(e,t),u(e,r,t),s=!0},p(e,n){t=e,512&n[0]|8&n[1]&&(l=!t[112].category.startsWith("Tiebreaker")&&t[34].id!=t[112].id),l?a?(a.p(t,n),512&n[0]|8&n[1]&&G(a,1)):(a=_s(t),a.c(),G(a,1),a.m(r.parentNode,r)):a&&(U(),W(a,1,1,(()=>{a=null})),E())},i(e){s||(G(a),s=!0)},o(e){W(a),s=!1},d(e){e&&p(n),a&&a.d(e),e&&p(r)}}}function qs(e){let t,n,r,s,l,a,i,o,d,f,g,v,b,w=[],k=new ls,x=e[9];const C=e=>e[112].id;for(let t=0;t<x.length;t+=1){let n=cs(e,x,t),r=C(n);k.set(r,w[t]=Ps(r,n))}return{c(){t=m("div"),n=m("center"),n.innerHTML="Bans<br/>\n      Roll loser bans first",r=h(),s=m("div"),l=m("input"),i=h(),o=m("a"),o.textContent="📝 Copy",d=h(),f=m("div");for(let e=0;e<w.length;e+=1)w[e].c();l.readOnly=!0,l.value=a=`${e[33].username} bans first! Pick a map to ban: this map will not be able to be picked in the match.`,$(l,"class","svelte-3m7ipm"),$(o,"href","#/referee!helper"),$(o,"class","copy"),$(s,"class","call svelte-3m7ipm"),$(f,"class","maps svelte-3m7ipm"),$(t,"class","bans svelte-3m7ipm")},m(a,p){u(a,t,p),c(t,n),c(t,r),c(t,s),c(s,l),e[85](l),c(s,i),c(s,o),c(t,d),c(t,f);for(let e=0;e<w.length;e+=1)w[e].m(f,null);g=!0,v||(b=y(o,"click",e[86]),v=!0)},p(e,t){(!g||4&t[1]&&a!==(a=`${e[33].username} bans first! Pick a map to ban: this map will not be able to be picked in the match.`)&&l.value!==a)&&(l.value=a),512&t[0]|2076&t[1]&&(x=e[9],U(),w=F(w,t,C,1,e,x,k,f,B,Ps,null,cs),E())},i(e){if(!g){for(let e=0;e<x.length;e+=1)G(w[e]);g=!0}},o(e){for(let e=0;e<w.length;e+=1)W(w[e]);g=!1},d(n){n&&p(t),e[85](null);for(let e=0;e<w.length;e+=1)w[e].d();v=!1,b()}}}function Ns(e){let t,n,r,s,l,a=e[33].username+"";return s=new Bt({props:{map:e[9].find(e[84])}}),{c(){t=m("div"),n=f(a),r=f("'s ban\r\n    "),Y(s.$$.fragment),$(t,"class","bans svelte-3m7ipm")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){(!l||4&t[1])&&a!==(a=e[33].username+"")&&b(n,a);const r={};514&t[0]&&(r.map=e[9].find(e[84])),s.$set(r)},i(e){l||(G(s.$$.fragment,e),l=!0)},o(e){W(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function Ms(e){let t,n;return t=new Bt({props:{map:e[112]}}),t.$on("click",(function(...t){return e[87](e[112],...t)})),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};512&r[0]&&(s.map=e[112]),t.$set(s)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Ps(e,t){let n,r,s,l=!t[112].category.startsWith("Tiebreaker")&&t[34]?.id!=t[112].id&&t[35]?.id!=t[112].id,a=l&&Ms(t);return{key:e,first:null,c(){n=g(),a&&a.c(),r=g(),this.first=n},m(e,t){u(e,n,t),a&&a.m(e,t),u(e,r,t),s=!0},p(e,n){t=e,512&n[0]|24&n[1]&&(l=!t[112].category.startsWith("Tiebreaker")&&t[34]?.id!=t[112].id&&t[35]?.id!=t[112].id),l?a?(a.p(t,n),512&n[0]|24&n[1]&&G(a,1)):(a=Ms(t),a.c(),G(a,1),a.m(r.parentNode,r)):a&&(U(),W(a,1,1,(()=>{a=null})),E())},i(e){s||(G(a),s=!0)},o(e){W(a),s=!1},d(e){e&&p(n),a&&a.d(e),e&&p(r)}}}function js(e){let t,n,r,s,l,a,i,o,d,f,g,v=[],b=new ls,w=e[9];const k=e=>e[112].id;for(let t=0;t<w.length;t+=1){let n=os(e,w,t),r=k(n);b.set(r,v[t]=As(r,n))}return{c(){t=m("div"),n=m("div"),r=m("input"),l=h(),a=m("a"),a.textContent="📝 Copy",i=h(),o=m("div");for(let e=0;e<v.length;e+=1)v[e].c();r.readOnly=!0,r.value=s=`${e[8].username}'s turn to ban: pick a map to ban`,$(r,"class","svelte-3m7ipm"),$(a,"href","#/referee!helper"),$(a,"class","copy"),$(n,"class","call svelte-3m7ipm"),$(o,"class","maps svelte-3m7ipm"),$(t,"class","bans svelte-3m7ipm")},m(s,p){u(s,t,p),c(t,n),c(n,r),e[89](r),c(n,l),c(n,a),c(t,i),c(t,o);for(let e=0;e<v.length;e+=1)v[e].m(o,null);d=!0,f||(g=y(a,"click",e[90]),f=!0)},p(e,t){(!d||256&t[0]&&s!==(s=`${e[8].username}'s turn to ban: pick a map to ban`)&&r.value!==s)&&(r.value=s),768&t[0]|2104&t[1]&&(w=e[9],U(),v=F(v,t,k,1,e,w,b,o,B,As,null,os),E())},i(e){if(!d){for(let e=0;e<w.length;e+=1)G(v[e]);d=!0}},o(e){for(let e=0;e<v.length;e+=1)W(v[e]);d=!1},d(n){n&&p(t),e[89](null);for(let e=0;e<v.length;e+=1)v[e].d();f=!1,g()}}}function Ls(e){let t,n,r,s,l,a=e[8].username+"";return s=new Bt({props:{map:e[9].find(e[88])}}),{c(){t=m("div"),n=f(a),r=f("'s ban\r\n    "),Y(s.$$.fragment),$(t,"class","bans svelte-3m7ipm")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){(!l||256&t[0])&&a!==(a=e[8].username+"")&&b(n,a);const r={};514&t[0]&&(r.map=e[9].find(e[88])),s.$set(r)},i(e){l||(G(s.$$.fragment,e),l=!0)},o(e){W(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function zs(e){let t,n;return t=new Bt({props:{map:e[112]}}),t.$on("click",(function(...t){return e[91](e[112],...t)})),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};512&r[0]&&(s.map=e[112]),t.$set(s)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function As(e,t){let n,r,s,l=!t[112].category.startsWith("Tiebreaker")&&t[34]?.id!=t[112].id&&t[35]?.id!=t[112].id&&t[36].id!=t[112].id,a=l&&zs(t);return{key:e,first:null,c(){n=g(),a&&a.c(),r=g(),this.first=n},m(e,t){u(e,n,t),a&&a.m(e,t),u(e,r,t),s=!0},p(e,n){t=e,512&n[0]|56&n[1]&&(l=!t[112].category.startsWith("Tiebreaker")&&t[34]?.id!=t[112].id&&t[35]?.id!=t[112].id&&t[36].id!=t[112].id),l?a?(a.p(t,n),512&n[0]|56&n[1]&&G(a,1)):(a=zs(t),a.c(),G(a,1),a.m(r.parentNode,r)):a&&(U(),W(a,1,1,(()=>{a=null})),E())},i(e){s||(G(a),s=!0)},o(e){W(a),s=!1},d(e){e&&p(n),a&&a.d(e),e&&p(r)}}}function Hs(e){let t,n,r,s,l=[],a=new ls,i=e[27];const o=e=>e[45].id;for(let t=0;t<i.length;t+=1){let n=is(e,i,t),r=o(n);a.set(r,l[t]=Gs(r,n))}let c=!e[30]&&e[4]<4&&e[5]<4&&!(3==e[4]&&3==e[5])&&Ws(e);return{c(){t=m("div");for(let e=0;e<l.length;e+=1)l[e].c();n=h(),c&&c.c(),r=g(),$(t,"class","picks svelte-3m7ipm")},m(e,a){u(e,t,a);for(let e=0;e<l.length;e+=1)l[e].m(t,null);u(e,n,a),c&&c.m(e,a),u(e,r,a),s=!0},p(e,n){142607874&n[0]|12544&n[1]&&(i=e[27],U(),l=F(l,n,o,1,e,i,a,t,B,Gs,null,is),E()),!e[30]&&e[4]<4&&e[5]<4&&(3!=e[4]||3!=e[5])?c?(c.p(e,n),1073741872&n[0]&&G(c,1)):(c=Ws(e),c.c(),G(c,1),c.m(r.parentNode,r)):c&&(U(),W(c,1,1,(()=>{c=null})),E())},i(e){if(!s){for(let e=0;e<i.length;e+=1)G(l[e]);G(c),s=!0}},o(e){for(let e=0;e<l.length;e+=1)W(l[e]);W(c),s=!1},d(e){e&&p(t);for(let e=0;e<l.length;e+=1)l[e].d();e&&p(n),c&&c.d(e),e&&p(r)}}}function Ds(e){let t,n,s,l,a,i,o,d,g,v,w,k,x,C,S,T,_,O,q,N=e[1].players[0].player.username+"",M=e[1].players[1].player.username+"";function P(e,t){return e[10]?Es:Us}let j=P(e),L=j(e);function z(){return e[96](e[45])}function A(){return e[97](e[45])}return{c(){t=m("div"),n=m("input"),l=h(),a=m("a"),a.textContent="📝 Copy",i=h(),o=m("div"),L.c(),d=h(),g=m("p"),g.textContent="If it doesn't work or lags (likely to happen if osu doesn't cooperate), bypass this thing by manually selecting the winner. If it's totally broken, refresh the page lol",v=h(),w=m("p"),k=m("button"),x=f(N),C=h(),S=m("button"),T=f(M),_=h(),n.readOnly=!0,n.value=s=`!mp map ${e[45].map.id} 3`,$(n,"class","svelte-3m7ipm"),$(a,"href","#/referee!helper"),$(a,"class","copy"),$(t,"class","call svelte-3m7ipm"),$(o,"class","fetcher svelte-3m7ipm")},m(r,s){u(r,t,s),c(t,n),e[93](n),c(t,l),c(t,a),u(r,i,s),u(r,o,s),L.m(o,null),c(o,d),c(o,g),c(o,v),c(o,w),c(w,k),c(k,x),c(w,C),c(w,S),c(S,T),c(o,_),O||(q=[y(a,"click",e[94]),y(k,"click",z),y(S,"click",A)],O=!0)},p(t,r){e=t,134217728&r[0]&&s!==(s=`!mp map ${e[45].map.id} 3`)&&n.value!==s&&(n.value=s),j===(j=P(e))&&L?L.p(e,r):(L.d(1),L=j(e),L&&(L.c(),L.m(o,d))),2&r[0]&&N!==(N=e[1].players[0].player.username+"")&&b(x,N),2&r[0]&&M!==(M=e[1].players[1].player.username+"")&&b(T,M)},d(n){n&&p(t),e[93](null),n&&p(i),n&&p(o),L.d(),O=!1,r(q)}}}function Rs(e){let t,n,r,s,l,a,i,o=(e[45].scores[0].score>e[45].scores[1].score?e[1].players[0].player.username:e[1].players[1].player.username)+"",d=e[45].scores[0].score+"",h=e[45].scores[1].score+"";return{c(){t=m("div"),n=f(o),r=f("\r\n          won the pick! ("),s=f(d),l=f(" vs. "),a=f(h),i=f(")\r\n        "),$(t,"class","win svelte-3m7ipm")},m(e,o){u(e,t,o),c(t,n),c(t,r),c(t,s),c(t,l),c(t,a),c(t,i)},p(e,t){134217730&t[0]&&o!==(o=(e[45].scores[0].score>e[45].scores[1].score?e[1].players[0].player.username:e[1].players[1].player.username)+"")&&b(n,o),134217728&t[0]&&d!==(d=e[45].scores[0].score+"")&&b(s,d),134217728&t[0]&&h!==(h=e[45].scores[1].score+"")&&b(a,h)},d(e){e&&p(t)}}}function Us(e){let t,n,r;function s(){return e[95](e[45])}return{c(){t=m("button"),t.textContent="After the song is done (scores show up in chat), click to refresh the scores"},m(e,l){u(e,t,l),n||(r=y(t,"click",s),n=!0)},p(t,n){e=t},d(e){e&&p(t),n=!1,r()}}}function Es(t){let n;return{c(){n=f("Fetching scores...")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Gs(e,t){let n,r,s,l,a,i,o=(t[45].player?.username||"Tiebreaker")+"";function c(...e){return t[92](t[45],...e)}function d(e,t){return e[45].scores.length?Rs:Ds}s=new Bt({props:{map:t[9].find(c)}});let m=d(t),y=m(t);return{key:e,first:null,c(){n=f(o),r=f(" picked\r\n      "),Y(s.$$.fragment),l=h(),y.c(),a=g(),this.first=n},m(e,t){u(e,n,t),u(e,r,t),Q(s,e,t),u(e,l,t),y.m(e,t),u(e,a,t),i=!0},p(e,r){t=e,(!i||134217728&r[0])&&o!==(o=(t[45].player?.username||"Tiebreaker")+"")&&b(n,o);const l={};134218240&r[0]&&(l.map=t[9].find(c)),s.$set(l),m===(m=d(t))&&y?y.p(t,r):(y.d(1),y=m(t),y&&(y.c(),y.m(a.parentNode,a)))},i(e){i||(G(s.$$.fragment,e),i=!0)},o(e){W(s.$$.fragment,e),i=!1},d(e){e&&p(n),e&&p(r),K(s,e),e&&p(l),y.d(e),e&&p(a)}}}function Ws(e){let t,n,r,s,l,a,i,o,d,g,v,w,k,x,C,S,T,_,O=e[28]<e[29]?"Tiebreaker (rice)":"Tiebreaker (hybrid)",q=[],N=new ls,M=e[9];const P=e=>e[112].id;for(let t=0;t<M.length;t+=1){let n=as(e,M,t),r=P(n);N.set(r,q[t]=Is(r,n))}return{c(){t=m("div"),n=f("Picks (Picked: "),r=f(e[28]),s=f(" rice, "),l=f(e[29]),a=f(" LN/Hybrid; current TB = "),i=f(O),o=f(")\r\n    "),d=m("div"),g=m("input"),w=h(),k=m("a"),k.textContent="📝 Copy",x=h(),C=m("div");for(let e=0;e<q.length;e+=1)q[e].c();g.readOnly=!0,g.value=v=e[1].picks.length?`${e[1].players[0].player.username} ${e[4]} - ${e[5]} ${e[1].players[1].player.username} | Loser's turn to pick: ${e[0].username}, please pick a map!`:`${e[1].players[0].player.username} ${e[4]} - ${e[5]} ${e[1].players[1].player.username} | ${e[0].username} picks first: please pick a map!`,$(g,"class","svelte-3m7ipm"),$(k,"href","#/referee!helper"),$(k,"class","copy"),$(d,"class","call svelte-3m7ipm"),$(C,"class","maps svelte-3m7ipm"),$(t,"class","picks svelte-3m7ipm")},m(p,m){u(p,t,m),c(t,n),c(t,r),c(t,s),c(t,l),c(t,a),c(t,i),c(t,o),c(t,d),c(d,g),e[98](g),c(d,w),c(d,k),c(t,x),c(t,C);for(let e=0;e<q.length;e+=1)q[e].m(C,null);S=!0,T||(_=y(k,"click",e[99]),T=!0)},p(e,t){(!S||268435456&t[0])&&b(r,e[28]),(!S||536870912&t[0])&&b(l,e[29]),(!S||805306368&t[0])&&O!==(O=e[28]<e[29]?"Tiebreaker (rice)":"Tiebreaker (hybrid)")&&b(i,O),(!S||51&t[0]&&v!==(v=e[1].picks.length?`${e[1].players[0].player.username} ${e[4]} - ${e[5]} ${e[1].players[1].player.username} | Loser's turn to pick: ${e[0].username}, please pick a map!`:`${e[1].players[0].player.username} ${e[4]} - ${e[5]} ${e[1].players[1].player.username} | ${e[0].username} picks first: please pick a map!`)&&g.value!==v)&&(g.value=v),134218240&t[0]|16480&t[1]&&(M=e[9],U(),q=F(q,t,P,1,e,M,N,C,B,Is,null,as),E())},i(e){if(!S){for(let e=0;e<M.length;e+=1)G(q[e]);S=!0}},o(e){for(let e=0;e<q.length;e+=1)W(q[e]);S=!1},d(n){n&&p(t),e[98](null);for(let e=0;e<q.length;e+=1)q[e].d();T=!1,_()}}}function Js(e){let t,n;return t=new Bt({props:{map:e[112]}}),t.$on("click",(function(...t){return e[100](e[112],...t)})),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};512&r[0]&&(s.map=e[112]),t.$set(s)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Is(e,t){let n,r,s,l=!t[112].category.startsWith("Tiebreaker")&&t[36]?.id!=t[112].id&&t[37]?.id!=t[112].id&&!t[27].find(a);function a(...e){return t[49](t[112],...e)}let i=l&&Js(t);return{key:e,first:null,c(){n=g(),i&&i.c(),r=g(),this.first=n},m(e,t){u(e,n,t),i&&i.m(e,t),u(e,r,t),s=!0},p(e,n){t=e,134218240&n[0]|96&n[1]&&(l=!t[112].category.startsWith("Tiebreaker")&&t[36]?.id!=t[112].id&&t[37]?.id!=t[112].id&&!t[27].find(a)),l?i?(i.p(t,n),134218240&n[0]|96&n[1]&&G(i,1)):(i=Js(t),i.c(),G(i,1),i.m(r.parentNode,r)):i&&(U(),W(i,1,1,(()=>{i=null})),E())},i(e){s||(G(i),s=!0)},o(e){W(i),s=!1},d(e){e&&p(n),i&&i.d(e),e&&p(r)}}}function Bs(e){let t,n,r,s,l,a,i,o,d,g,y,v,w,k,x,C=e[28]<e[29]?"Tiebreaker (rice)":"Tiebreaker (hybrid)";const S=[Ys,Fs],T=[];function _(e,t){return e[28]<e[29]?0:1}return w=_(e),k=T[w]=S[w](e),{c(){t=m("div"),n=m("center"),r=f("Woah, that's a tiebreaker situation! "),s=f(e[28]),l=f(" rice, "),a=f(e[29]),i=f(" LN/Hybrid, TB = "),o=f(C),d=m("br"),g=f("\r\n      (Click on the tiebreaker to confirm it)"),y=h(),v=m("div"),k.c(),$(v,"class","maps svelte-3m7ipm"),$(t,"class","picks svelte-3m7ipm")},m(e,p){u(e,t,p),c(t,n),c(n,r),c(n,s),c(n,l),c(n,a),c(n,i),c(n,o),c(n,d),c(n,g),c(t,y),c(t,v),T[w].m(v,null),x=!0},p(e,t){(!x||268435456&t[0])&&b(s,e[28]),(!x||536870912&t[0])&&b(a,e[29]),(!x||805306368&t[0])&&C!==(C=e[28]<e[29]?"Tiebreaker (rice)":"Tiebreaker (hybrid)")&&b(o,C);let n=w;w=_(e),w===n?T[w].p(e,t):(U(),W(T[n],1,1,(()=>{T[n]=null})),E(),k=T[w],k?k.p(e,t):(k=T[w]=S[w](e),k.c()),G(k,1),k.m(v,null))},i(e){x||(G(k),x=!0)},o(e){W(k),x=!1},d(e){e&&p(t),T[w].d()}}}function Fs(e){let t,n;return t=new Bt({props:{map:e[32]}}),t.$on("click",e[102]),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};2&n[1]&&(r.map=e[32]),t.$set(r)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Ys(e){let t,n;return t=new Bt({props:{map:e[31]}}),t.$on("click",e[101]),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};1&n[1]&&(r.map=e[31]),t.$set(r)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Qs(e){let t,n,r,s,l,a,i,o;return{c(){t=m("div"),n=m("div"),r=m("input"),l=h(),a=m("a"),a.textContent="📝 Copy",r.readOnly=!0,r.value=s=`${e[1].players[0].player.username} ${e[4]} - ${e[5]} ${e[1].players[1].player.username} | ${e[1].players[0].player.username} wins the match! Congratulations!`,$(r,"class","svelte-3m7ipm"),$(a,"href","#/referee!helper"),$(a,"class","copy"),$(n,"class","call svelte-3m7ipm"),$(t,"class","winner svelte-3m7ipm")},m(s,p){u(s,t,p),c(t,n),c(n,r),e[103](r),c(n,l),c(n,a),i||(o=y(a,"click",e[104]),i=!0)},p(e,t){50&t[0]&&s!==(s=`${e[1].players[0].player.username} ${e[4]} - ${e[5]} ${e[1].players[1].player.username} | ${e[1].players[0].player.username} wins the match! Congratulations!`)&&r.value!==s&&(r.value=s)},d(n){n&&p(t),e[103](null),i=!1,o()}}}function Ks(e){let t,n,r,s,l,a,i,o;return{c(){t=m("div"),n=m("div"),r=m("input"),l=h(),a=m("a"),a.textContent="📝 Copy",r.readOnly=!0,r.value=s=`${e[1].players[0].player.username} ${e[4]} - ${e[5]} ${e[1].players[1].player.username} | ${e[1].players[1].player.username} wins the match! Congratulations!`,$(r,"class","svelte-3m7ipm"),$(a,"href","#/referee!helper"),$(a,"class","copy"),$(n,"class","call svelte-3m7ipm"),$(t,"class","winner svelte-3m7ipm")},m(s,p){u(s,t,p),c(t,n),c(n,r),e[105](r),c(n,l),c(n,a),i||(o=y(a,"click",e[106]),i=!0)},p(e,t){50&t[0]&&s!==(s=`${e[1].players[0].player.username} ${e[4]} - ${e[5]} ${e[1].players[1].player.username} | ${e[1].players[1].player.username} wins the match! Congratulations!`)&&r.value!==s&&(r.value=s)},d(n){n&&p(t),e[105](null),i=!1,o()}}}function Xs(e){let t,n,r,s;return n=new Or({props:{match:e[109]}}),n.$on("click",(function(...t){return e[50](e[109],...t)})),{c(){t=m("div"),Y(n.$$.fragment),r=h(),$(t,"class","match-container")},m(e,l){u(e,t,l),Q(n,t,null),c(t,r),s=!0},p(t,r){e=t;const s={};128&r[0]&&(s.match=e[109]),n.$set(s)},i(e){s||(G(n.$$.fragment,e),s=!0)},o(e){W(n.$$.fragment,e),s=!1},d(e){e&&p(t),K(n)}}}function Vs(e,t){let n,r,s,l=t[109].referee?.id==t[6]?.id&&Xs(t);return{key:e,first:null,c(){n=g(),l&&l.c(),r=g(),this.first=n},m(e,t){u(e,n,t),l&&l.m(e,t),u(e,r,t),s=!0},p(e,n){(t=e)[109].referee?.id==t[6]?.id?l?(l.p(t,n),192&n[0]&&G(l,1)):(l=Xs(t),l.c(),G(l,1),l.m(r.parentNode,r)):l&&(U(),W(l,1,1,(()=>{l=null})),E())},i(e){s||(G(l),s=!0)},o(e){W(l),s=!1},d(e){e&&p(n),l&&l.d(e),e&&p(r)}}}function Zs(e){let t,n,r,s;const l=[gs,hs,fs,ms],a=[];function i(e,t){return e[6]?e[7]?e[1]?3:2:1:0}return n=i(e),r=a[n]=l[n](e),{c(){t=m("div"),r.c(),$(t,"class","container svelte-3m7ipm")},m(e,r){u(e,t,r),a[n].m(t,null),s=!0},p(e,s){let o=n;n=i(e),n===o?a[n].p(e,s):(U(),W(a[o],1,1,(()=>{a[o]=null})),E(),r=a[n],r?r.p(e,s):(r=a[n]=l[n](e),r.c()),G(r,1),r.m(t,null))},i(e){s||(G(r),s=!0)},o(e){W(r),s=!1},d(e){e&&p(t),a[n].d()}}}function el(e,t,n){let r,s,l,i,o,c,u,p,d;a(e,re,(e=>n(6,u=e))),a(e,qr,(e=>n(7,p=e))),a(e,Nr,(e=>n(9,d=e)));var m,f,h,g=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{o(r.next(e))}catch(e){l(e)}}function i(e){try{o(r.throw(e))}catch(e){l(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}o((r=r.apply(e,t||[])).next())}))};const y=(e,t)=>{e.preventDefault(),n(1,q=t),t?localStorage.setItem("referee:match",String(t.id)):localStorage.removeItem("referee:match")},$=e=>{e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")},b=()=>g(void 0,void 0,void 0,(function*(){if(!Y)return alert("Please fill the MP link!");if(!W||!J)return alert("Please set the rolls!");n(1,q=Object.assign(Object.assign({},q),{rolls:[{player:q.players[0].player,value:W},{player:q.players[1].player,value:J}]}));const e=yield de("/items/rolls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{match:q.id,player:q.players[0].player.id,value:W},{match:q.id,player:q.players[1].player.id,value:J}])});yield de(`/items/matches/${q.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({link:Y})}),e.errors?alert(e.errors[0].message):n(1,q=Object.assign(Object.assign({},q),{link:Y,rolls:e.data}))})),w=(e,t,r)=>g(void 0,void 0,void 0,(function*(){e.preventDefault(),n(1,q.protects=[...q.protects||[],{player:r,map:t}],q);const s=yield de("/items/protects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:q.id,player:r.id,map:t.id})});s.errors?alert(s.errors[0].message):n(1,q.protects[q.protects.length-1].id=s.data.id,q)})),k=(e,t,r)=>g(void 0,void 0,void 0,(function*(){e.preventDefault(),n(1,q.bans=[...q.bans||[],{player:r,map:t}],q);const s=yield de("/items/bans",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:q.id,player:r.id,map:t.id})});s.errors?alert(s.errors[0].message):n(1,q.bans[q.bans.length-1].id=s.data.id,q)})),x=(e,t)=>g(void 0,void 0,void 0,(function*(){e.preventDefault(),n(1,q.picks=[...q.picks||[],{player:_,map:t}],q);const r=yield de("/items/picks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:q.id,player:null==_?void 0:_.id,map:t.id})});r.errors?alert(r.errors[0].message):n(1,q.picks[q.picks.length-1].id=r.data.id,q)}));let C=!1;const S=e=>g(void 0,void 0,void 0,(function*(){n(10,C=!0);const t=yield de("/custom/matches/scores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:q.id,map:e.id})});n(10,C=!1),t.errors?alert(t.errors[0].message):n(1,q.scores=t,q)})),T=(e,t)=>g(void 0,void 0,void 0,(function*(){const r=t.id==q.players[0].player.id?1:0;n(1,q.scores=[...q.scores,{map:e,player:t,score:1},{map:e,player:q.players[r].player,score:0}],q)}));let _,q,N,M,P,j,L,z,A,H,D,R,U,E,G,W,J,I,B,F,Y="",Q="",K="",X=[],V=0,Z=0,ee=0,te=0,ne=localStorage.getItem("referee:match");return e.$$.update=()=>{192&e.$$.dirty[0]&&u&&!p&&Mr(),128&e.$$.dirty[0]&&ne&&p&&n(1,q=p.find((e=>String(e.id)==ne))),14&e.$$.dirty[0]&&n(8,r=W>J?null==q?void 0:q.players[0].player:null==q?void 0:q.players[1].player),14&e.$$.dirty[0]&&n(33,s=W>J?null==q?void 0:q.players[1].player:null==q?void 0:q.players[0].player),2&e.$$.dirty[0]|32768&e.$$.dirty[1]&&n(34,[l,i]=(null===n(46,m=null==q?void 0:q.protects)||void 0===m?void 0:m.map((e=>e.map)))||[],l,(n(35,i),n(1,q),n(46,m),n(108,ne),n(7,p),n(8,r),n(48,h),n(4,V),n(5,Z),n(28,ee),n(29,te),n(0,_),n(2,W),n(3,J))),2&e.$$.dirty[0]|65536&e.$$.dirty[1]&&n(36,[o,c]=(null===n(47,f=null==q?void 0:q.bans)||void 0===f?void 0:f.map((e=>e.map)))||[],o,(n(37,c),n(1,q),n(47,f),n(108,ne),n(7,p),n(8,r),n(48,h),n(4,V),n(5,Z),n(28,ee),n(29,te),n(0,_),n(2,W),n(3,J))),805306675&e.$$.dirty[0]|131072&e.$$.dirty[1]&&(n(0,_=r),n(4,V=0),n(5,Z=0),n(28,ee=0),n(29,te=0),n(27,X=null===n(48,h=null==q?void 0:q.picks)||void 0===h?void 0:h.map((e=>{var t,r;const s=Object.assign(Object.assign({},e),{scores:(null===(t=q.scores)||void 0===t?void 0:t.filter((t=>t.map.id==e.map.id)))||[]});(null===(r=s.scores[0])||void 0===r?void 0:r.player.id)!=q.players[0].player.id&&(s.scores=s.scores.reverse());const[l,a]=s.scores;return l&&a?(n(30,I=!1),l.score>a.score?(n(4,V+=1),n(0,_=q.players[1].player)):(n(5,Z+=1),n(0,_=q.players[0].player))):n(30,I=!0),"Rice"==e.map.category?n(28,ee+=1):n(29,te+=1),s})))),512&e.$$.dirty[0]&&d&&(n(31,B=d.find((e=>"Tiebreaker (rice)"==e.category))),n(32,F=d.find((e=>"Tiebreaker (hybrid)"==e.category))))},[_,q,W,J,V,Z,u,p,r,d,C,N,M,P,j,L,z,A,H,D,R,U,E,G,Y,Q,K,X,ee,te,I,B,F,s,l,i,o,c,y,$,b,w,k,S,T,x,m,f,h,(e,t)=>t.map.id==e.id,(e,t)=>y(t,e),e=>y(e),function(e){O[e?"unshift":"push"]((()=>{N=e,n(11,N)}))},()=>$(N),function(e){O[e?"unshift":"push"]((()=>{M=e,n(12,M)}))},()=>$(M),function(e){O[e?"unshift":"push"]((()=>{P=e,n(13,P)}))},()=>$(P),function(e){O[e?"unshift":"push"]((()=>{j=e,n(14,j)}))},()=>$(j),function(e){O[e?"unshift":"push"]((()=>{L=e,n(15,L)}))},()=>$(L),function(e){O[e?"unshift":"push"]((()=>{z=e,n(16,z)}))},()=>$(z),function(){Y=this.value,n(24,Y)},function(){Q=this.value,n(25,Q)},function(){K=this.value,n(26,K)},function(e){O[e?"unshift":"push"]((()=>{A=e,n(17,A)}))},()=>$(A),function(e){O[e?"unshift":"push"]((()=>{H=e,n(18,H)}))},()=>$(H),function(e){O[e?"unshift":"push"]((()=>{D=e,n(19,D)}))},()=>$(D),function(){W=v(this.value),n(2,W)},function(){J=v(this.value),n(3,J)},()=>b(),e=>e.id==q.protects[0].map.id,function(e){O[e?"unshift":"push"]((()=>{R=e,n(20,R)}))},()=>$(R),(e,t)=>w(t,e,r),e=>e.id==q.protects[1].map.id,function(e){O[e?"unshift":"push"]((()=>{R=e,n(20,R)}))},()=>$(R),(e,t)=>w(t,e,s),e=>e.id==q.bans[0].map.id,function(e){O[e?"unshift":"push"]((()=>{U=e,n(21,U)}))},()=>$(U),(e,t)=>k(t,e,s),e=>e.id==q.bans[1].map.id,function(e){O[e?"unshift":"push"]((()=>{U=e,n(21,U)}))},()=>$(U),(e,t)=>k(t,e,r),(e,t)=>t.id==e.map.id,function(e){O[e?"unshift":"push"]((()=>{G=e,n(23,G)}))},()=>$(G),e=>S(e.map),e=>T(e.map,q.players[0].player),e=>T(e.map,q.players[1].player),function(e){O[e?"unshift":"push"]((()=>{E=e,n(22,E)}))},()=>$(E),(e,t)=>x(t,e),e=>x(e,B),e=>x(e,F),function(e){O[e?"unshift":"push"]((()=>{G=e,n(23,G)}))},()=>$(G),function(e){O[e?"unshift":"push"]((()=>{G=e,n(23,G)}))},()=>$(G)]}class tl extends Z{constructor(e){super(),V(this,e,el,Zs,l,{},[-1,-1,-1,-1,-1])}}function nl(e){let t,n,r,s,l,a,i,o,d,f,g;t=new ke({}),s=new Me({}),a=new Re({props:{stages:e[1]}});const y=[ml,dl,pl,ul,cl,ol,il,al,ll],v=[];function b(e,t){return"players"==e[0]?0:"countries"==e[0]?1:"qualifiers"==e[0]?2:"qualifiers!maps"==e[0]?3:"qualifiers!elite"==e[0]?4:"qualifiers!elite!maps"==e[0]?5:"qualifiers!lobbies"==e[0]?6:"groups"==e[0]?7:8}return d=b(e),f=v[d]=y[d](e),{c(){Y(t.$$.fragment),n=h(),r=m("div"),Y(s.$$.fragment),l=h(),Y(a.$$.fragment),i=h(),o=m("div"),f.c(),$(o,"class","page svelte-ucquck"),$(r,"class","body svelte-ucquck")},m(e,p){Q(t,e,p),u(e,n,p),u(e,r,p),Q(s,r,null),c(r,l),Q(a,r,null),c(r,i),c(r,o),v[d].m(o,null),g=!0},p(e,t){const n={};2&t&&(n.stages=e[1]),a.$set(n);let r=d;d=b(e),d!==r&&(U(),W(v[r],1,1,(()=>{v[r]=null})),E(),f=v[d],f||(f=v[d]=y[d](e),f.c()),G(f,1),f.m(o,null))},i(e){g||(G(t.$$.fragment,e),G(s.$$.fragment,e),G(a.$$.fragment,e),G(f),g=!0)},o(e){W(t.$$.fragment,e),W(s.$$.fragment,e),W(a.$$.fragment,e),W(f),g=!1},d(e){K(t,e),e&&p(n),e&&p(r),K(s),K(a),v[d].d()}}}function rl(t){let n,r;return n=new tl({}),{c(){Y(n.$$.fragment)},m(e,t){Q(n,e,t),r=!0},p:e,i(e){r||(G(n.$$.fragment,e),r=!0)},o(e){W(n.$$.fragment,e),r=!1},d(e){K(n,e)}}}function sl(t){let n,r;return n=new ss({}),{c(){Y(n.$$.fragment)},m(e,t){Q(n,e,t),r=!0},p:e,i(e){r||(G(n.$$.fragment,e),r=!0)},o(e){W(n.$$.fragment,e),r=!1},d(e){K(n,e)}}}function ll(e){let t,n;return t=new tt({}),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function al(e){let t,n;return t=new Ir({}),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function il(e){let t,n;return t=new on({}),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function ol(e){let t,n;return t=new ir({}),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function cl(e){let t,n;return t=new hr({}),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function ul(e){let t,n;return t=new Mn({}),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function pl(e){let t,n;return t=new Qn({}),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function dl(e){let t,n;return t=new xt({}),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function ml(e){let t,n;return t=new ft({}),{c(){Y(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function fl(e){let t,n,r,s;const l=[sl,rl,nl],a=[];function i(e,t){return"scuffed!drawing"==e[0]?0:"referee!helper"==e[0]?1:2}return t=i(e),n=a[t]=l[t](e),{c(){n.c(),r=g()},m(e,n){a[t].m(e,n),u(e,r,n),s=!0},p(e,[s]){let o=t;t=i(e),t===o?a[t].p(e,s):(U(),W(a[o],1,1,(()=>{a[o]=null})),E(),n=a[t],n?n.p(e,s):(n=a[t]=l[t](e),n.c()),G(n,1),n.m(r.parentNode,r))},i(e){s||(G(n),s=!0)},o(e){W(n),s=!1},d(e){a[t].d(e),e&&p(r)}}}function hl(e,t,n){let r,s;return a(e,ce,(e=>n(0,r=e))),a(e,oe,(e=>n(1,s=e))),[r,s]}return new class extends Z{constructor(e){super(),V(this,e,hl,fl,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
