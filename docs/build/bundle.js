var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function s(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function c(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function i(t,e,n,r,s,o,l){const i=function(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|s[r];return t}return e.dirty|s}return e.dirty}(e,r,s,o);if(i){const s=c(e,n,r,l);t.p(s,i)}}function a(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function h(){return $(" ")}function g(){return $("")}function m(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let b;function x(t){b=t}const w=[],k=[],_=[],j=[],q=Promise.resolve();let N=!1;function O(t){_.push(t)}let L=!1;const T=new Set;function E(){if(!L){L=!0;do{for(let t=0;t<w.length;t+=1){const e=w[t];x(e),P(e.$$)}for(x(null),w.length=0;k.length;)k.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];T.has(e)||(T.add(e),e())}_.length=0}while(w.length);for(;j.length;)j.pop()();N=!1,L=!1,T.clear()}}function P(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const S=new Set;let C;function R(){C={r:0,c:[],p:C}}function A(){C.r||r(C.c),C=C.p}function z(t,e){t&&t.i&&(S.delete(t),t.i(e))}function B(t,e,n,r){if(t&&t.o){if(S.has(t))return;S.add(t),C.c.push((()=>{S.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function D(t){t&&t.c()}function M(t,n,o,l){const{fragment:c,on_mount:i,on_destroy:a,after_update:u}=t.$$;c&&c.m(n,o),l||O((()=>{const n=i.map(e).filter(s);a?a.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(O)}function U(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(t,e){-1===t.$$.dirty[0]&&(w.push(t),N||(N=!0,q.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(e,s,o,l,c,i,a=[-1]){const u=b;x(e);const d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:a,skip_bound:!1};let p=!1;if(d.ctx=o?o(e,s.props||{},((t,n,...r)=>{const s=r.length?r[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),p&&H(e,t)),n})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!l&&l(d.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);d.fragment&&d.fragment.l(t),t.forEach(f)}else d.fragment&&d.fragment.c();s.intro&&z(e.$$.fragment),M(e,s.target,s.anchor,s.customElement),E()}x(u)}class F{$destroy(){U(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const J=[];function G(e,n=t){let r;const s=[];function l(t){if(o(e,t)&&(e=t,r)){const t=!J.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),J.push(n,e)}if(t){for(let t=0;t<J.length;t+=2)J[t][0](J[t+1]);J.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(o,c=t){const i=[o,c];return s.push(i),1===s.length&&(r=n(l)||t),o(e),()=>{const t=s.indexOf(i);-1!==t&&s.splice(t,1),0===s.length&&(r(),r=null)}}}}const{API_URL:K}={API_URL:"https://api.mbs3.fightthe.pw",UI_URL:"https://mbs3.fightthe.pw",isProd:!0},Q=G(null),V=G(null),W=G(null),X=new Set(["players","countries"]),Y=()=>{const{hash:t}=location,[,e]=t.split("/");X.has(e)?W.set(e):(W.set("home"),"#/"!=t&&(location.hash="#/"))};window.addEventListener("hashchange",Y),Y();const Z=(t,e={headers:{}})=>fetch(`${K}${t}`,Object.assign(Object.assign({},e),{headers:Object.assign({Authorization:tt?`Bearer ${tt}`:void 0},e.headers)})).then((t=>t.json()));let tt;function et(t){let e,n,r,s,o,l,c,i,d=t[0].username+"";return{c(){e=p("div"),n=$("Logged in as\r\n    "),r=p("b"),s=$(d),o=$(" -\r\n    "),l=p("a"),l.textContent="Log out",y(l,"href","#/"),y(e,"class","me svelte-1qdx2t0")},m(f,d){u(f,e,d),a(e,n),a(e,r),a(r,s),a(e,o),a(e,l),c||(i=m(l,"click",t[1]),c=!0)},p(t,e){1&e&&d!==(d=t[0].username+"")&&v(s,d)},d(t){t&&f(e),c=!1,i()}}}function nt(e){let n,r,s,o,l,c=e[0]&&et(e);return{c(){n=p("div"),r=p("a"),r.innerHTML='<div class="logo svelte-1qdx2t0"><img alt="" src="/images/logo.png" class="svelte-1qdx2t0"/></div> \n    <h1 class="svelte-1qdx2t0"><img alt="Mania Beginner&#39;s Showdown" src="/images/title.png" class="svelte-1qdx2t0"/> \n      <div class="three svelte-1qdx2t0"><span class="svelte-1qdx2t0">3</span></div></h1>',s=h(),o=p("div"),o.innerHTML='<div class="host-title svelte-1qdx2t0">Hosted by</div>\n    Paturages &amp; Davvy',l=h(),c&&c.c(),y(r,"href","#/"),y(o,"class","hosts svelte-1qdx2t0"),y(n,"class","banner svelte-1qdx2t0")},m(t,e){u(t,n,e),a(n,r),a(n,s),a(n,o),a(n,l),c&&c.m(n,null)},p(t,[e]){t[0]?c?c.p(t,e):(c=et(t),c.c(),c.m(n,null)):c&&(c.d(1),c=null)},i:t,o:t,d(t){t&&f(n),c&&c.d()}}}function rt(t,e,n){let r;l(t,Q,(t=>n(0,r=t)));var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function l(t){try{i(r.next(t))}catch(t){o(t)}}function c(t){try{i(r.throw(t))}catch(t){o(t)}}function i(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,c)}i((r=r.apply(t,e||[])).next())}))};return[r,()=>s(void 0,void 0,void 0,(function*(){yield fetch("https://api.mbs3.fightthe.pw/auth/logout",{method:"POST",credentials:"include"}),location.reload()}))]}(async()=>{const{data:t}=await Z("/items/players?fields=id,username,country,avatar,timezone,ranking,pp&sort=ranking");V.set(t);const e=await fetch(`${K}/auth/refresh`,{method:"POST",credentials:"include"});if(200==e.status){const n=await e.json();tt=n.data.access_token;const{data:{first_name:r,email:s,avatar:o}}=await Z("/users/me?fields=first_name,email"),l=t.find((({id:t})=>s==t));Q.set({avatar:o,username:r,id:s,player:l}),l||(location.hash="#/players")}})();class st extends F{constructor(t){super(),I(this,t,rt,nt,o,{})}}function ot(t){let e,n,r,s,o,l;const d=t[3].default,$=function(t,e,n,r){if(t){const s=c(t,e,n,r);return t[0](s)}}(d,t,t[2],null);return{c(){e=p("a"),n=p("div"),$&&$.c(),y(n,"class","text svelte-1nr1k0b"),y(e,"href",t[0]),y(e,"target",t[1]),y(e,"rel",r="_blank"===t[1]?"noopener":void 0),y(e,"class","button svelte-1nr1k0b")},m(r,c){u(r,e,c),a(e,n),$&&$.m(n,null),s=!0,o||(l=m(e,"click",t[4]),o=!0)},p(t,[n]){$&&$.p&&4&n&&i($,d,t,t[2],n,null,null),(!s||1&n)&&y(e,"href",t[0]),(!s||2&n)&&y(e,"target",t[1]),(!s||2&n&&r!==(r="_blank"===t[1]?"noopener":void 0))&&y(e,"rel",r)},i(t){s||(z($,t),s=!0)},o(t){B($,t),s=!1},d(t){t&&f(e),$&&$.d(t),o=!1,l()}}}function lt(t,e,n){let{$$slots:r={},$$scope:s}=e,{href:o}=e,{target:l=""}=e;return t.$$set=t=>{"href"in t&&n(0,o=t.href),"target"in t&&n(1,l=t.target),"$$scope"in t&&n(2,s=t.$$scope)},[o,l,s,r,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}(t,e)}]}class ct extends F{constructor(t){super(),I(this,t,lt,ot,o,{href:0,target:1})}}function it(e){let n,r,s,o,l,c,i,d,g,m,b,x,w,k,_,j,q,N,O,L=e[0].username+"",T=e[0].country+"",E=e[0].ranking+"",P=Number(e[0].pp).toFixed(2)+"";return{c(){n=p("a"),r=p("div"),s=p("img"),l=h(),c=p("div"),i=$(L),d=h(),g=p("div"),m=$(T),b=h(),x=p("div"),w=$(E),k=h(),_=p("div"),j=$("("),q=$(P),N=$(" pp)"),y(s,"class","avatar svelte-sv5y11"),s.src!==(o=e[0].avatar)&&y(s,"src",o),y(s,"alt",""),y(r,"class","avatar svelte-sv5y11"),y(g,"class","country svelte-sv5y11"),y(c,"class","name svelte-sv5y11"),y(_,"class","pp svelte-sv5y11"),y(x,"class","ranking svelte-sv5y11"),y(n,"class","player svelte-sv5y11"),y(n,"href",O=`https://osu.ppy.sh/users/${e[0].id}`),y(n,"target","_blank"),y(n,"rel","noopener")},m(t,e){u(t,n,e),a(n,r),a(r,s),a(n,l),a(n,c),a(c,i),a(c,d),a(c,g),a(g,m),a(n,b),a(n,x),a(x,w),a(x,k),a(x,_),a(_,j),a(_,q),a(_,N)},p(t,[e]){1&e&&s.src!==(o=t[0].avatar)&&y(s,"src",o),1&e&&L!==(L=t[0].username+"")&&v(i,L),1&e&&T!==(T=t[0].country+"")&&v(m,T),1&e&&E!==(E=t[0].ranking+"")&&v(w,E),1&e&&P!==(P=Number(t[0].pp).toFixed(2)+"")&&v(q,P),1&e&&O!==(O=`https://osu.ppy.sh/users/${t[0].id}`)&&y(n,"href",O)},i:t,o:t,d(t){t&&f(n)}}}function at(t,e,n){let{player:r}=e;return t.$$set=t=>{"player"in t&&n(0,r=t.player)},[r]}class ut extends F{constructor(t){super(),I(this,t,at,it,o,{player:0})}}function ft(t,e,n){const r=t.slice();return r[4]=e[n],r}function dt(t){let e,n,r,s,o,l,c;const i=[ht,$t],d=[];function h(t,e){return t[0]?0:1}return n=h(t),r=d[n]=i[n](t),{c(){e=p("p"),r.c(),s=$("\r\n    Don't forget to\r\n    "),o=p("a"),o.textContent="join the Discord server",l=$("\r\n    (this is also required!)"),y(o,"href","https://discord.gg/uNSqksR"),y(o,"target","_blank"),y(o,"rel","noopener"),y(e,"class","confirm svelte-9p98v4")},m(t,r){u(t,e,r),d[n].m(e,null),a(e,s),a(e,o),a(e,l),c=!0},p(t,o){let l=n;n=h(t),n===l?d[n].p(t,o):(R(),B(d[l],1,1,(()=>{d[l]=null})),A(),r=d[n],r?r.p(t,o):(r=d[n]=i[n](t),r.c()),z(r,1),r.m(e,s))},i(t){c||(z(r),c=!0)},o(t){B(r),c=!1},d(t){t&&f(e),d[n].d()}}}function pt(t){let e,n,r;return n=new ct({props:{href:"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw",$$slots:{default:[mt]},$$scope:{ctx:t}}}),{c(){e=p("p"),D(n.$$.fragment),y(e,"class","register svelte-9p98v4")},m(t,s){u(t,e,s),M(n,e,null),r=!0},p(t,e){const r={};128&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(z(n.$$.fragment,t),r=!0)},o(t){B(n.$$.fragment,t),r=!1},d(t){t&&f(e),U(n)}}}function $t(t){let e,n;return e=new ct({props:{href:"javascript:void(0)",$$slots:{default:[gt]},$$scope:{ctx:t}}}),e.$on("click",t[3]),{c(){D(e.$$.fragment)},m(t,r){M(e,t,r),n=!0},p(t,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){B(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function ht(e){let n;return{c(){n=$("Registering...")},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&f(n)}}}function gt(t){let e;return{c(){e=$("Confirm registration")},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function mt(t){let e;return{c(){e=$("Register")},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function yt(t){let e,n,r,s,o,l,c=t[2].length+"",i=t[2],m=[];for(let e=0;e<i.length;e+=1)m[e]=xt(ft(t,i,e));const b=t=>B(m[t],1,1,(()=>{m[t]=null}));let x=null;return i.length||(x=bt()),{c(){e=p("div"),n=$("Total players: "),r=$(c),s=h();for(let t=0;t<m.length;t+=1)m[t].c();o=g(),x&&x.c(),y(e,"class","stats")},m(t,c){u(t,e,c),a(e,n),a(e,r),u(t,s,c);for(let e=0;e<m.length;e+=1)m[e].m(t,c);u(t,o,c),x&&x.m(t,c),l=!0},p(t,e){if((!l||4&e)&&c!==(c=t[2].length+"")&&v(r,c),4&e){let n;for(i=t[2],n=0;n<i.length;n+=1){const r=ft(t,i,n);m[n]?(m[n].p(r,e),z(m[n],1)):(m[n]=xt(r),m[n].c(),z(m[n],1),m[n].m(o.parentNode,o))}for(R(),n=i.length;n<m.length;n+=1)b(n);A(),i.length?x&&(x.d(1),x=null):x||(x=bt(),x.c(),x.m(o.parentNode,o))}},i(t){if(!l){for(let t=0;t<i.length;t+=1)z(m[t]);l=!0}},o(t){m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)B(m[t]);l=!1},d(t){t&&f(e),t&&f(s),d(m,t),t&&f(o),x&&x.d(t)}}}function vt(e){let n;return{c(){n=$("Loading players...")},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&f(n)}}}function bt(t){let e;return{c(){e=$("No players registered yet!")},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function xt(t){let e,n;return e=new ut({props:{player:t[4]}}),{c(){D(e.$$.fragment)},m(t,r){M(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.player=t[4]),e.$set(r)},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){B(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function wt(t){let e,n,r,s,o,l,c;const i=[pt,dt],a=[];function d(t,e){return t[1]?t[1].player?-1:1:0}~(e=d(t))&&(n=a[e]=i[e](t));const $=[vt,yt],g=[];function m(t,e){return t[2]?1:0}return o=m(t),l=g[o]=$[o](t),{c(){n&&n.c(),r=h(),s=p("p"),l.c(),y(s,"class","players svelte-9p98v4")},m(t,n){~e&&a[e].m(t,n),u(t,r,n),u(t,s,n),g[o].m(s,null),c=!0},p(t,[c]){let u=e;e=d(t),e===u?~e&&a[e].p(t,c):(n&&(R(),B(a[u],1,1,(()=>{a[u]=null})),A()),~e?(n=a[e],n?n.p(t,c):(n=a[e]=i[e](t),n.c()),z(n,1),n.m(r.parentNode,r)):n=null);let f=o;o=m(t),o===f?g[o].p(t,c):(R(),B(g[f],1,1,(()=>{g[f]=null})),A(),l=g[o],l?l.p(t,c):(l=g[o]=$[o](t),l.c()),z(l,1),l.m(s,null))},i(t){c||(z(n),z(l),c=!0)},o(t){B(n),B(l),c=!1},d(t){~e&&a[e].d(t),t&&f(r),t&&f(s),g[o].d()}}}function kt(t,e,n){let r,s;l(t,Q,(t=>n(1,r=t))),l(t,V,(t=>n(2,s=t)));let o=!1;return[o,r,s,async()=>{n(0,o=!0);const t=-(new Date).getTimezoneOffset()/60,e=await Z("/items/players",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r.id,timezone:`UTC${t>0?"+":""}${t}`})});e.errors?alert(e.errors[0].message):(Q.set({...r,player:e.data}),V.set(s.concat([e.data]).sort(((t,e)=>e.ranking-t.ranking)))),n(0,o=!1)}]}class _t extends F{constructor(t){super(),I(this,t,kt,wt,o,{})}}function jt(t){let e;return{c(){e=$("Register here!")},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function qt(t){let e;return{c(){e=$("Discord")},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function Nt(t){let e;return{c(){e=$("Players")},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function Ot(t){let e;return{c(){e=$("Countries")},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function Lt(t){let e,n,r,s,o,l,c,i,d,$,g;return s=new ct({props:{href:t[0],$$slots:{default:[jt]},$$scope:{ctx:t}}}),l=new ct({props:{href:"https://discord.gg/uNSqksR",target:"_blank",$$slots:{default:[qt]},$$scope:{ctx:t}}}),i=new ct({props:{href:"#/players",$$slots:{default:[Nt]},$$scope:{ctx:t}}}),$=new ct({props:{href:"#/countries",$$slots:{default:[Ot]},$$scope:{ctx:t}}}),{c(){e=p("main"),n=p("div"),r=p("div"),D(s.$$.fragment),o=h(),D(l.$$.fragment),c=h(),D(i.$$.fragment),d=h(),D($.$$.fragment),y(r,"class","register svelte-jkzlu5"),y(n,"class","links svelte-jkzlu5")},m(t,f){u(t,e,f),a(e,n),a(n,r),M(s,r,null),a(n,o),M(l,n,null),a(n,c),M(i,n,null),a(n,d),M($,n,null),g=!0},p(t,[e]){const n={};1&e&&(n.href=t[0]),4&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n);const r={};4&e&&(r.$$scope={dirty:e,ctx:t}),l.$set(r);const o={};4&e&&(o.$$scope={dirty:e,ctx:t}),i.$set(o);const c={};4&e&&(c.$$scope={dirty:e,ctx:t}),$.$set(c)},i(t){g||(z(s.$$.fragment,t),z(l.$$.fragment,t),z(i.$$.fragment,t),z($.$$.fragment,t),g=!0)},o(t){B(s.$$.fragment,t),B(l.$$.fragment,t),B(i.$$.fragment,t),B($.$$.fragment,t),g=!1},d(t){t&&f(e),U(s),U(l),U(i),U($)}}}function Tt(t,e,n){let r,s;return l(t,Q,(t=>n(1,s=t))),t.$$.update=()=>{2&t.$$.dirty&&n(0,r=s?"#/players":"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw")},[r,s]}class Et extends F{constructor(t){super(),I(this,t,Tt,Lt,o,{})}}function Pt(t,e,n){const r=t.slice();return r[5]=e[n].players,r[6]=e[n].country,r}function St(t,e,n){const r=t.slice();return r[9]=e[n],r}function Ct(t){let e;return{c(){e=$("Loading...")},m(t,n){u(t,e,n)},d(t){t&&f(e)}}}function Rt(t){let e,n,r,s=t[5],o=[];for(let e=0;e<s.length;e+=1)o[e]=At(St(t,s,e));const l=t=>B(o[t],1,1,(()=>{o[t]=null}));return{c(){e=p("div");for(let t=0;t<o.length;t+=1)o[t].c();n=h(),y(e,"class","players svelte-1k8a9ul")},m(t,s){u(t,e,s);for(let t=0;t<o.length;t+=1)o[t].m(e,null);a(e,n),r=!0},p(t,r){if(2&r){let c;for(s=t[5],c=0;c<s.length;c+=1){const l=St(t,s,c);o[c]?(o[c].p(l,r),z(o[c],1)):(o[c]=At(l),o[c].c(),z(o[c],1),o[c].m(e,n))}for(R(),c=s.length;c<o.length;c+=1)l(c);A()}},i(t){if(!r){for(let t=0;t<s.length;t+=1)z(o[t]);r=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)B(o[t]);r=!1},d(t){t&&f(e),d(o,t)}}}function At(t){let e,n;return e=new ut({props:{player:t[9]}}),{c(){D(e.$$.fragment)},m(t,r){M(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.player=t[9]),e.$set(r)},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){B(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function zt(t){let e,n,r,s,o,l,c,i,d,b,x,w,k,_,j,q=t[6]+"",N=t[5].length+"",O=1==t[5].length?"":"s",L=t[0]==t[6]?"▼":"►";function T(){return t[4](t[6])}let E=t[0]==t[6]&&Rt(t);return{c(){e=p("div"),n=p("div"),r=$(q),s=$(": "),o=$(N),l=$(" player"),c=$(O),i=h(),d=p("div"),b=$(L),x=h(),E&&E.c(),w=g(),y(n,"class","label svelte-1k8a9ul"),y(d,"class","pointer"),y(e,"class","country svelte-1k8a9ul")},m(t,f){u(t,e,f),a(e,n),a(n,r),a(n,s),a(n,o),a(n,l),a(n,c),a(e,i),a(e,d),a(d,b),u(t,x,f),E&&E.m(t,f),u(t,w,f),k=!0,_||(j=m(e,"click",T),_=!0)},p(e,n){t=e,(!k||2&n)&&q!==(q=t[6]+"")&&v(r,q),(!k||2&n)&&N!==(N=t[5].length+"")&&v(o,N),(!k||2&n)&&O!==(O=1==t[5].length?"":"s")&&v(c,O),(!k||3&n)&&L!==(L=t[0]==t[6]?"▼":"►")&&v(b,L),t[0]==t[6]?E?(E.p(t,n),3&n&&z(E,1)):(E=Rt(t),E.c(),z(E,1),E.m(w.parentNode,w)):E&&(R(),B(E,1,1,(()=>{E=null})),A())},i(t){k||(z(E),k=!0)},o(t){B(E),k=!1},d(t){t&&f(e),t&&f(x),E&&E.d(t),t&&f(w),_=!1,j()}}}function Bt(t){let e,n,r=t[1],s=[];for(let e=0;e<r.length;e+=1)s[e]=zt(Pt(t,r,e));const o=t=>B(s[t],1,1,(()=>{s[t]=null}));let l=null;return r.length||(l=Ct()),{c(){e=p("div");for(let t=0;t<s.length;t+=1)s[t].c();l&&l.c(),y(e,"class","countries svelte-1k8a9ul")},m(t,r){u(t,e,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);l&&l.m(e,null),n=!0},p(t,[n]){if(7&n){let c;for(r=t[1],c=0;c<r.length;c+=1){const o=Pt(t,r,c);s[c]?(s[c].p(o,n),z(s[c],1)):(s[c]=zt(o),s[c].c(),z(s[c],1),s[c].m(e,null))}for(R(),c=r.length;c<s.length;c+=1)o(c);A(),r.length?l&&(l.d(1),l=null):l||(l=Ct(),l.c(),l.m(e,null))}},i(t){if(!n){for(let t=0;t<r.length;t+=1)z(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)B(s[t]);n=!1},d(t){t&&f(e),d(s,t),l&&l.d()}}}function Dt(t,e,n){let r,s,o;l(t,V,(t=>n(3,s=t)));const c=t=>n(0,o=o==t?null:t);return t.$$.update=()=>{8&t.$$.dirty&&n(1,r=Object.values((null==s?void 0:s.reduce(((t,e)=>(t[e.country]||(t[e.country]={country:e.country,players:[]}),t[e.country].players.push(e),t)),{}))||{}).sort(((t,e)=>t.players.length<e.players.length?1:-1)))},[o,r,c,s,t=>c(t)]}class Mt extends F{constructor(t){super(),I(this,t,Dt,Bt,o,{})}}function Ut(t){let e,n;return e=new Et({}),{c(){D(e.$$.fragment)},m(t,r){M(e,t,r),n=!0},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){B(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Ht(t){let e,n;return e=new Mt({}),{c(){D(e.$$.fragment)},m(t,r){M(e,t,r),n=!0},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){B(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function It(t){let e,n;return e=new _t({}),{c(){D(e.$$.fragment)},m(t,r){M(e,t,r),n=!0},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){B(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Ft(t){let e,n,r,s,o,l;e=new st({});const c=[It,Ht,Ut],i=[];function a(t,e){return"players"==t[0]?0:"countries"==t[0]?1:2}return r=a(t),s=i[r]=c[r](t),{c(){D(e.$$.fragment),n=h(),s.c(),o=g()},m(t,s){M(e,t,s),u(t,n,s),i[r].m(t,s),u(t,o,s),l=!0},p(t,[e]){let n=r;r=a(t),r!==n&&(R(),B(i[n],1,1,(()=>{i[n]=null})),A(),s=i[r],s||(s=i[r]=c[r](t),s.c()),z(s,1),s.m(o.parentNode,o))},i(t){l||(z(e.$$.fragment,t),z(s),l=!0)},o(t){B(e.$$.fragment,t),B(s),l=!1},d(t){U(e,t),t&&f(n),i[r].d(t),t&&f(o)}}}function Jt(t,e,n){let r;return l(t,W,(t=>n(0,r=t))),[r]}return new class extends F{constructor(t){super(),I(this,t,Jt,Ft,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
