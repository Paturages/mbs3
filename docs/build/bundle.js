var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function i(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function a(e,t,n,r,s,l,o){const a=function(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}(t,r,s,l);if(a){const s=i(t,n,r,o);e.p(s,a)}}function c(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function g(){return m(" ")}function h(){return m("")}function $(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function y(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function v(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function b(e,t,n){e.classList[n?"add":"remove"](t)}let w;function k(e){w=e}function x(e){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(e)}const S=[],_=[],T=[],q=[],C=Promise.resolve();let M=!1;function N(e){T.push(e)}let O=!1;const j=new Set;function z(){if(!O){O=!0;do{for(let e=0;e<S.length;e+=1){const t=S[e];k(t),L(t.$$)}for(k(null),S.length=0;_.length;)_.pop()();for(let e=0;e<T.length;e+=1){const t=T[e];j.has(t)||(j.add(t),t())}T.length=0}while(S.length);for(;q.length;)q.pop()();M=!1,O=!1,j.clear()}}function L(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(N)}}const P=new Set;let A;function U(){A={r:0,c:[],p:A}}function H(){A.r||r(A.c),A=A.p}function D(e,t){e&&e.i&&(P.delete(e),e.i(t))}function E(e,t,n,r){if(e&&e.o){if(P.has(e))return;P.add(e),A.c.push((()=>{P.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const G="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function R(e,t){e.d(1),t.delete(e.key)}function I(e,t){E(e,1,1,(()=>{t.delete(e.key)}))}function J(e,t,n,r,s,l,o,i,a,c,u,p){let d=e.length,f=l.length,m=d;const g={};for(;m--;)g[e[m].key]=m;const h=[],$=new Map,y=new Map;for(m=f;m--;){const e=p(s,l,m),i=n(e);let a=o.get(i);a?r&&a.p(e,t):(a=c(i,e),a.c()),$.set(i,h[m]=a),i in g&&y.set(i,Math.abs(m-g[i]))}const v=new Set,b=new Set;function w(e){D(e,1),e.m(i,u),o.set(e.key,e),u=e.first,f--}for(;d&&f;){const t=h[f-1],n=e[d-1],r=t.key,s=n.key;t===n?(u=t.first,d--,f--):$.has(s)?!o.has(r)||v.has(r)?w(t):b.has(s)?d--:y.get(r)>y.get(s)?(b.add(r),w(t)):(v.add(s),d--):(a(n,o),d--)}for(;d--;){const t=e[d];$.has(t.key)||a(t,o)}for(;f;)w(h[f-1]);return h}function B(e){e&&e.c()}function Y(e,n,l,o){const{fragment:i,on_mount:a,on_destroy:c,after_update:u}=e.$$;i&&i.m(n,l),o||N((()=>{const n=a.map(t).filter(s);c?c.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(N)}function F(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function W(e,t){-1===e.$$.dirty[0]&&(S.push(e),M||(M=!0,C.then(z)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Q(t,s,l,o,i,a,c=[-1]){const u=w;k(t);const d=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let f=!1;if(d.ctx=l?l(t,s.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return d.ctx&&i(d.ctx[e],d.ctx[e]=s)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](s),f&&W(t,e)),n})):[],d.update(),f=!0,r(d.before_update),d.fragment=!!o&&o(d.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);d.fragment&&d.fragment.l(e),e.forEach(p)}else d.fragment&&d.fragment.c();s.intro&&D(t.$$.fragment),Y(t,s.target,s.anchor,s.customElement),z()}k(u)}class K{$destroy(){F(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const X=[];function V(t,n=e){let r;const s=[];function o(e){if(l(t,e)&&(t=e,r)){const e=!X.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),X.push(n,t)}if(e){for(let e=0;e<X.length;e+=2)X[e][0](X[e+1]);X.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(l,i=e){const a=[l,i];return s.push(a),1===s.length&&(r=n(o)||e),l(t),()=>{const e=s.indexOf(a);-1!==e&&s.splice(e,1),0===s.length&&(r(),r=null)}}}}const{API_URL:Z}={API_URL:"https://api.mbs3.fightthe.pw",UI_URL:"https://mbs3.fightthe.pw",isProd:!0},ee=V(null),te=V(null),ne=V([]),re=V([]),se=V([]),le=V([]),oe=V(null),ie=new Set(["players","countries","qualifiers","qualifiers!maps","qualifiers!elite","qualifiers!elite!maps","qualifiers!lobbies","groups","scuffed!drawing"]),ae=()=>{const{hash:e}=location,[,t]=e.split("/");ie.has(t)?oe.set(t):(oe.set("home"),"#/"!=e&&(location.hash="#/"))};window.addEventListener("hashchange",ae),ae();const ce=(e,t={headers:{}})=>fetch(`${Z}${e}`,Object.assign(Object.assign({},t),{headers:Object.assign({Authorization:ue?`Bearer ${ue}`:void 0},t.headers)})).then((e=>e.json()));let ue;function pe(t){let n,r;return{c(){n=f("a"),r=m("Login"),y(n,"href",t[3])},m(e,t){u(e,n,t),c(n,r)},p:e,d(e){e&&p(n)}}}function de(e){let t,n,r,s,l,o,i,a,d,h,b,w=e[0].username+"",k=e[0].player&&fe(),x=e[0].referee&&me(),S=e[0].commentator&&ge(),_=e[0].streamer&&he();return{c(){t=m("Logged in as\r\n      "),n=f("b"),r=m(w),s=m(" -\r\n      "),k&&k.c(),l=g(),x&&x.c(),o=g(),S&&S.c(),i=g(),_&&_.c(),a=g(),d=f("a"),d.textContent="Log out",y(d,"href","#/")},m(p,f){u(p,t,f),u(p,n,f),c(n,r),u(p,s,f),k&&k.m(p,f),u(p,l,f),x&&x.m(p,f),u(p,o,f),S&&S.m(p,f),u(p,i,f),_&&_.m(p,f),u(p,a,f),u(p,d,f),h||(b=$(d,"click",e[2]),h=!0)},p(e,t){1&t&&w!==(w=e[0].username+"")&&v(r,w),e[0].player?k||(k=fe(),k.c(),k.m(l.parentNode,l)):k&&(k.d(1),k=null),e[0].referee?x||(x=me(),x.c(),x.m(o.parentNode,o)):x&&(x.d(1),x=null),e[0].commentator?S||(S=ge(),S.c(),S.m(i.parentNode,i)):S&&(S.d(1),S=null),e[0].streamer?_||(_=he(),_.c(),_.m(a.parentNode,a)):_&&(_.d(1),_=null)},d(e){e&&p(t),e&&p(n),e&&p(s),k&&k.d(e),e&&p(l),x&&x.d(e),e&&p(o),S&&S.d(e),e&&p(i),_&&_.d(e),e&&p(a),e&&p(d),h=!1,b()}}}function fe(e){let t;return{c(){t=m("Player -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function me(e){let t;return{c(){t=m("Referee -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function ge(e){let t;return{c(){t=m("Commentator -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function he(e){let t;return{c(){t=m("Streamer -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function $e(t){let n,r,s,l,o,i;function a(e,t){return e[0]?de:e[1].length?pe:void 0}let d=a(t),m=d&&d(t);return{c(){n=f("div"),r=f("a"),r.innerHTML='<div class="logo svelte-swbai7"><img alt="" src="/images/logo.png" class="svelte-swbai7"/></div> \n    <h1 class="svelte-swbai7"><img alt="Mania Beginner&#39;s Showdown" src="/images/title.png" class="svelte-swbai7"/> \n      <div class="three svelte-swbai7"><span class="svelte-swbai7">3</span></div></h1>',s=g(),l=f("div"),l.innerHTML='<div class="host-title svelte-swbai7">Hosted by</div>\n    Paturages &amp; Davvy',o=g(),i=f("div"),m&&m.c(),y(r,"href","#/"),y(l,"class","hosts svelte-swbai7"),y(i,"class","me svelte-swbai7"),y(n,"class","banner svelte-swbai7")},m(e,t){u(e,n,t),c(n,r),c(n,s),c(n,l),c(n,o),c(n,i),m&&m.m(i,null)},p(e,[t]){d===(d=a(e))&&m?m.p(e,t):(m&&m.d(1),m=d&&d(e),m&&(m.c(),m.m(i,null)))},i:e,o:e,d(e){e&&p(n),m&&m.d()}}}function ye(e,t,n){let r,s;o(e,ee,(e=>n(0,r=e))),o(e,ne,(e=>n(1,s=e)));var l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function o(e){try{a(r.next(e))}catch(e){l(e)}}function i(e){try{a(r.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}a((r=r.apply(e,t||[])).next())}))};return[r,s,()=>l(void 0,void 0,void 0,(function*(){yield fetch("https://api.mbs3.fightthe.pw/auth/logout",{method:"POST",credentials:"include"}),location.reload()})),"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw"]}(async()=>{const{data:e}=await ce("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  stages(sort: "sort") {\n    slug\n    name\n    date_start\n    date_end\n    link\n  }\n  players(sort: "ranking", limit: -1) {\n    id\n    seed\n    group {\n      id\n    }\n    elite\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n    ranking\n    pp\n    qualifier {\n      name\n      link\n      time\n    }\n  }\n  referees {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n  commentators {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n  streamers {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n}'})});le.set(e.stages),te.set(e.players);const t=new Map(e.players.map((e=>[e.id,e])));ne.set(e.referees);const n=new Map(e.referees.map((e=>[e.id,e])));re.set(e.commentators);const r=new Map(e.commentators.map((e=>[e.id,e])));se.set(e.streamers);const s=new Map(e.streamers.map((e=>[e.id,e]))),l=await fetch(`${Z}/auth/refresh`,{method:"POST",credentials:"include"});if(200==l.status){const e=await l.json();ue=e.data.access_token;const{data:{first_name:o,email:i,avatar:a}}=await ce("/users/me?fields=first_name,email");let c=!1;const u=-(new Date).getTimezoneOffset()/60,p=t.get(i);p&&(c=!p.timezone||!p.timezone.endsWith(String(u)));const d=n.get(i);d&&!c&&(c=!d.timezone||!d.timezone.endsWith(String(u)));const f=r.get(i);f&&!c&&(c=!f.timezone||!f.timezone.endsWith(String(u)));const m=s.get(i);m&&!c&&(c=!m.timezone||!m.timezone.endsWith(String(u))),ee.set({avatar:a,username:o,id:i,player:p,referee:d,commentator:f,streamer:m,qualifier:null==p?void 0:p.qualifier}),c&&await ce("/custom/profile/timezone",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({offset:(new Date).getTimezoneOffset()})})}})();class ve extends K{constructor(e){super(),Q(this,e,ye,$e,l,{})}}function be(e){let t,n,r,s,l,o,d,m;const g=e[3].default,h=function(e,t,n,r){if(e){const s=i(e,t,n,r);return e[0](s)}}(g,e,e[2],null);return{c(){t=f("span"),n=f("a"),r=f("div"),h&&h.c(),y(r,"class","text svelte-hih935"),y(n,"href",s=e[0]||"javascript:void(0)"),y(n,"target",e[1]),y(n,"rel",l="_blank"===e[1]?"noopener":void 0),y(n,"class","link svelte-hih935"),y(t,"class","button")},m(s,l){u(s,t,l),c(t,n),c(n,r),h&&h.m(r,null),o=!0,d||(m=$(n,"click",e[4]),d=!0)},p(e,[t]){h&&h.p&&4&t&&a(h,g,e,e[2],t,null,null),(!o||1&t&&s!==(s=e[0]||"javascript:void(0)"))&&y(n,"href",s),(!o||2&t)&&y(n,"target",e[1]),(!o||2&t&&l!==(l="_blank"===e[1]?"noopener":void 0))&&y(n,"rel",l)},i(e){o||(D(h,e),o=!0)},o(e){E(h,e),o=!1},d(e){e&&p(t),h&&h.d(e),d=!1,m()}}}function we(e,t,n){let{$$slots:r={},$$scope:s}=t,{href:l}=t,{target:o=""}=t;return e.$$set=e=>{"href"in e&&n(0,l=e.href),"target"in e&&n(1,o=e.target),"$$scope"in e&&n(2,s=e.$$scope)},[l,o,s,r,function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}(e,t)}]}class ke extends K{constructor(e){super(),Q(this,e,we,be,l,{href:0,target:1})}}function xe(e){let t;return{c(){t=m("Forum post")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Se(e){let t;return{c(){t=m("Discord")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function _e(e){let t;return{c(){t=m("Players")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Te(e){let t;return{c(){t=m("Countries")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function qe(e){let t,n,r,s,l,o,i,a,d,m,h,$,v,b;return s=new ke({props:{href:"https://osu.ppy.sh/community/forums/topics/1280306",target:"_blank",$$slots:{default:[xe]},$$scope:{ctx:e}}}),i=new ke({props:{href:"https://discord.gg/uNSqksR",target:"_blank",$$slots:{default:[Se]},$$scope:{ctx:e}}}),m=new ke({props:{href:"#/players",$$slots:{default:[_e]},$$scope:{ctx:e}}}),v=new ke({props:{href:"#/countries",$$slots:{default:[Te]},$$scope:{ctx:e}}}),{c(){t=f("nav"),n=f("ul"),r=f("li"),B(s.$$.fragment),l=g(),o=f("li"),B(i.$$.fragment),a=g(),d=f("li"),B(m.$$.fragment),h=g(),$=f("li"),B(v.$$.fragment),y(r,"class","svelte-rtylg"),y(o,"class","svelte-rtylg"),y(d,"class","svelte-rtylg"),y($,"class","svelte-rtylg"),y(n,"class","svelte-rtylg")},m(e,p){u(e,t,p),c(t,n),c(n,r),Y(s,r,null),c(n,l),c(n,o),Y(i,o,null),c(n,a),c(n,d),Y(m,d,null),c(n,h),c(n,$),Y(v,$,null),b=!0},p(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const r={};1&t&&(r.$$scope={dirty:t,ctx:e}),i.$set(r);const l={};1&t&&(l.$$scope={dirty:t,ctx:e}),m.$set(l);const o={};1&t&&(o.$$scope={dirty:t,ctx:e}),v.$set(o)},i(e){b||(D(s.$$.fragment,e),D(i.$$.fragment,e),D(m.$$.fragment,e),D(v.$$.fragment,e),b=!0)},o(e){E(s.$$.fragment,e),E(i.$$.fragment,e),E(m.$$.fragment,e),E(v.$$.fragment,e),b=!1},d(e){e&&p(t),F(s),F(i),F(m),F(v)}}}class Ce extends K{constructor(e){super(),Q(this,e,null,qe,l,{})}}function Me(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function Ne(e){let t;return{c(){t=m("Loading...")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Oe(e){let t,n=e[3].name+"";return{c(){t=m(n)},m(e,n){u(e,t,n)},p(e,r){1&r&&n!==(n=e[3].name+"")&&v(t,n)},d(e){e&&p(t)}}}function je(e){let t,n,r,s=e[3].name+"";return{c(){t=f("a"),n=m(s),y(t,"href",r=e[3].link)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[3].name+"")&&v(n,s),1&l&&r!==(r=e[3].link)&&y(t,"href",r)},d(e){e&&p(t)}}}function ze(e,t){let n,r,s,l,o,i,a,d,h,$=t[2](t[3].date_start)+"",w=t[2](t[3].date_end)+"";function k(e,t){return e[3].link?je:Oe}let x=k(t),S=x(t);return{key:e,first:null,c(){n=f("div"),r=f("div"),S.c(),s=g(),l=f("div"),o=m($),i=g(),a=f("div"),d=m(w),h=g(),y(r,"class","stage-name svelte-1xzsd"),y(l,"class","stage-date svelte-1xzsd"),y(a,"class","stage-date svelte-1xzsd"),y(n,"class","stage svelte-1xzsd"),b(n,"active",!t[5]||t[0][t[5]-1].date_end<t[1]),this.first=n},m(e,t){u(e,n,t),c(n,r),S.m(r,null),c(n,s),c(n,l),c(l,o),c(n,i),c(n,a),c(a,d),c(n,h)},p(e,s){x===(x=k(t=e))&&S?S.p(t,s):(S.d(1),S=x(t),S&&(S.c(),S.m(r,null))),1&s&&$!==($=t[2](t[3].date_start)+"")&&v(o,$),1&s&&w!==(w=t[2](t[3].date_end)+"")&&v(d,w),3&s&&b(n,"active",!t[5]||t[0][t[5]-1].date_end<t[1])},d(e){e&&p(n),S.d()}}}function Le(t){let n,r=[],s=new Map,l=t[0];const o=e=>e[3].slug;for(let e=0;e<l.length;e+=1){let n=Me(t,l,e),i=o(n);s.set(i,r[e]=ze(i,n))}let i=null;return l.length||(i=Ne()),{c(){n=f("div");for(let e=0;e<r.length;e+=1)r[e].c();i&&i.c(),y(n,"class","schedule svelte-1xzsd")},m(e,t){u(e,n,t);for(let e=0;e<r.length;e+=1)r[e].m(n,null);i&&i.m(n,null)},p(e,[t]){7&t&&(l=e[0],r=J(r,t,o,1,e,l,s,n,R,ze,null,Me),l.length?i&&(i.d(1),i=null):i||(i=Ne(),i.c(),i.m(n,null)))},i:e,o:e,d(e){e&&p(n);for(let e=0;e<r.length;e+=1)r[e].d();i&&i.d()}}}function Pe(e,t,n){let{stages:r=[]}=t;const s=(new Date).toISOString();return e.$$set=e=>{"stages"in e&&n(0,r=e.stages)},[r,s,e=>new Date(e).toUTCString().replace(" 00:00:00 GMT","")]}class Ae extends K{constructor(e){super(),Q(this,e,Pe,Le,l,{stages:0})}}function Ue(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function He(e,t,n){const r=e.slice();return r[6]=t[n],r[5]=n,r}function De(e,t,n){const r=e.slice();return r[8]=t[n],r[5]=n,r}function Ee(e){let t;return{c(){t=m("Hosts")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ge(e){let t;return{c(){t=m("Graphic Designer")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Re(e){let t;return{c(){t=m("Mappool selectors")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ie(e){let t;return{c(){t=m("Donators")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Je(e){let t;return{c(){t=m("Referees")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Be(e){let t,n,r,s,l=e[8].username+"";return{c(){t=f("a"),n=m(l),s=g(),y(t,"href",r=`https://osu.ppy.sh/users/${e[8].id}`),y(t,"target","_blank"),y(t,"rel","noopener"),y(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){1&s&&l!==(l=e[8].username+"")&&v(n,l),1&s&&r!==(r=`https://osu.ppy.sh/users/${e[8].id}`)&&y(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function Ye(e){let t;return{c(){t=m("Streamers")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Fe(e){let t,n,r,s,l=e[6].username+"";return{c(){t=f("a"),n=m(l),s=g(),y(t,"href",r=`https://osu.ppy.sh/users/${e[6].id}`),y(t,"target","_blank"),y(t,"rel","noopener"),y(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){2&s&&l!==(l=e[6].username+"")&&v(n,l),2&s&&r!==(r=`https://osu.ppy.sh/users/${e[6].id}`)&&y(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function We(e){let t;return{c(){t=m("Commentators")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Qe(e){let t,n,r,s,l=e[3].username+"";return{c(){t=f("a"),n=m(l),s=g(),y(t,"href",r=`https://osu.ppy.sh/users/${e[3].id}`),y(t,"target","_blank"),y(t,"rel","noopener"),y(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){4&s&&l!==(l=e[3].username+"")&&v(n,l),4&s&&r!==(r=`https://osu.ppy.sh/users/${e[3].id}`)&&y(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function Ke(e){let t,n,r,s,l,o,i,a,m,h,$,v,b,w,k,x,S,_,T,q,C,M,N,O,j,z,L,P,A,U,H,G,R,I,J;n=new ke({props:{$$slots:{default:[Ee]},$$scope:{ctx:e}}}),i=new ke({props:{$$slots:{default:[Ge]},$$scope:{ctx:e}}}),v=new ke({props:{$$slots:{default:[Re]},$$scope:{ctx:e}}}),S=new ke({props:{$$slots:{default:[Ie]},$$scope:{ctx:e}}}),M=new ke({props:{$$slots:{default:[Je]},$$scope:{ctx:e}}});let W=e[0],Q=[];for(let t=0;t<W.length;t+=1)Q[t]=Be(De(e,W,t));L=new ke({props:{$$slots:{default:[Ye]},$$scope:{ctx:e}}});let K=e[1],X=[];for(let t=0;t<K.length;t+=1)X[t]=Fe(He(e,K,t));G=new ke({props:{$$slots:{default:[We]},$$scope:{ctx:e}}});let V=e[2],Z=[];for(let t=0;t<V.length;t+=1)Z[t]=Qe(Ue(e,V,t));return{c(){t=f("div"),B(n.$$.fragment),r=g(),s=f("div"),s.innerHTML='<a href="https://osu.ppy.sh/users/1375479" target="_blank" rel="noopener" class="svelte-1psdwt3">Paturages</a>  \n    <a href="https://osu.ppy.sh/users/10047413" target="_blank" rel="noopener" class="svelte-1psdwt3">Davvy</a>',l=g(),o=f("div"),B(i.$$.fragment),a=g(),m=f("div"),m.innerHTML='<a href="https://osu.ppy.sh/users/9148286" target="_blank" rel="noopener" class="svelte-1psdwt3">E-M-i</a>',h=g(),$=f("div"),B(v.$$.fragment),b=g(),w=f("div"),w.innerHTML='<a href="https://osu.ppy.sh/users/1375479" target="_blank" rel="noopener" class="svelte-1psdwt3">Paturages</a>  \n    <a href="https://osu.ppy.sh/users/10047413" target="_blank" rel="noopener" class="svelte-1psdwt3">Davvy</a>  \n    <a href="https://osu.ppy.sh/users/11253722" target="_blank" rel="noopener" class="svelte-1psdwt3">DannyPX</a>  \n    <a href="https://osu.ppy.sh/users/11626065" target="_blank" rel="noopener" class="svelte-1psdwt3">guden</a>  \n    <a href="https://osu.ppy.sh/users/2124783" target="_blank" rel="noopener" class="svelte-1psdwt3">Kamikaze</a>  \n    <a href="https://osu.ppy.sh/users/8976576" target="_blank" rel="noopener" class="svelte-1psdwt3">-mint-</a>  \n    <a href="https://osu.ppy.sh/users/8642224" target="_blank" rel="noopener" class="svelte-1psdwt3">Konohana Lucia</a>',k=g(),x=f("div"),B(S.$$.fragment),_=g(),T=f("div"),T.innerHTML='<a href="https://osu.ppy.sh/users/8642224" target="_blank" rel="noopener" class="svelte-1psdwt3">Konohana Lucia</a>  \n    <a href="https://osu.ppy.sh/users/8184715" target="_blank" rel="noopener" class="svelte-1psdwt3">Syako</a>',q=g(),C=f("div"),B(M.$$.fragment),N=g(),O=f("div");for(let e=0;e<Q.length;e+=1)Q[e].c();j=g(),z=f("div"),B(L.$$.fragment),P=g(),A=f("div");for(let e=0;e<X.length;e+=1)X[e].c();U=g(),H=f("div"),B(G.$$.fragment),R=g(),I=f("div");for(let e=0;e<Z.length;e+=1)Z[e].c();y(s,"class","container svelte-1psdwt3"),y(t,"class","section svelte-1psdwt3"),y(m,"class","container svelte-1psdwt3"),y(o,"class","section svelte-1psdwt3"),y(w,"class","container svelte-1psdwt3"),y($,"class","section svelte-1psdwt3"),y(T,"class","container svelte-1psdwt3"),y(x,"class","section svelte-1psdwt3"),y(O,"class","container svelte-1psdwt3"),y(C,"class","section svelte-1psdwt3"),y(A,"class","container svelte-1psdwt3"),y(z,"class","section svelte-1psdwt3"),y(I,"class","container svelte-1psdwt3"),y(H,"class","section svelte-1psdwt3")},m(e,p){u(e,t,p),Y(n,t,null),c(t,r),c(t,s),u(e,l,p),u(e,o,p),Y(i,o,null),c(o,a),c(o,m),u(e,h,p),u(e,$,p),Y(v,$,null),c($,b),c($,w),u(e,k,p),u(e,x,p),Y(S,x,null),c(x,_),c(x,T),u(e,q,p),u(e,C,p),Y(M,C,null),c(C,N),c(C,O);for(let e=0;e<Q.length;e+=1)Q[e].m(O,null);u(e,j,p),u(e,z,p),Y(L,z,null),c(z,P),c(z,A);for(let e=0;e<X.length;e+=1)X[e].m(A,null);u(e,U,p),u(e,H,p),Y(G,H,null),c(H,R),c(H,I);for(let e=0;e<Z.length;e+=1)Z[e].m(I,null);J=!0},p(e,[t]){const r={};1024&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};1024&t&&(s.$$scope={dirty:t,ctx:e}),i.$set(s);const l={};1024&t&&(l.$$scope={dirty:t,ctx:e}),v.$set(l);const o={};1024&t&&(o.$$scope={dirty:t,ctx:e}),S.$set(o);const a={};if(1024&t&&(a.$$scope={dirty:t,ctx:e}),M.$set(a),1&t){let n;for(W=e[0],n=0;n<W.length;n+=1){const r=De(e,W,n);Q[n]?Q[n].p(r,t):(Q[n]=Be(r),Q[n].c(),Q[n].m(O,null))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=W.length}const c={};if(1024&t&&(c.$$scope={dirty:t,ctx:e}),L.$set(c),2&t){let n;for(K=e[1],n=0;n<K.length;n+=1){const r=He(e,K,n);X[n]?X[n].p(r,t):(X[n]=Fe(r),X[n].c(),X[n].m(A,null))}for(;n<X.length;n+=1)X[n].d(1);X.length=K.length}const u={};if(1024&t&&(u.$$scope={dirty:t,ctx:e}),G.$set(u),4&t){let n;for(V=e[2],n=0;n<V.length;n+=1){const r=Ue(e,V,n);Z[n]?Z[n].p(r,t):(Z[n]=Qe(r),Z[n].c(),Z[n].m(I,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=V.length}},i(e){J||(D(n.$$.fragment,e),D(i.$$.fragment,e),D(v.$$.fragment,e),D(S.$$.fragment,e),D(M.$$.fragment,e),D(L.$$.fragment,e),D(G.$$.fragment,e),J=!0)},o(e){E(n.$$.fragment,e),E(i.$$.fragment,e),E(v.$$.fragment,e),E(S.$$.fragment,e),E(M.$$.fragment,e),E(L.$$.fragment,e),E(G.$$.fragment,e),J=!1},d(e){e&&p(t),F(n),e&&p(l),e&&p(o),F(i),e&&p(h),e&&p($),F(v),e&&p(k),e&&p(x),F(S),e&&p(q),e&&p(C),F(M),d(Q,e),e&&p(j),e&&p(z),F(L),d(X,e),e&&p(U),e&&p(H),F(G),d(Z,e)}}}function Xe(e,t,n){let r,s,l;return o(e,ne,(e=>n(0,r=e))),o(e,se,(e=>n(1,s=e))),o(e,re,(e=>n(2,l=e))),[r,s,l]}class Ve extends K{constructor(e){super(),Q(this,e,Xe,Ke,l,{})}}function Ze(t){let n,r,s,l,o,i,a,d,h,$,b,w,k,x,S,_,T,q,C,M=t[0].username+"",N=t[0].country+"",O=t[0].ranking+"",j=Number(t[0].pp).toFixed(2)+"";return{c(){n=f("a"),r=f("div"),s=f("img"),o=g(),i=f("div"),a=m(M),d=g(),h=f("div"),$=m(N),b=g(),w=f("div"),k=m(O),x=g(),S=f("div"),_=m("("),T=m(j),q=m(" pp)"),y(s,"class","avatar svelte-18mwkz8"),s.src!==(l=t[0].avatar)&&y(s,"src",l),y(s,"alt",""),y(r,"class","avatar svelte-18mwkz8"),y(h,"class","country svelte-18mwkz8"),y(i,"class","name svelte-18mwkz8"),y(S,"class","pp svelte-18mwkz8"),y(w,"class","ranking svelte-18mwkz8"),y(n,"class","player svelte-18mwkz8"),y(n,"href",C=`https://osu.ppy.sh/users/${t[0].id}`),y(n,"target","_blank"),y(n,"rel","noopener")},m(e,t){u(e,n,t),c(n,r),c(r,s),c(n,o),c(n,i),c(i,a),c(i,d),c(i,h),c(h,$),c(n,b),c(n,w),c(w,k),c(w,x),c(w,S),c(S,_),c(S,T),c(S,q)},p(e,[t]){1&t&&s.src!==(l=e[0].avatar)&&y(s,"src",l),1&t&&M!==(M=e[0].username+"")&&v(a,M),1&t&&N!==(N=e[0].country+"")&&v($,N),1&t&&O!==(O=e[0].ranking+"")&&v(k,O),1&t&&j!==(j=Number(e[0].pp).toFixed(2)+"")&&v(T,j),1&t&&C!==(C=`https://osu.ppy.sh/users/${e[0].id}`)&&y(n,"href",C)},i:e,o:e,d(e){e&&p(n)}}}function et(e,t,n){let{player:r}=t;return e.$$set=e=>{"player"in e&&n(0,r=e.player)},[r]}class tt extends K{constructor(e){super(),Q(this,e,et,Ze,l,{player:0})}}function nt(e,t,n){const r=e.slice();return r[4]=t[n],r}function rt(e){let t,n,r;return n=new ke({props:{href:"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw",$$slots:{default:[st]},$$scope:{ctx:e}}}),{c(){t=f("p"),B(n.$$.fragment),y(t,"class","register svelte-g74cd1")},m(e,s){u(e,t,s),Y(n,t,null),r=!0},i(e){r||(D(n.$$.fragment,e),r=!0)},o(e){E(n.$$.fragment,e),r=!1},d(e){e&&p(t),F(n)}}}function st(e){let t;return{c(){t=m("Register")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function lt(e){let t,n,r,s,l,o,i=e[1].length+"",a=[],d=new Map,$=e[1];const b=e=>e[4].id;for(let t=0;t<$.length;t+=1){let n=nt(e,$,t),r=b(n);d.set(r,a[t]=at(r,n))}let w=null;return $.length||(w=it()),{c(){t=f("div"),n=m("Total players: "),r=m(i),s=g();for(let e=0;e<a.length;e+=1)a[e].c();l=h(),w&&w.c(),y(t,"class","stats")},m(e,i){u(e,t,i),c(t,n),c(t,r),u(e,s,i);for(let t=0;t<a.length;t+=1)a[t].m(e,i);u(e,l,i),w&&w.m(e,i),o=!0},p(e,t){(!o||2&t)&&i!==(i=e[1].length+"")&&v(r,i),2&t&&($=e[1],U(),a=J(a,t,b,1,e,$,d,l.parentNode,I,at,l,nt),H(),$.length?w&&(w.d(1),w=null):w||(w=it(),w.c(),w.m(l.parentNode,l)))},i(e){if(!o){for(let e=0;e<$.length;e+=1)D(a[e]);o=!0}},o(e){for(let e=0;e<a.length;e+=1)E(a[e]);o=!1},d(e){e&&p(t),e&&p(s);for(let t=0;t<a.length;t+=1)a[t].d(e);e&&p(l),w&&w.d(e)}}}function ot(t){let n;return{c(){n=m("Loading players...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function it(e){let t;return{c(){t=m("No players registered yet!")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function at(e,t){let n,r,s;return r=new tt({props:{player:t[4]}}),{key:e,first:null,c(){n=h(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Y(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.player=t[4]),r.$set(s)},i(e){s||(D(r.$$.fragment,e),s=!0)},o(e){E(r.$$.fragment,e),s=!1},d(e){e&&p(n),F(r,e)}}}function ct(e){let t,n,r,s,l,o=!e[0]&&rt(e);const i=[ot,lt],a=[];function c(e,t){return e[1]?1:0}return r=c(e),s=a[r]=i[r](e),{c(){o&&o.c(),t=g(),n=f("p"),s.c(),y(n,"class","players svelte-g74cd1")},m(e,s){o&&o.m(e,s),u(e,t,s),u(e,n,s),a[r].m(n,null),l=!0},p(e,[l]){e[0]?o&&(U(),E(o,1,1,(()=>{o=null})),H()):o?1&l&&D(o,1):(o=rt(e),o.c(),D(o,1),o.m(t.parentNode,t));let u=r;r=c(e),r===u?a[r].p(e,l):(U(),E(a[u],1,1,(()=>{a[u]=null})),H(),s=a[r],s?s.p(e,l):(s=a[r]=i[r](e),s.c()),D(s,1),s.m(n,null))},i(e){l||(D(o),D(s),l=!0)},o(e){E(o),E(s),l=!1},d(e){o&&o.d(e),e&&p(t),e&&p(n),a[r].d()}}}function ut(e,t,n){let r,s;return o(e,ee,(e=>n(0,r=e))),o(e,te,(e=>n(1,s=e))),[r,s]}class pt extends K{constructor(e){super(),Q(this,e,ut,ct,l,{})}}function dt(e,t,n){const r=e.slice();return r[5]=t[n].players,r[6]=t[n].country,r}function ft(e,t,n){const r=e.slice();return r[9]=t[n],r}function mt(e){let t;return{c(){t=m("Loading...")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function gt(e){let t,n,r,s=e[5],l=[];for(let t=0;t<s.length;t+=1)l[t]=ht(ft(e,s,t));const o=e=>E(l[e],1,1,(()=>{l[e]=null}));return{c(){t=f("div");for(let e=0;e<l.length;e+=1)l[e].c();n=g(),y(t,"class","players svelte-1q27u36")},m(e,s){u(e,t,s);for(let e=0;e<l.length;e+=1)l[e].m(t,null);c(t,n),r=!0},p(e,r){if(2&r){let i;for(s=e[5],i=0;i<s.length;i+=1){const o=ft(e,s,i);l[i]?(l[i].p(o,r),D(l[i],1)):(l[i]=ht(o),l[i].c(),D(l[i],1),l[i].m(t,n))}for(U(),i=s.length;i<l.length;i+=1)o(i);H()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)D(l[e]);r=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)E(l[e]);r=!1},d(e){e&&p(t),d(l,e)}}}function ht(e){let t,n;return t=new tt({props:{player:e[9]}}),{c(){B(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.player=e[9]),t.$set(r)},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function $t(e,t){let n,r,s,l,o,i,a,d,b,w,k,x,S,_,T,q=t[6]+"",C=t[5].length+"",M=1==t[5].length?"":"s",N=t[0]==t[6]?"▼":"►";function O(){return t[4](t[6])}let j=t[0]==t[6]&&gt(t);return{key:e,first:null,c(){n=f("div"),r=f("div"),s=m(q),l=m(": "),o=m(C),i=m(" player"),a=m(M),d=g(),b=f("div"),w=m(N),k=g(),j&&j.c(),x=h(),y(r,"class","label svelte-1q27u36"),y(b,"class","pointer"),y(n,"class","country svelte-1q27u36"),this.first=n},m(e,t){u(e,n,t),c(n,r),c(r,s),c(r,l),c(r,o),c(r,i),c(r,a),c(n,d),c(n,b),c(b,w),u(e,k,t),j&&j.m(e,t),u(e,x,t),S=!0,_||(T=$(n,"click",O),_=!0)},p(e,n){t=e,(!S||2&n)&&q!==(q=t[6]+"")&&v(s,q),(!S||2&n)&&C!==(C=t[5].length+"")&&v(o,C),(!S||2&n)&&M!==(M=1==t[5].length?"":"s")&&v(a,M),(!S||3&n)&&N!==(N=t[0]==t[6]?"▼":"►")&&v(w,N),t[0]==t[6]?j?(j.p(t,n),3&n&&D(j,1)):(j=gt(t),j.c(),D(j,1),j.m(x.parentNode,x)):j&&(U(),E(j,1,1,(()=>{j=null})),H())},i(e){S||(D(j),S=!0)},o(e){E(j),S=!1},d(e){e&&p(n),e&&p(k),j&&j.d(e),e&&p(x),_=!1,T()}}}function yt(e){let t,n,r=[],s=new Map,l=e[1];const o=e=>e[6];for(let t=0;t<l.length;t+=1){let n=dt(e,l,t),i=o(n);s.set(i,r[t]=$t(i,n))}let i=null;return l.length||(i=mt()),{c(){t=f("div");for(let e=0;e<r.length;e+=1)r[e].c();i&&i.c(),y(t,"class","countries svelte-1q27u36")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);i&&i.m(t,null),n=!0},p(e,[n]){7&n&&(l=e[1],U(),r=J(r,n,o,1,e,l,s,t,I,$t,null,dt),H(),l.length?i&&(i.d(1),i=null):i||(i=mt(),i.c(),i.m(t,null)))},i(e){if(!n){for(let e=0;e<l.length;e+=1)D(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)E(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d();i&&i.d()}}}function vt(e,t,n){let r,s,l;o(e,te,(e=>n(3,s=e)));const i=e=>n(0,l=l==e?null:e);return e.$$.update=()=>{8&e.$$.dirty&&n(1,r=Object.values((null==s?void 0:s.reduce(((e,t)=>(e[t.country]||(e[t.country]={country:t.country,players:[]}),e[t.country].players.push(t),e)),{}))||{}).sort(((e,t)=>e.players.length<t.players.length?1:-1)))},[l,r,i,s,e=>i(e)]}class bt extends K{constructor(e){super(),Q(this,e,vt,yt,l,{})}}function wt(e,t,n){const r=e.slice();return r[11]=t[n],r}function kt(e){let t,n,r,s,l=e[0].name+"",o=e[2]&&St(e);return{c(){t=m(l),n=g(),o&&o.c(),r=h()},m(e,l){u(e,t,l),u(e,n,l),o&&o.m(e,l),u(e,r,l),s=!0},p(e,n){(!s||1&n)&&l!==(l=e[0].name+"")&&v(t,l),e[2]?o?(o.p(e,n),4&n&&D(o,1)):(o=St(e),o.c(),D(o,1),o.m(r.parentNode,r)):o&&(U(),E(o,1,1,(()=>{o=null})),H())},i(e){s||(D(o),s=!0)},o(e){E(o),s=!1},d(e){e&&p(t),e&&p(n),o&&o.d(e),e&&p(r)}}}function xt(t){let n,r,s,l=t[0].name+"";return{c(){n=f("a"),r=m(l),y(n,"href",s=t[0].link),y(n,"target","_blank"),y(n,"rel","noopener")},m(e,t){u(e,n,t),c(n,r)},p(e,t){1&t&&l!==(l=e[0].name+"")&&v(r,l),1&t&&s!==(s=e[0].link)&&y(n,"href",s)},i:e,o:e,d(e){e&&p(n)}}}function St(e){let t,n,r,s;const l=[Tt,_t],o=[];function i(e,t){return e[4]?0:1}return t=i(e),n=o[t]=l[t](e),{c(){n.c(),r=h()},m(e,n){o[t].m(e,n),u(e,r,n),s=!0},p(e,s){let a=t;t=i(e),t===a?o[t].p(e,s):(U(),E(o[a],1,1,(()=>{o[a]=null})),H(),n=o[t],n?n.p(e,s):(n=o[t]=l[t](e),n.c()),D(n,1),n.m(r.parentNode,r))},i(e){s||(D(n),s=!0)},o(e){E(n),s=!1},d(e){o[t].d(e),e&&p(r)}}}function _t(e){let t,n;return t=new ke({props:{$$slots:{default:[qt]},$$scope:{ctx:e}}}),t.$on("click",e[8]),{c(){B(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},p(e,n){const r={};16384&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function Tt(t){let n;return{c(){n=m("...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function qt(e){let t;return{c(){t=m("Sign up")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ct(t){let n;return{c(){n=m("To be defined")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Mt(e){let t,n,r,s=e[0].referee.username+"";return{c(){t=f("a"),n=m(s),y(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].referee.username+"")&&v(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&y(t,"href",r)},d(e){e&&p(t)}}}function Nt(e){let t,n,r,s,l,o,i,a=(e[0].available_referees.map(Ht).join(", ")||"None")+"";function c(e,t){return e[3]?zt:e[6]?jt:Ot}let d=c(e),$=d(e);return{c(){t=f("br"),n=g(),r=f("b"),r.textContent="Available referees",s=m(":\r\n        "),l=m(a),o=m(" -\r\n        "),$.c(),i=h()},m(e,a){u(e,t,a),u(e,n,a),u(e,r,a),u(e,s,a),u(e,l,a),u(e,o,a),$.m(e,a),u(e,i,a)},p(e,t){1&t&&a!==(a=(e[0].available_referees.map(Ht).join(", ")||"None")+"")&&v(l,a),d===(d=c(e))&&$?$.p(e,t):($.d(1),$=d(e),$&&($.c(),$.m(i.parentNode,i)))},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s),e&&p(l),e&&p(o),$.d(e),e&&p(i)}}}function Ot(t){let n,r,s;return{c(){n=f("a"),n.textContent="Add yourself as available",y(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=$(n,"click",t[7]),r=!0)},p:e,d(e){e&&p(n),r=!1,s()}}}function jt(t){let n,r,s;return{c(){n=f("a"),n.textContent="Remove yourself",y(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=$(n,"click",t[7]),r=!0)},p:e,d(e){e&&p(n),r=!1,s()}}}function zt(t){let n;return{c(){n=m("Processing...")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Lt(t){let n;return{c(){n=f("a"),n.textContent="Free spot!",y(n,"class","free-spot svelte-mwswut")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Pt(e){let t,n,r,s=e[0].players[e[11]].username+"";return{c(){t=f("a"),n=m(s),y(t,"href",r=`https://osu.ppy.sh/users/${e[0].players[e[11]].id}`),y(t,"class","svelte-mwswut")},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].players[e[11]].username+"")&&v(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].players[e[11]].id}`)&&y(t,"href",r)},d(e){e&&p(t)}}}function At(e){let t;function n(e,t){return e[0].players[e[11]]?Pt:e[0].link?void 0:Lt}let r=n(e),s=r&&r(e);return{c(){s&&s.c(),t=h()},m(e,n){s&&s.m(e,n),u(e,t,n)},p(e,l){r===(r=n(e))&&s?s.p(e,l):(s&&s.d(1),s=r&&r(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s&&s.d(e),e&&p(t)}}}function Ut(e){let t,n,r,s,l,o,i,a,h,$,b,w,k,x,S,_,T,q,C,M,N,O=e[5].toUTCString().replace(":00 GMT"," UTC+0")+"",j=e[5].toTimeString().replace(":00 GMT"," UTC")+"";const z=[xt,kt],L=[];function P(e,t){return e[0].link?0:1}function A(e,t){return e[0].referee?Mt:Ct}r=P(e),s=L[r]=z[r](e);let G=A(e),R=G(e),I=e[1]&&Nt(e),J=[0,1,2,3,4,5,6,7],B=[];for(let t=0;t<8;t+=1)B[t]=At(wt(e,J,t));return{c(){t=f("div"),n=f("div"),s.c(),l=g(),o=f("div"),i=f("div"),a=m(O),h=g(),$=f("div"),b=m("Your local time: "),w=f("b"),k=m(j),x=g(),S=f("div"),_=f("b"),_.textContent="Referee",T=m(":\r\n      "),R.c(),q=g(),I&&I.c(),C=g(),M=f("div");for(let e=0;e<8;e+=1)B[e].c();y(n,"class","name svelte-mwswut"),y(i,"class","utc svelte-mwswut"),y($,"class","time svelte-mwswut"),y(S,"class","referee svelte-mwswut"),y(M,"class","players svelte-mwswut"),y(o,"class","body"),y(t,"class","lobby svelte-mwswut")},m(e,s){u(e,t,s),c(t,n),L[r].m(n,null),c(t,l),c(t,o),c(o,i),c(i,a),c(o,h),c(o,$),c($,b),c($,w),c(w,k),c(o,x),c(o,S),c(S,_),c(S,T),R.m(S,null),c(S,q),I&&I.m(S,null),c(o,C),c(o,M);for(let e=0;e<8;e+=1)B[e].m(M,null);N=!0},p(e,[t]){let l=r;if(r=P(e),r===l?L[r].p(e,t):(U(),E(L[l],1,1,(()=>{L[l]=null})),H(),s=L[r],s?s.p(e,t):(s=L[r]=z[r](e),s.c()),D(s,1),s.m(n,null)),(!N||32&t)&&O!==(O=e[5].toUTCString().replace(":00 GMT"," UTC+0")+"")&&v(a,O),(!N||32&t)&&j!==(j=e[5].toTimeString().replace(":00 GMT"," UTC")+"")&&v(k,j),G===(G=A(e))&&R?R.p(e,t):(R.d(1),R=G(e),R&&(R.c(),R.m(S,q))),e[1]?I?I.p(e,t):(I=Nt(e),I.c(),I.m(S,null)):I&&(I.d(1),I=null),1&t){let n;for(J=[0,1,2,3,4,5,6,7],n=0;n<8;n+=1){const r=wt(e,J,n);B[n]?B[n].p(r,t):(B[n]=At(r),B[n].c(),B[n].m(M,null))}for(;n<8;n+=1)B[n].d(1)}},i(e){N||(D(s),N=!0)},o(e){E(s),N=!1},d(e){e&&p(t),L[r].d(),R.d(),I&&I.d(),d(B,e)}}}const Ht=({referee:e})=>e.username;function Dt(e,t,n){let r,s,l;o(e,ee,(e=>n(9,l=e)));var i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function o(e){try{a(r.next(e))}catch(e){l(e)}}function i(e){try{a(r.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}a((r=r.apply(e,t||[])).next())}))};let a,{lobby:c}=t,{toggleAvailable:u}=t,{setSchedule:p}=t;let d;return e.$$set=e=>{"lobby"in e&&n(0,c=e.lobby),"toggleAvailable"in e&&n(1,u=e.toggleAvailable),"setSchedule"in e&&n(2,p=e.setSchedule)},e.$$.update=()=>{1&e.$$.dirty&&n(5,r=new Date(c.time)),515&e.$$.dirty&&n(6,s=u&&c.available_referees.find((({referee:e})=>e.id==l.id)))},[c,u,p,a,d,r,s,()=>i(void 0,void 0,void 0,(function*(){n(3,a=!0),yield u(),n(3,a=!1)})),()=>i(void 0,void 0,void 0,(function*(){n(4,d=!0),yield p(),n(4,d=!1)})),l]}class Et extends K{constructor(e){super(),Q(this,e,Dt,Ut,l,{lobby:0,toggleAvailable:1,setSchedule:2})}}function Gt(t){let n,r,s,l,o,i,a,d,h,$,w,k,x,S,_,T,q,C,M,N,O,j,z,L,P,A,U,H,D,E,G,R,I,J,B,Y,F,W,Q,K,X,V,Z,ee=t[0].artist+"",te=t[0].name+"",ne=t[0].difficulty+"",re=t[0].category+"",se=t[0].charter+"",le=t[0].sr+"",oe=t[0].length+"",ie=t[0].bpm+"",ae=t[0].od+"",ce=t[0].hp+"";return{c(){n=f("div"),r=f("div"),s=f("div"),l=f("a"),o=m(ee),i=m(" - "),a=m(te),d=f("br"),h=m(ne),w=g(),k=f("div"),x=m(re),S=g(),_=f("div"),T=f("div"),q=m("Mapset by "),C=f("a"),M=m(se),O=g(),j=f("div"),z=f("span"),L=m("⭐ "),P=m(le),A=g(),U=f("span"),H=m("⏰ "),D=m(oe),E=g(),G=f("span"),R=m("🎵 "),I=m(ie),J=m(" BPM"),B=g(),Y=f("span"),F=m("🎯 OD "),W=m(ae),Q=g(),K=f("span"),X=m("❤️ HP "),V=m(ce),y(l,"class","name svelte-ttf8w6"),y(l,"href",$=`https://osu.ppy.sh/beatmaps/${t[0].id}`),y(l,"target","_blank"),y(l,"rel","noopener"),y(k,"class","category svelte-ttf8w6"),y(s,"class","header svelte-ttf8w6"),y(C,"href",N=`https://osu.ppy.sh/users/${t[0].charter_id}`),y(C,"class","svelte-ttf8w6"),y(T,"class","mapper"),y(z,"class","stat-item svelte-ttf8w6"),y(U,"class","stat-item svelte-ttf8w6"),y(G,"class","stat-item svelte-ttf8w6"),y(Y,"class","stat-item svelte-ttf8w6"),y(K,"class","stat-item svelte-ttf8w6"),y(j,"class","stats svelte-ttf8w6"),y(_,"class","body svelte-ttf8w6"),y(r,"class","container svelte-ttf8w6"),y(n,"class","map svelte-ttf8w6"),y(n,"style",Z=`background-image:url(${t[0].cover})`),b(n,"rice",t[0].category.toLowerCase().match(/rice|tech/)),b(n,"ln",t[0].category.toLowerCase().includes("ln")),b(n,"hybrid",t[0].category.toLowerCase().includes("hybrid")),b(n,"tiebreaker",t[0].category.toLowerCase().includes("tiebreaker"))},m(e,t){u(e,n,t),c(n,r),c(r,s),c(s,l),c(l,o),c(l,i),c(l,a),c(l,d),c(l,h),c(s,w),c(s,k),c(k,x),c(r,S),c(r,_),c(_,T),c(T,q),c(T,C),c(C,M),c(_,O),c(_,j),c(j,z),c(z,L),c(z,P),c(j,A),c(j,U),c(U,H),c(U,D),c(j,E),c(j,G),c(G,R),c(G,I),c(G,J),c(j,B),c(j,Y),c(Y,F),c(Y,W),c(j,Q),c(j,K),c(K,X),c(K,V)},p(e,[t]){1&t&&ee!==(ee=e[0].artist+"")&&v(o,ee),1&t&&te!==(te=e[0].name+"")&&v(a,te),1&t&&ne!==(ne=e[0].difficulty+"")&&v(h,ne),1&t&&$!==($=`https://osu.ppy.sh/beatmaps/${e[0].id}`)&&y(l,"href",$),1&t&&re!==(re=e[0].category+"")&&v(x,re),1&t&&se!==(se=e[0].charter+"")&&v(M,se),1&t&&N!==(N=`https://osu.ppy.sh/users/${e[0].charter_id}`)&&y(C,"href",N),1&t&&le!==(le=e[0].sr+"")&&v(P,le),1&t&&oe!==(oe=e[0].length+"")&&v(D,oe),1&t&&ie!==(ie=e[0].bpm+"")&&v(I,ie),1&t&&ae!==(ae=e[0].od+"")&&v(W,ae),1&t&&ce!==(ce=e[0].hp+"")&&v(V,ce),1&t&&Z!==(Z=`background-image:url(${e[0].cover})`)&&y(n,"style",Z),1&t&&b(n,"rice",e[0].category.toLowerCase().match(/rice|tech/)),1&t&&b(n,"ln",e[0].category.toLowerCase().includes("ln")),1&t&&b(n,"hybrid",e[0].category.toLowerCase().includes("hybrid")),1&t&&b(n,"tiebreaker",e[0].category.toLowerCase().includes("tiebreaker"))},i:e,o:e,d(e){e&&p(n)}}}function Rt(e,t,n){let{map:r}=t;return e.$$set=e=>{"map"in e&&n(0,r=e.map)},[r]}class It extends K{constructor(e){super(),Q(this,e,Rt,Gt,l,{map:0})}}const Jt=V(null),Bt=V(null),{Map:Yt}=G;function Ft(e,t,n){const r=e.slice();return r[8]=t[n],r}function Wt(e,t,n){const r=e.slice();return r[11]=t[n],r}function Qt(e){let t;function n(e,t){return e[0].qualifier?Xt:Kt}let r=n(e),s=r(e);return{c(){t=f("p"),s.c(),y(t,"class","intro svelte-1pt4gyt")},m(e,n){u(e,t,n),s.m(t,null)},p(e,l){r===(r=n(e))&&s?s.p(e,l):(s.d(1),s=r(e),s&&(s.c(),s.m(t,null)))},d(e){e&&p(t),s.d()}}}function Kt(e){let t,n,r,s,l,o,i,a,c,d,g,h=e[0].username+"";return{c(){t=m("Welcome, player "),n=m(h),r=m("!"),s=f("br"),l=f("br"),o=m("\r\n    You can feel free to put yourself in any qualifier with a free spot in it."),i=f("br"),a=f("br"),c=m("\r\n    If there is no lobby that suits you, please specify a time in the #reschedules channel in the Discord:"),d=f("br"),g=m("\r\n    we will try to organize a special extra lobby.")},m(e,p){u(e,t,p),u(e,n,p),u(e,r,p),u(e,s,p),u(e,l,p),u(e,o,p),u(e,i,p),u(e,a,p),u(e,c,p),u(e,d,p),u(e,g,p)},p(e,t){1&t&&h!==(h=e[0].username+"")&&v(n,h)},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s),e&&p(l),e&&p(o),e&&p(i),e&&p(a),e&&p(c),e&&p(d),e&&p(g)}}}function Xt(e){let t,n,r,s,l,o,i,a,d,g,h,$,y,b,w,k,x,S,_,T,q,C,M,N,O,j,z,L,P,A,U=e[0].qualifier.name+"",H=e[2].toUTCString().replace(":00 GMT"," UTC+0")+"",D=e[2].toTimeString().replace(":00 GMT"," UTC")+"";return{c(){t=m("You are in "),n=f("b"),r=m("Lobby "),s=m(U),l=m(" happening on\r\n    "),o=f("b"),i=m(H),a=f("br"),d=m("\r\n    (converted to your local time: "),g=f("b"),h=m(D),$=m(").\r\n    "),y=f("br"),b=f("br"),w=m("\r\n    The referee will ping you on Discord (make sure you are in our Discord) "),k=f("b"),k.textContent="15 minutes",x=m(" before the time"),S=f("br"),_=m("\r\n    and will invite you in the multiplayer lobby "),T=f("b"),T.textContent="5 minutes",q=m(" before the time. Make sure you are logged in the game by then!\r\n    "),C=f("br"),M=f("br"),N=m("\r\n    Once you are in the game, you will play all maps "),O=f("b"),O.textContent="2 times",j=m(":"),z=f("br"),L=m("\r\n    the best score on each map will count in the final qualifiers leaderboard and determine your seed.\r\n    "),P=f("br"),A=f("br")},m(e,p){u(e,t,p),u(e,n,p),c(n,r),c(n,s),u(e,l,p),u(e,o,p),c(o,i),u(e,a,p),u(e,d,p),u(e,g,p),c(g,h),u(e,$,p),u(e,y,p),u(e,b,p),u(e,w,p),u(e,k,p),u(e,x,p),u(e,S,p),u(e,_,p),u(e,T,p),u(e,q,p),u(e,C,p),u(e,M,p),u(e,N,p),u(e,O,p),u(e,j,p),u(e,z,p),u(e,L,p),u(e,P,p),u(e,A,p)},p(e,t){1&t&&U!==(U=e[0].qualifier.name+"")&&v(s,U),4&t&&H!==(H=e[2].toUTCString().replace(":00 GMT"," UTC+0")+"")&&v(i,H),4&t&&D!==(D=e[2].toTimeString().replace(":00 GMT"," UTC")+"")&&v(h,D)},d(e){e&&p(t),e&&p(n),e&&p(l),e&&p(o),e&&p(a),e&&p(d),e&&p(g),e&&p($),e&&p(y),e&&p(b),e&&p(w),e&&p(k),e&&p(x),e&&p(S),e&&p(_),e&&p(T),e&&p(q),e&&p(C),e&&p(M),e&&p(N),e&&p(O),e&&p(j),e&&p(z),e&&p(L),e&&p(P),e&&p(A)}}}function Vt(e){let t,n,r,s,l=[],o=new Yt,i=[],a=new Yt,c=e[3];const d=e=>e[11].id;for(let t=0;t<c.length;t+=1){let n=Wt(e,c,t),r=d(n);o.set(r,l[t]=en(r,n))}let m=e[1];const h=e=>e[8].name;for(let t=0;t<m.length;t+=1){let n=Ft(e,m,t),r=h(n);a.set(r,i[t]=tn(r,n))}return{c(){t=f("p");for(let e=0;e<l.length;e+=1)l[e].c();n=g(),r=f("p");for(let e=0;e<i.length;e+=1)i[e].c();y(t,"class","maps svelte-1pt4gyt"),y(r,"class","lobbies svelte-1pt4gyt")},m(e,o){u(e,t,o);for(let e=0;e<l.length;e+=1)l[e].m(t,null);u(e,n,o),u(e,r,o);for(let e=0;e<i.length;e+=1)i[e].m(r,null);s=!0},p(e,n){8&n&&(c=e[3],U(),l=J(l,n,d,1,e,c,o,t,I,en,null,Wt),H()),51&n&&(m=e[1],U(),i=J(i,n,h,1,e,m,a,r,I,tn,null,Ft),H())},i(e){if(!s){for(let e=0;e<c.length;e+=1)D(l[e]);for(let e=0;e<m.length;e+=1)D(i[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)E(l[e]);for(let e=0;e<i.length;e+=1)E(i[e]);s=!1},d(e){e&&p(t);for(let e=0;e<l.length;e+=1)l[e].d();e&&p(n),e&&p(r);for(let e=0;e<i.length;e+=1)i[e].d()}}}function Zt(t){let n;return{c(){n=f("p"),n.textContent="Loading qualifier lobbies...",y(n,"class","lobbies svelte-1pt4gyt")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function en(e,t){let n,r,s;return r=new It({props:{map:t[11]}}),{key:e,first:null,c(){n=h(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Y(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.map=t[11]),r.$set(s)},i(e){s||(D(r.$$.fragment,e),s=!0)},o(e){E(r.$$.fragment,e),s=!1},d(e){e&&p(n),F(r,e)}}}function tn(e,t){let n,r,s;return r=new Et({props:{lobby:t[8],toggleAvailable:t[0]?.referee&&t[4](t[8]),setSchedule:t[0]?.player&&!t[0]?.qualifier?.link&&t[5](t[8])}}),{key:e,first:null,c(){n=h(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Y(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.lobby=t[8]),3&n&&(s.toggleAvailable=t[0]?.referee&&t[4](t[8])),3&n&&(s.setSchedule=t[0]?.player&&!t[0]?.qualifier?.link&&t[5](t[8])),r.$set(s)},i(e){s||(D(r.$$.fragment,e),s=!0)},o(e){E(r.$$.fragment,e),s=!1},d(e){e&&p(n),F(r,e)}}}function nn(e){let t,n,r,s,l,o,i,a=e[0]?.player&&Qt(e);const c=[Zt,Vt],d=[];function m(e,t){return e[1]?1:0}return s=m(e),l=d[s]=c[s](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers">Player ranking</a>',n=g(),a&&a.c(),r=g(),l.c(),o=h(),y(t,"class","links svelte-1pt4gyt")},m(e,l){u(e,t,l),u(e,n,l),a&&a.m(e,l),u(e,r,l),d[s].m(e,l),u(e,o,l),i=!0},p(e,[t]){e[0]?.player?a?a.p(e,t):(a=Qt(e),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null);let n=s;s=m(e),s===n?d[s].p(e,t):(U(),E(d[n],1,1,(()=>{d[n]=null})),H(),l=d[s],l?l.p(e,t):(l=d[s]=c[s](e),l.c()),D(l,1),l.m(o.parentNode,o))},i(e){i||(D(l),i=!0)},o(e){E(l),i=!1},d(e){e&&p(t),e&&p(n),a&&a.d(e),e&&p(r),d[s].d(e),e&&p(o)}}}function rn(e,t,n){let r,s,l,i;o(e,Jt,(e=>n(1,s=e))),o(e,ee,(e=>n(0,l=e))),o(e,Bt,(e=>n(3,i=e)));var a,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function o(e){try{a(r.next(e))}catch(e){l(e)}}function i(e){try{a(r.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}a((r=r.apply(e,t||[])).next())}))};s||(async()=>{const{data:e}=await ce("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "qualifiers"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  qualifier_lobbies(sort: "time") {\n    name\n    link\n    players {\n      id\n      username\n    }\n    time\n    referee {\n      id\n      username\n    }\n    available_referees {\n      rel_id: id\n      referee: referees_id {\n        id\n        username\n      }\n    }\n  }\n}'})});Jt.set(e.qualifier_lobbies),Bt.set(e.maps)})();return e.$$.update=()=>{65&e.$$.dirty&&n(2,r=new Date(null===n(6,a=null==l?void 0:l.qualifier)||void 0===a?void 0:a.time))},[l,s,r,i,e=>()=>c(void 0,void 0,void 0,(function*(){const t=e.available_referees.find((({referee:e})=>e.id==l.id)),n=yield ce(`/items/qualifier_lobbies/${e.name}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({available_referees:t?{delete:[t.rel_id]}:{create:[{referees_id:l.id}]}})});n.errors?alert(n.errors[0].message):Jt.set(s.map((r=>(r.name!=e.name||(t?r.available_referees=r.available_referees.filter((({referee:e})=>e.id!=l.id)):r.available_referees.push({rel_id:n.data.available_referees.pop(),referee:l.referee})),r))))})),e=>()=>c(void 0,void 0,void 0,(function*(){const t=yield ce("/custom/qualifiers/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qualifier:e.name})});t.errors&&alert(t.errors[0].message),location.reload()})),a]}class sn extends K{constructor(e){super(),Q(this,e,rn,nn,l,{})}}function ln(t){let n,r,s,l,o,i,a,d,h,$,w,k,x,S,_,T,q,C,M,N,O,j,z,L,P,A,U,H,D,E,G,R,I,J,B,Y,F=t[1].position+"",W=t[0].username+"",Q=t[1].score+"",K=t[3].toFixed(2)+"",X=t[1].combo+"",V=t[1].c320+"",Z=t[1].c300+"",ee=t[1].c200+"",te=t[1].c100+"",ne=t[1].c50+"",re=t[1].c0+"";return{c(){n=f("div"),r=f("div"),s=m(F),l=m("."),o=g(),i=f("div"),a=f("a"),d=m(W),$=g(),w=f("div"),k=m(Q),x=g(),S=f("div"),_=m(K),T=m("%, x"),q=m(X),C=g(),M=f("div"),N=f("div"),O=m(V),j=g(),z=f("div"),L=m(Z),P=g(),A=f("div"),U=m(ee),H=g(),D=f("div"),E=m(te),G=g(),R=f("div"),I=m(ne),J=g(),B=f("div"),Y=m(re),y(r,"class","position svelte-1m6wbdm"),y(a,"href",h=`https://osu.ppy.sh/users/${t[0].id}`),y(a,"target","_blank"),y(a,"rel","noopener"),y(i,"class","player svelte-1m6wbdm"),y(S,"class","details svelte-1m6wbdm"),y(w,"class","value svelte-1m6wbdm"),y(N,"class","judgement svelte-1m6wbdm"),y(z,"class","judgement svelte-1m6wbdm"),y(A,"class","judgement svelte-1m6wbdm"),y(D,"class","judgement svelte-1m6wbdm"),y(R,"class","judgement svelte-1m6wbdm"),y(B,"class","judgement svelte-1m6wbdm"),y(M,"class","judgements svelte-1m6wbdm"),y(n,"class","score svelte-1m6wbdm"),b(n,"me",t[2]?.id==t[0].id)},m(e,t){u(e,n,t),c(n,r),c(r,s),c(r,l),c(n,o),c(n,i),c(i,a),c(a,d),c(n,$),c(n,w),c(w,k),c(w,x),c(w,S),c(S,_),c(S,T),c(S,q),c(n,C),c(n,M),c(M,N),c(N,O),c(M,j),c(M,z),c(z,L),c(M,P),c(M,A),c(A,U),c(M,H),c(M,D),c(D,E),c(M,G),c(M,R),c(R,I),c(M,J),c(M,B),c(B,Y)},p(e,[t]){2&t&&F!==(F=e[1].position+"")&&v(s,F),1&t&&W!==(W=e[0].username+"")&&v(d,W),1&t&&h!==(h=`https://osu.ppy.sh/users/${e[0].id}`)&&y(a,"href",h),2&t&&Q!==(Q=e[1].score+"")&&v(k,Q),2&t&&X!==(X=e[1].combo+"")&&v(q,X),2&t&&V!==(V=e[1].c320+"")&&v(O,V),2&t&&Z!==(Z=e[1].c300+"")&&v(L,Z),2&t&&ee!==(ee=e[1].c200+"")&&v(U,ee),2&t&&te!==(te=e[1].c100+"")&&v(E,te),2&t&&ne!==(ne=e[1].c50+"")&&v(I,ne),2&t&&re!==(re=e[1].c0+"")&&v(Y,re),5&t&&b(n,"me",e[2]?.id==e[0].id)},i:e,o:e,d(e){e&&p(n)}}}function on(e,t,n){let r;o(e,ee,(e=>n(2,r=e)));let{player:s}=t,{score:l}=t;const i=l.c320+l.c300+l.c200+l.c100+l.c50+l.c0,a=(305*l.c320+300*l.c300+200*l.c200+100*l.c100+50*l.c50)/(3.05*i);return e.$$set=e=>{"player"in e&&n(0,s=e.player),"score"in e&&n(1,l=e.score)},[s,l,r,a]}class an extends K{constructor(e){super(),Q(this,e,on,ln,l,{player:0,score:1})}}const cn=V(null),un=V(null),pn=V(null),dn=V(null),fn=V(null),mn=new Set(["9950122","2735466","18025458","15255368","15286154","13608389","17422924","17957861","9895270","5101133","13455818","19365665","6335238","2383766","13984214","8916149"]),gn=async e=>{var t,n;const r=e.filter((e=>!mn.has(e.id))),s=e.filter((e=>mn.has(e.id))),{data:l}=await ce("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "qualifiers"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  qualifier_scores(sort: "-score", limit: -1) {\n    player {\n      id\n    }\n    map {\n      id\n    }\n    lobby {\n      name\n      link\n    }\n    score\n    combo\n    c320\n    c300\n    c200\n    c100\n    c50\n    c0\n  }\n}'})}),o=e=>[e.id,Object.assign(Object.assign({},e),{players:new Map})],i=new Map(l.maps.map(o)),a=new Map(l.maps.map(o)),c=t=>[t.id,Object.assign(Object.assign({},t),{totalScore:0,sumOfPositions:e.length*l.maps.length,mapScores:new Map(l.maps.map((e=>[e.id,[]])))})],u=new Map(r.map(c)),p=new Map(s.map(c));l.qualifier_scores.forEach((e=>{var t,n;let r;if(r=u.get(null===(t=e.player)||void 0===t?void 0:t.id)){if(!i.has(e.map.id))return;r.mapScores.get(e.map.id).push(e);const t=i.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,r)}else if(r=p.get(null===(n=e.player)||void 0===n?void 0:n.id)){if(!a.has(e.map.id))return;r.mapScores.get(e.map.id).push(e);const t=a.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,r)}}));for(const e of i.values()){const n=Array.from(e.players.values());for(let r=0;r<n.length;++r){const s=n[r].mapScores.get(e.id)[0],l=null===(t=n[r-1])||void 0===t?void 0:t.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}for(const e of a.values()){const t=Array.from(e.players.values());for(let r=0;r<t.length;++r){const s=t[r].mapScores.get(e.id)[0],l=null===(n=t[r-1])||void 0===n?void 0:n.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}for(const t of u.values())t.sumOfPositions=l.maps.reduce(((n,r)=>{var s,l;return t.totalScore+=null===(s=t.mapScores.get(r.id)[0])||void 0===s?void 0:s.score,n+((null===(l=t.mapScores.get(r.id)[0])||void 0===l?void 0:l.position)||e.length)}),0);for(const t of p.values())t.sumOfPositions=l.maps.reduce(((n,r)=>{var s,l;return t.totalScore+=null===(s=t.mapScores.get(r.id)[0])||void 0===s?void 0:s.score,n+((null===(l=t.mapScores.get(r.id)[0])||void 0===l?void 0:l.position)||e.length)}),0);const d=(e,t)=>e.sumOfPositions==t.sumOfPositions?e.totalScore<t.totalScore?1:-1:e.sumOfPositions<t.sumOfPositions?-1:1,f=Array.from(u.values()).sort(d),m=Array.from(p.values()).sort(d);f.forEach(((e,t)=>e.position=t+1)),m.forEach(((e,t)=>e.position=t+1)),cn.set(Array.from(i.values())),pn.set(Array.from(a.values())),un.set(f),dn.set(m)},hn=(e,t)=>{const n=e.findIndex((e=>e.id==(null==t?void 0:t.id)));n>-1&&fn.set(Object.assign(Object.assign({},e[n]),{position:n+1}))},{Map:$n}=G;function yn(e,t,n){const r=e.slice();return r[8]=t[n],r}function vn(e,t,n){const r=e.slice();return r[11]=t[n],r}function bn(e){let t,n,r=[],s=new $n,l=e[0];const o=e=>e[8].id;for(let t=0;t<l.length;t+=1){let n=yn(e,l,t),i=o(n);s.set(i,r[t]=_n(i,n))}return{c(){t=f("p");for(let e=0;e<r.length;e+=1)r[e].c();y(t,"class","maps svelte-1pnvguw")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){15&n&&(l=e[0],U(),r=J(r,n,o,1,e,l,s,t,I,_n,null,yn),H())},i(e){if(!n){for(let e=0;e<l.length;e+=1)D(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)E(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function wn(t){let n;return{c(){n=f("p"),n.textContent="Loading qualifier scores...",y(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function kn(e){let t,n,r;return n=new an({props:{player:e[1],score:e[1].mapScores.get(e[8].id)[0]}}),{c(){t=f("div"),B(n.$$.fragment),y(t,"class","my-qualifier svelte-1pnvguw")},m(e,s){u(e,t,s),Y(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.player=e[1]),3&t&&(r.score=e[1].mapScores.get(e[8].id)[0]),n.$set(r)},i(e){r||(D(n.$$.fragment,e),r=!0)},o(e){E(n.$$.fragment,e),r=!1},d(e){e&&p(t),F(n)}}}function xn(e){let t,n,r=[],s=new $n,l=Array.from(e[8].players.values());const o=e=>e[11].id;for(let t=0;t<l.length;t+=1){let n=vn(e,l,t),i=o(n);s.set(i,r[t]=Sn(i,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=h()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);u(e,t,s),n=!0},p(e,n){1&n&&(l=Array.from(e[8].players.values()),U(),r=J(r,n,o,1,e,l,s,t.parentNode,I,Sn,t,vn),H())},i(e){if(!n){for(let e=0;e<l.length;e+=1)D(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)E(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&p(t)}}}function Sn(e,t){let n,r,s;return r=new an({props:{player:t[11],score:t[11].mapScores.get(t[8].id)[0]}}),{key:e,first:null,c(){n=h(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Y(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.player=t[11]),1&n&&(s.score=t[11].mapScores.get(t[8].id)[0]),r.$set(s)},i(e){s||(D(r.$$.fragment,e),s=!0)},o(e){E(r.$$.fragment,e),s=!1},d(e){e&&p(n),F(r,e)}}}function _n(e,t){let n,r,s,l,o,i,a,d,b,w,k,x,S=t[2][t[8].id]?"Show":"Hide";r=new It({props:{map:t[8]}});let _=t[1]&&kn(t);function T(){return t[7](t[8])}let q=!t[2][t[8].id]&&xn(t);return{key:e,first:null,c(){n=h(),B(r.$$.fragment),s=g(),_&&_.c(),l=g(),o=f("a"),i=m(S),a=m(" scores"),d=g(),q&&q.c(),b=h(),y(o,"href","javascript:void(0)"),this.first=n},m(e,t){u(e,n,t),Y(r,e,t),u(e,s,t),_&&_.m(e,t),u(e,l,t),u(e,o,t),c(o,i),c(o,a),u(e,d,t),q&&q.m(e,t),u(e,b,t),w=!0,k||(x=$(o,"click",T),k=!0)},p(e,n){t=e;const s={};1&n&&(s.map=t[8]),r.$set(s),t[1]?_?(_.p(t,n),2&n&&D(_,1)):(_=kn(t),_.c(),D(_,1),_.m(l.parentNode,l)):_&&(U(),E(_,1,1,(()=>{_=null})),H()),(!w||5&n)&&S!==(S=t[2][t[8].id]?"Show":"Hide")&&v(i,S),t[2][t[8].id]?q&&(U(),E(q,1,1,(()=>{q=null})),H()):q?(q.p(t,n),5&n&&D(q,1)):(q=xn(t),q.c(),D(q,1),q.m(b.parentNode,b))},i(e){w||(D(r.$$.fragment,e),D(_),D(q),w=!0)},o(e){E(r.$$.fragment,e),E(_),E(q),w=!1},d(e){e&&p(n),F(r,e),e&&p(s),_&&_.d(e),e&&p(l),e&&p(o),e&&p(d),q&&q.d(e),e&&p(b),k=!1,x()}}}function Tn(e){let t,n,r,s,l,o;const i=[wn,bn],a=[];function c(e,t){return e[0]?1:0}return r=c(e),s=a[r]=i[r](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers">Player rankings</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!elite!maps">Elite players</a>',n=g(),s.c(),l=h(),y(t,"class","links svelte-1pnvguw")},m(e,s){u(e,t,s),u(e,n,s),a[r].m(e,s),u(e,l,s),o=!0},p(e,[t]){let n=r;r=c(e),r===n?a[r].p(e,t):(U(),E(a[n],1,1,(()=>{a[n]=null})),H(),s=a[r],s?s.p(e,t):(s=a[r]=i[r](e),s.c()),D(s,1),s.m(l.parentNode,l))},i(e){o||(D(s),o=!0)},o(e){E(s),o=!1},d(e){e&&p(t),e&&p(n),a[r].d(e),e&&p(l)}}}function qn(e,t,n){let r,s,l,i,a;o(e,cn,(e=>n(0,r=e))),o(e,te,(e=>n(4,s=e))),o(e,fn,(e=>n(1,l=e))),o(e,un,(e=>n(5,i=e))),o(e,ee,(e=>n(6,a=e)));let c={};const u=e=>{n(2,c=Object.assign(Object.assign({},c),{[e.id]:!c[e.id]}))};return e.$$.update=()=>{17&e.$$.dirty&&!r&&s&&gn(s),98&e.$$.dirty&&!l&&i&&a&&hn(i,a)},[r,l,c,u,s,i,a,e=>u(e)]}class Cn extends K{constructor(e){super(),Q(this,e,qn,Tn,l,{})}}function Mn(e,t,n){const r=e.slice();return r[4]=t[n],r}function Nn(e,t){let n,r,s,l,o,i,a=(t[1].mapScores.get(t[4].id)[0]?.score||"N/A")+"",d=(t[1].mapScores.get(t[4].id)[0]?.position||"-")+"";return{key:e,first:null,c(){n=f("div"),r=m(a),s=f("br"),l=m("\r\n      ("),o=m(d),i=m(")\r\n    "),y(n,"class","score svelte-nyb024"),this.first=n},m(e,t){u(e,n,t),c(n,r),c(n,s),c(n,l),c(n,o),c(n,i)},p(e,n){t=e,6&n&&a!==(a=(t[1].mapScores.get(t[4].id)[0]?.score||"N/A")+"")&&v(r,a),6&n&&d!==(d=(t[1].mapScores.get(t[4].id)[0]?.position||"-")+"")&&v(o,d)},d(e){e&&p(n)}}}function On(t){let n,r,s,l,o,i,a,d,h,$,b,w,k,x,S,_,T,q,C,M,N,O,j,z,L,P,A,U=t[1].username+"",H=t[1].ranking+"",D=t[1].country+"",E=t[2].map(t[3]).join(" + ")+"",G=t[1].sumOfPositions+"",I=t[1].totalScore+"",B=[],Y=new Map,F=t[2];const W=e=>e[4].id;for(let e=0;e<F.length;e+=1){let n=Mn(t,F,e),r=W(n);Y.set(r,B[e]=Nn(r,n))}return{c(){n=f("a"),r=f("div"),s=f("img"),o=g(),i=f("div"),a=m(t[0]),d=m(". "),h=m(U),$=m(" (#"),b=m(H),w=m(")\r\n    "),k=f("div"),x=m(D),S=g(),_=f("div"),T=m(E),q=m("\r\n    =\r\n    "),C=f("b"),M=m(G),N=g(),O=f("div"),j=m("Total score: "),z=m(I),P=g(),A=f("div");for(let e=0;e<B.length;e+=1)B[e].c();y(s,"class","avatar svelte-nyb024"),s.src!==(l=t[1].avatar)&&y(s,"src",l),y(s,"alt",""),y(r,"class","avatar svelte-nyb024"),y(k,"class","country svelte-nyb024"),y(i,"class","name svelte-nyb024"),y(O,"class","total-score svelte-nyb024"),y(_,"class","positions svelte-nyb024"),y(n,"class","player svelte-nyb024"),y(n,"href",L=`https://osu.ppy.sh/users/${t[1].id}`),y(n,"target","_blank"),y(n,"rel","noopener"),y(A,"class","scores svelte-nyb024")},m(e,t){u(e,n,t),c(n,r),c(r,s),c(n,o),c(n,i),c(i,a),c(i,d),c(i,h),c(i,$),c(i,b),c(i,w),c(i,k),c(k,x),c(n,S),c(n,_),c(_,T),c(_,q),c(_,C),c(C,M),c(_,N),c(_,O),c(O,j),c(O,z),u(e,P,t),u(e,A,t);for(let e=0;e<B.length;e+=1)B[e].m(A,null)},p(e,[t]){2&t&&s.src!==(l=e[1].avatar)&&y(s,"src",l),1&t&&v(a,e[0]),2&t&&U!==(U=e[1].username+"")&&v(h,U),2&t&&H!==(H=e[1].ranking+"")&&v(b,H),2&t&&D!==(D=e[1].country+"")&&v(x,D),6&t&&E!==(E=e[2].map(e[3]).join(" + ")+"")&&v(T,E),2&t&&G!==(G=e[1].sumOfPositions+"")&&v(M,G),2&t&&I!==(I=e[1].totalScore+"")&&v(z,I),2&t&&L!==(L=`https://osu.ppy.sh/users/${e[1].id}`)&&y(n,"href",L),6&t&&(F=e[2],B=J(B,t,W,1,e,F,Y,A,R,Nn,null,Mn))},i:e,o:e,d(e){e&&p(n),e&&p(P),e&&p(A);for(let e=0;e<B.length;e+=1)B[e].d()}}}function jn(e,t,n){let{position:r}=t,{player:s}=t,{maps:l}=t;return e.$$set=e=>{"position"in e&&n(0,r=e.position),"player"in e&&n(1,s=e.player),"maps"in e&&n(2,l=e.maps)},[r,s,l,e=>s.mapScores.get(e.id)[0]?.position||"N/A"]}class zn extends K{constructor(e){super(),Q(this,e,jn,On,l,{position:0,player:1,maps:2})}}function Ln(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function Pn(e){let t,n,r,s,l;return s=new zn({props:{position:e[1].position,player:e[1],maps:e[2]}}),{c(){t=f("div"),n=f("h1"),n.textContent="Your placement",r=g(),B(s.$$.fragment),y(t,"class","my-qualifier svelte-buidrs")},m(e,o){u(e,t,o),c(t,n),c(t,r),Y(s,t,null),l=!0},p(e,t){const n={};2&t&&(n.position=e[1].position),2&t&&(n.player=e[1]),4&t&&(n.maps=e[2]),s.$set(n)},i(e){l||(D(s.$$.fragment,e),l=!0)},o(e){E(s.$$.fragment,e),l=!1},d(e){e&&p(t),F(s)}}}function An(e){let t,n,r=[],s=new Map,l=e[0];const o=e=>e[5].id;for(let t=0;t<l.length;t+=1){let n=Ln(e,l,t),i=o(n);s.set(i,r[t]=In(i,n))}return{c(){t=f("div");for(let e=0;e<r.length;e+=1)r[e].c();y(t,"class","players svelte-buidrs")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){5&n&&(l=e[0],U(),r=J(r,n,o,1,e,l,s,t,I,In,null,Ln),H())},i(e){if(!n){for(let e=0;e<l.length;e+=1)D(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)E(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Un(t){let n;return{c(){n=f("p"),n.textContent="Loading qualifier scores...",y(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function Hn(e){let t;return{c(){t=f("h1"),t.textContent="Not qualified"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Dn(e){let t;return{c(){t=f("h1"),t.textContent="Bottom seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function En(e){let t;return{c(){t=f("h1"),t.textContent="Low seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Gn(e){let t;return{c(){t=f("h1"),t.textContent="High seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Rn(e){let t;return{c(){t=f("h1"),t.textContent="Top seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function In(e,t){let n,r,s,l;function o(e,t){return 0==e[7]?Rn:32==e[7]?Gn:64==e[7]?En:96==e[7]?Dn:128==e[7]?Hn:void 0}let i=o(t),a=i&&i(t);return s=new zn({props:{position:t[7]+1,player:t[5],maps:t[2]}}),{key:e,first:null,c(){n=h(),a&&a.c(),r=g(),B(s.$$.fragment),this.first=n},m(e,t){u(e,n,t),a&&a.m(e,t),u(e,r,t),Y(s,e,t),l=!0},p(e,n){i!==(i=o(t=e))&&(a&&a.d(1),a=i&&i(t),a&&(a.c(),a.m(r.parentNode,r)));const l={};1&n&&(l.position=t[7]+1),1&n&&(l.player=t[5]),4&n&&(l.maps=t[2]),s.$set(l)},i(e){l||(D(s.$$.fragment,e),l=!0)},o(e){E(s.$$.fragment,e),l=!1},d(e){e&&p(n),a&&a.d(e),e&&p(r),F(s,e)}}}function Jn(e){let t,n,r,s,l,o,i,a=e[1]&&Pn(e);const c=[Un,An],d=[];function m(e,t){return e[0]?1:0}return s=m(e),l=d[s]=c[s](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!elite">Elite players</a>',n=g(),a&&a.c(),r=g(),l.c(),o=h(),y(t,"class","links svelte-buidrs")},m(e,l){u(e,t,l),u(e,n,l),a&&a.m(e,l),u(e,r,l),d[s].m(e,l),u(e,o,l),i=!0},p(e,[t]){e[1]?a?(a.p(e,t),2&t&&D(a,1)):(a=Pn(e),a.c(),D(a,1),a.m(r.parentNode,r)):a&&(U(),E(a,1,1,(()=>{a=null})),H());let n=s;s=m(e),s===n?d[s].p(e,t):(U(),E(d[n],1,1,(()=>{d[n]=null})),H(),l=d[s],l?l.p(e,t):(l=d[s]=c[s](e),l.c()),D(l,1),l.m(o.parentNode,o))},i(e){i||(D(a),D(l),i=!0)},o(e){E(a),E(l),i=!1},d(e){e&&p(t),e&&p(n),a&&a.d(e),e&&p(r),d[s].d(e),e&&p(o)}}}function Bn(e,t,n){let r,s,l,i,a;return o(e,un,(e=>n(0,r=e))),o(e,te,(e=>n(3,s=e))),o(e,fn,(e=>n(1,l=e))),o(e,ee,(e=>n(4,i=e))),o(e,cn,(e=>n(2,a=e))),e.$$.update=()=>{9&e.$$.dirty&&!r&&s&&gn(s),19&e.$$.dirty&&!l&&r&&i&&hn(r,i)},[r,l,a,s,i]}class Yn extends K{constructor(e){super(),Q(this,e,Bn,Jn,l,{})}}const{Map:Fn}=G;function Wn(e,t,n){const r=e.slice();return r[8]=t[n],r}function Qn(e,t,n){const r=e.slice();return r[11]=t[n],r}function Kn(e){let t,n,r=[],s=new Fn,l=e[0];const o=e=>e[8].id;for(let t=0;t<l.length;t+=1){let n=Wn(e,l,t),i=o(n);s.set(i,r[t]=tr(i,n))}return{c(){t=f("p");for(let e=0;e<r.length;e+=1)r[e].c();y(t,"class","maps svelte-1pnvguw")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){15&n&&(l=e[0],U(),r=J(r,n,o,1,e,l,s,t,I,tr,null,Wn),H())},i(e){if(!n){for(let e=0;e<l.length;e+=1)D(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)E(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Xn(t){let n;return{c(){n=f("p"),n.textContent="Loading qualifier scores...",y(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function Vn(e){let t,n,r;return n=new an({props:{player:e[1],score:e[1].mapScores.get(e[8].id)[0]}}),{c(){t=f("div"),B(n.$$.fragment),y(t,"class","my-qualifier svelte-1pnvguw")},m(e,s){u(e,t,s),Y(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.player=e[1]),3&t&&(r.score=e[1].mapScores.get(e[8].id)[0]),n.$set(r)},i(e){r||(D(n.$$.fragment,e),r=!0)},o(e){E(n.$$.fragment,e),r=!1},d(e){e&&p(t),F(n)}}}function Zn(e){let t,n,r=[],s=new Fn,l=Array.from(e[8].players.values());const o=e=>e[11].id;for(let t=0;t<l.length;t+=1){let n=Qn(e,l,t),i=o(n);s.set(i,r[t]=er(i,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=h()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);u(e,t,s),n=!0},p(e,n){1&n&&(l=Array.from(e[8].players.values()),U(),r=J(r,n,o,1,e,l,s,t.parentNode,I,er,t,Qn),H())},i(e){if(!n){for(let e=0;e<l.length;e+=1)D(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)E(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&p(t)}}}function er(e,t){let n,r,s;return r=new an({props:{player:t[11],score:t[11].mapScores.get(t[8].id)[0]}}),{key:e,first:null,c(){n=h(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Y(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.player=t[11]),1&n&&(s.score=t[11].mapScores.get(t[8].id)[0]),r.$set(s)},i(e){s||(D(r.$$.fragment,e),s=!0)},o(e){E(r.$$.fragment,e),s=!1},d(e){e&&p(n),F(r,e)}}}function tr(e,t){let n,r,s,l,o,i,a,d,b,w,k,x,S=t[2][t[8].id]?"Show":"Hide";r=new It({props:{map:t[8]}});let _=t[1]&&Vn(t);function T(){return t[7](t[8])}let q=!t[2][t[8].id]&&Zn(t);return{key:e,first:null,c(){n=h(),B(r.$$.fragment),s=g(),_&&_.c(),l=g(),o=f("a"),i=m(S),a=m(" scores"),d=g(),q&&q.c(),b=h(),y(o,"href","javascript:void(0)"),this.first=n},m(e,t){u(e,n,t),Y(r,e,t),u(e,s,t),_&&_.m(e,t),u(e,l,t),u(e,o,t),c(o,i),c(o,a),u(e,d,t),q&&q.m(e,t),u(e,b,t),w=!0,k||(x=$(o,"click",T),k=!0)},p(e,n){t=e;const s={};1&n&&(s.map=t[8]),r.$set(s),t[1]?_?(_.p(t,n),2&n&&D(_,1)):(_=Vn(t),_.c(),D(_,1),_.m(l.parentNode,l)):_&&(U(),E(_,1,1,(()=>{_=null})),H()),(!w||5&n)&&S!==(S=t[2][t[8].id]?"Show":"Hide")&&v(i,S),t[2][t[8].id]?q&&(U(),E(q,1,1,(()=>{q=null})),H()):q?(q.p(t,n),5&n&&D(q,1)):(q=Zn(t),q.c(),D(q,1),q.m(b.parentNode,b))},i(e){w||(D(r.$$.fragment,e),D(_),D(q),w=!0)},o(e){E(r.$$.fragment,e),E(_),E(q),w=!1},d(e){e&&p(n),F(r,e),e&&p(s),_&&_.d(e),e&&p(l),e&&p(o),e&&p(d),q&&q.d(e),e&&p(b),k=!1,x()}}}function nr(e){let t,n,r,s,l,o;const i=[Xn,Kn],a=[];function c(e,t){return e[0]?1:0}return r=c(e),s=a[r]=i[r](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers">Player rankings</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!maps">Regular players</a>',n=g(),s.c(),l=h(),y(t,"class","links svelte-1pnvguw")},m(e,s){u(e,t,s),u(e,n,s),a[r].m(e,s),u(e,l,s),o=!0},p(e,[t]){let n=r;r=c(e),r===n?a[r].p(e,t):(U(),E(a[n],1,1,(()=>{a[n]=null})),H(),s=a[r],s?s.p(e,t):(s=a[r]=i[r](e),s.c()),D(s,1),s.m(l.parentNode,l))},i(e){o||(D(s),o=!0)},o(e){E(s),o=!1},d(e){e&&p(t),e&&p(n),a[r].d(e),e&&p(l)}}}function rr(e,t,n){let r,s,l,i,a;o(e,pn,(e=>n(0,r=e))),o(e,te,(e=>n(4,s=e))),o(e,fn,(e=>n(1,l=e))),o(e,dn,(e=>n(5,i=e))),o(e,ee,(e=>n(6,a=e)));let c={};const u=e=>{n(2,c=Object.assign(Object.assign({},c),{[e.id]:!c[e.id]}))};return e.$$.update=()=>{17&e.$$.dirty&&!r&&s&&gn(s),98&e.$$.dirty&&!l&&i&&a&&hn(i,a)},[r,l,c,u,s,i,a,e=>u(e)]}class sr extends K{constructor(e){super(),Q(this,e,rr,nr,l,{})}}function lr(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function or(e){let t,n,r,s,l;return s=new zn({props:{position:e[1].position,player:e[1],maps:e[2]}}),{c(){t=f("div"),n=f("h1"),n.textContent="Your placement",r=g(),B(s.$$.fragment),y(t,"class","my-qualifier svelte-buidrs")},m(e,o){u(e,t,o),c(t,n),c(t,r),Y(s,t,null),l=!0},p(e,t){const n={};2&t&&(n.position=e[1].position),2&t&&(n.player=e[1]),4&t&&(n.maps=e[2]),s.$set(n)},i(e){l||(D(s.$$.fragment,e),l=!0)},o(e){E(s.$$.fragment,e),l=!1},d(e){e&&p(t),F(s)}}}function ir(e){let t,n,r,s,l=[],o=new Map,i=e[0];const a=e=>e[5].id;for(let t=0;t<i.length;t+=1){let n=lr(e,i,t),r=a(n);o.set(r,l[t]=cr(r,n))}return{c(){t=f("div"),n=f("h1"),n.textContent="Elite players",r=g();for(let e=0;e<l.length;e+=1)l[e].c();y(t,"class","players svelte-buidrs")},m(e,o){u(e,t,o),c(t,n),c(t,r);for(let e=0;e<l.length;e+=1)l[e].m(t,null);s=!0},p(e,n){5&n&&(i=e[0],U(),l=J(l,n,a,1,e,i,o,t,I,cr,null,lr),H())},i(e){if(!s){for(let e=0;e<i.length;e+=1)D(l[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)E(l[e]);s=!1},d(e){e&&p(t);for(let e=0;e<l.length;e+=1)l[e].d()}}}function ar(t){let n;return{c(){n=f("p"),n.textContent="Loading qualifier scores...",y(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function cr(e,t){let n,r,s;return r=new zn({props:{position:t[7]+1,player:t[5],maps:t[2]}}),{key:e,first:null,c(){n=h(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Y(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.position=t[7]+1),1&n&&(s.player=t[5]),4&n&&(s.maps=t[2]),r.$set(s)},i(e){s||(D(r.$$.fragment,e),s=!0)},o(e){E(r.$$.fragment,e),s=!1},d(e){e&&p(n),F(r,e)}}}function ur(e){let t,n,r,s,l,o,i,a=e[1]&&or(e);const c=[ar,ir],d=[];function m(e,t){return e[0]?1:0}return s=m(e),l=d[s]=c[s](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers">Regular players</a>',n=g(),a&&a.c(),r=g(),l.c(),o=h(),y(t,"class","links svelte-buidrs")},m(e,l){u(e,t,l),u(e,n,l),a&&a.m(e,l),u(e,r,l),d[s].m(e,l),u(e,o,l),i=!0},p(e,[t]){e[1]?a?(a.p(e,t),2&t&&D(a,1)):(a=or(e),a.c(),D(a,1),a.m(r.parentNode,r)):a&&(U(),E(a,1,1,(()=>{a=null})),H());let n=s;s=m(e),s===n?d[s].p(e,t):(U(),E(d[n],1,1,(()=>{d[n]=null})),H(),l=d[s],l?l.p(e,t):(l=d[s]=c[s](e),l.c()),D(l,1),l.m(o.parentNode,o))},i(e){i||(D(a),D(l),i=!0)},o(e){E(a),E(l),i=!1},d(e){e&&p(t),e&&p(n),a&&a.d(e),e&&p(r),d[s].d(e),e&&p(o)}}}function pr(e,t,n){let r,s,l,i,a;return o(e,dn,(e=>n(0,r=e))),o(e,te,(e=>n(3,s=e))),o(e,fn,(e=>n(1,l=e))),o(e,ee,(e=>n(4,i=e))),o(e,pn,(e=>n(2,a=e))),e.$$.update=()=>{9&e.$$.dirty&&!r&&s&&gn(s),19&e.$$.dirty&&!l&&r&&i&&hn(r,i)},[r,l,a,s,i]}class dr extends K{constructor(e){super(),Q(this,e,pr,ur,l,{})}}function fr(e,t,n){const r=e.slice();return r[5]=t[n].commentator,r[7]=n,r}function mr(e){let t,n,r,s,l=e[3].group.id+"",o=e[0].id+"";return{c(){t=m("G"),n=m(l),r=m("-"),s=m(o)},m(e,l){u(e,t,l),u(e,n,l),u(e,r,l),u(e,s,l)},p(e,t){1&t&&o!==(o=e[0].id+"")&&v(s,o)},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s)}}}function gr(e){let t,n,r,s,l,o,i=e[3].group.id+"",a=e[0].id+"";return{c(){t=f("a"),n=m("G"),r=m(i),s=m("-"),l=m(a),y(t,"href",o=e[0].link),y(t,"target","_blank"),y(t,"rel","noopener")},m(e,o){u(e,t,o),c(t,n),c(t,r),c(t,s),c(t,l)},p(e,n){1&n&&a!==(a=e[0].id+"")&&v(l,a),1&n&&o!==(o=e[0].link)&&y(t,"href",o)},d(e){e&&p(t)}}}function hr(t){let n;return{c(){n=m("To be defined\r\n      ")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function $r(e){let t,n,r,s,l=e[0].referee.username+"";return{c(){t=f("a"),n=m(l),s=g(),y(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){1&s&&l!==(l=e[0].referee.username+"")&&v(n,l),1&s&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&y(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function yr(t){let n;return{c(){n=m("To be defined\r\n      ")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function vr(e){let t,n,r,s,l=e[0].streamer.username+"";return{c(){t=f("a"),n=m(l),s=g(),y(t,"href",r=`https://osu.ppy.sh/users/${e[0].streamer.id}`)},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){1&s&&l!==(l=e[0].streamer.username+"")&&v(n,l),1&s&&r!==(r=`https://osu.ppy.sh/users/${e[0].streamer.id}`)&&y(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function br(t){let n;return{c(){n=m("To be defined")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function wr(e){let t,n=e[0].commentators,r=[];for(let t=0;t<n.length;t+=1)r[t]=kr(fr(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=h()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);u(e,t,n)},p(e,s){if(1&s){let l;for(n=e[0].commentators,l=0;l<n.length;l+=1){const o=fr(e,n,l);r[l]?r[l].p(o,s):(r[l]=kr(o),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(e){d(r,e),e&&p(t)}}}function kr(e){let t,n,r,s,l=e[5].username+"",o=e[7]&&function(e){let t;return{c(){t=m(",")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}();return{c(){o&&o.c(),t=g(),n=f("a"),r=m(l),y(n,"href",s=`https://osu.ppy.sh/users/${e[5].id}`)},m(e,s){o&&o.m(e,s),u(e,t,s),u(e,n,s),c(n,r)},p(e,t){1&t&&l!==(l=e[5].username+"")&&v(r,l),1&t&&s!==(s=`https://osu.ppy.sh/users/${e[5].id}`)&&y(n,"href",s)},d(e){o&&o.d(e),e&&p(t),e&&p(n)}}}function xr(t){let n,r,s,l,o,i,a,d,h,$,w,k,x,S,_,T,q,C,M,N,O,j,z,L,P,A,U,H,D,E,G,R,I,J,B,Y,F,W,Q,K,X,V,Z,ee,te,ne=t[1].toDateString()+"",re=t[1].toTimeString().replace(":00 GMT"," UTC")+"",se=t[1].toUTCString().replace(":00 GMT"," UTC+0")+"",le=t[3].username+"",oe=t[3].seed+"",ie=t[4].username+"",ae=t[4].seed+"";function ce(e,t){return e[0].link?gr:mr}let ue=ce(t),pe=ue(t);function de(e,t){return e[0].referee?$r:hr}let fe=de(t),me=fe(t);function ge(e,t){return e[0].streamer?vr:yr}let he=ge(t),$e=he(t);function ye(e,t){return e[0].commentators.length?wr:br}let ve=ye(t),be=ve(t);return{c(){n=f("div"),r=f("div"),pe.c(),s=g(),l=f("div"),o=f("div"),i=f("b"),a=m(ne),d=g(),h=m(re),$=g(),w=f("div"),k=m(se),x=g(),S=f("div"),_=f("b"),_.textContent="Referee",T=m(":\r\n      "),me.c(),q=m("-\r\n      "),C=f("b"),C.textContent="Streamer",M=m(":\r\n      "),$e.c(),N=m("-\r\n      "),O=f("b"),O.textContent="Commentators",j=m(":\r\n      "),be.c(),z=g(),L=f("div"),P=f("div"),A=f("img"),H=g(),D=f("a"),E=m(le),G=m(" (#"),R=m(oe),I=m(")"),J=g(),B=f("div"),B.textContent="vs.",Y=g(),F=f("div"),W=f("img"),K=g(),X=f("a"),V=m(ie),Z=m(" (#"),ee=m(ae),te=m(")"),y(r,"class","name svelte-lpckpg"),y(w,"class","utc svelte-lpckpg"),y(o,"class","time svelte-lpckpg"),y(S,"class","staff svelte-lpckpg"),y(A,"alt",""),A.src!==(U=t[3].avatar)&&y(A,"src",U),y(A,"class","svelte-lpckpg"),y(D,"href",`https://osu.ppy.sh/users/${t[3].id}`),y(P,"class","player svelte-lpckpg"),y(B,"class","vs svelte-lpckpg"),y(W,"alt",""),W.src!==(Q=t[4].avatar)&&y(W,"src",Q),y(W,"class","svelte-lpckpg"),y(X,"href",`https://osu.ppy.sh/users/${t[4].id}`),y(F,"class","player svelte-lpckpg"),y(L,"class","players svelte-lpckpg"),y(l,"class","body"),y(n,"class","match svelte-lpckpg"),b(n,"my-match",t[2]?.id==t[3].id||t[2]?.id==t[4].id)},m(e,t){u(e,n,t),c(n,r),pe.m(r,null),c(n,s),c(n,l),c(l,o),c(o,i),c(i,a),c(i,d),c(i,h),c(o,$),c(o,w),c(w,k),c(l,x),c(l,S),c(S,_),c(S,T),me.m(S,null),c(S,q),c(S,C),c(S,M),$e.m(S,null),c(S,N),c(S,O),c(S,j),be.m(S,null),c(l,z),c(l,L),c(L,P),c(P,A),c(P,H),c(P,D),c(D,E),c(D,G),c(D,R),c(D,I),c(L,J),c(L,B),c(L,Y),c(L,F),c(F,W),c(F,K),c(F,X),c(X,V),c(X,Z),c(X,ee),c(X,te)},p(e,[t]){ue===(ue=ce(e))&&pe?pe.p(e,t):(pe.d(1),pe=ue(e),pe&&(pe.c(),pe.m(r,null))),2&t&&ne!==(ne=e[1].toDateString()+"")&&v(a,ne),2&t&&re!==(re=e[1].toTimeString().replace(":00 GMT"," UTC")+"")&&v(h,re),2&t&&se!==(se=e[1].toUTCString().replace(":00 GMT"," UTC+0")+"")&&v(k,se),fe===(fe=de(e))&&me?me.p(e,t):(me.d(1),me=fe(e),me&&(me.c(),me.m(S,q))),he===(he=ge(e))&&$e?$e.p(e,t):($e.d(1),$e=he(e),$e&&($e.c(),$e.m(S,N))),ve===(ve=ye(e))&&be?be.p(e,t):(be.d(1),be=ve(e),be&&(be.c(),be.m(S,null))),28&t&&b(n,"my-match",e[2]?.id==e[3].id||e[2]?.id==e[4].id)},i:e,o:e,d(e){e&&p(n),pe.d(),me.d(),$e.d(),be.d()}}}function Sr(e,t,n){let r,s;o(e,ee,(e=>n(2,s=e)));let{match:l}=t;const[i,a]=l.players.map((({player:e})=>e));return e.$$set=e=>{"match"in e&&n(0,l=e.match)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=new Date(l.time))},[l,r,s,i,a]}class _r extends K{constructor(e){super(),Q(this,e,Sr,xr,l,{match:0})}}const Tr=V(null),qr=V(null),{Map:Cr}=G;function Mr(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function Nr(e,t,n){const r=e.slice();return r[12]=t[n],r}function Or(e,t,n){const r=e.slice();return r[9]=t[n],r}function jr(e){let t,n,r,s,l,o,i,a,d,h,$,b,w,k,x=e[0].player.group.id+"",S=[],_=new Cr,T=e[3];const q=e=>e[9].id;for(let t=0;t<T.length;t+=1){let n=Or(e,T,t),r=q(n);_.set(r,S[t]=zr(r,n))}return{c(){t=f("div"),n=m("Welcome to the Group Stage!"),r=f("br"),s=f("br"),l=m("\r\n  You will be facing every other player of your group once ("),o=f("b"),i=m("Group "),a=m(x),d=m(")!"),h=f("br"),$=m("\r\n  You can find the list of your own matches just below."),b=g(),w=f("div");for(let e=0;e<S.length;e+=1)S[e].c();y(t,"class","intro svelte-dwzz6e"),y(w,"class","matches svelte-dwzz6e")},m(e,p){u(e,t,p),c(t,n),c(t,r),c(t,s),c(t,l),c(t,o),c(o,i),c(o,a),c(t,d),c(t,h),c(t,$),u(e,b,p),u(e,w,p);for(let e=0;e<S.length;e+=1)S[e].m(w,null);k=!0},p(e,t){(!k||1&t)&&x!==(x=e[0].player.group.id+"")&&v(a,x),8&t&&(T=e[3],U(),S=J(S,t,q,1,e,T,_,w,I,zr,null,Or),H())},i(e){if(!k){for(let e=0;e<T.length;e+=1)D(S[e]);k=!0}},o(e){for(let e=0;e<S.length;e+=1)E(S[e]);k=!1},d(e){e&&p(t),e&&p(b),e&&p(w);for(let e=0;e<S.length;e+=1)S[e].d()}}}function zr(e,t){let n,r,s;return r=new _r({props:{match:t[9]}}),{key:e,first:null,c(){n=h(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Y(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.match=t[9]),r.$set(s)},i(e){s||(D(r.$$.fragment,e),s=!0)},o(e){E(r.$$.fragment,e),s=!1},d(e){e&&p(n),F(r,e)}}}function Lr(e){let t,n,s,l,o,i,a,d,m,h,v,b=[],w=new Cr,k=[],x=new Cr,S=e[4];const _=e=>e[12].id;for(let t=0;t<S.length;t+=1){let n=Nr(e,S,t),r=_(n);w.set(r,b[t]=Ar(r,n))}let T=e[2];const q=e=>e[9].id;for(let t=0;t<T.length;t+=1){let n=Mr(e,T,t),r=q(n);x.set(r,k[t]=Hr(r,n))}return{c(){t=f("div");for(let e=0;e<b.length;e+=1)b[e].c();n=g(),s=f("div"),l=f("div"),o=f("a"),o.textContent="Sort chronologically",i=g(),a=f("a"),a.textContent="Sort by group",d=g();for(let e=0;e<k.length;e+=1)k[e].c();y(t,"class","maps svelte-dwzz6e"),y(o,"href","javascript:void(0)"),y(a,"href","javascript:void(0)"),y(l,"class","matches-links svelte-dwzz6e"),y(s,"class","matches svelte-dwzz6e")},m(r,p){u(r,t,p);for(let e=0;e<b.length;e+=1)b[e].m(t,null);u(r,n,p),u(r,s,p),c(s,l),c(l,o),c(l,i),c(l,a),c(s,d);for(let e=0;e<k.length;e+=1)k[e].m(s,null);m=!0,h||(v=[$(o,"click",e[6]),$(a,"click",e[5])],h=!0)},p(e,n){16&n&&(S=e[4],U(),b=J(b,n,_,1,e,S,w,t,I,Ar,null,Nr),H()),6&n&&(T=e[2],U(),k=J(k,n,q,1,e,T,x,s,I,Hr,null,Mr),H())},i(e){if(!m){for(let e=0;e<S.length;e+=1)D(b[e]);for(let e=0;e<T.length;e+=1)D(k[e]);m=!0}},o(e){for(let e=0;e<b.length;e+=1)E(b[e]);for(let e=0;e<k.length;e+=1)E(k[e]);m=!1},d(e){e&&p(t);for(let e=0;e<b.length;e+=1)b[e].d();e&&p(n),e&&p(s);for(let e=0;e<k.length;e+=1)k[e].d();h=!1,r(v)}}}function Pr(t){let n;return{c(){n=f("div"),n.textContent="Loading groups matches...",y(n,"class","matches svelte-dwzz6e")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function Ar(e,t){let n,r,s;return r=new It({props:{map:t[12]}}),{key:e,first:null,c(){n=h(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Y(r,e,t),s=!0},p(e,n){t=e;const s={};16&n&&(s.map=t[12]),r.$set(s)},i(e){s||(D(r.$$.fragment,e),s=!0)},o(e){E(r.$$.fragment,e),s=!1},d(e){e&&p(n),F(r,e)}}}function Ur(e){let t;return{c(){t=f("div"),y(t,"class","group-spacer svelte-dwzz6e")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Hr(e,t){let n,r,s,l,o;r=new _r({props:{match:t[9]}});let i=t[1]&&t[2][t[11]+1]?.players[0].player.group.id>t[9].players[0].player.group.id&&Ur();return{key:e,first:null,c(){n=h(),B(r.$$.fragment),s=g(),i&&i.c(),l=h(),this.first=n},m(e,t){u(e,n,t),Y(r,e,t),u(e,s,t),i&&i.m(e,t),u(e,l,t),o=!0},p(e,n){t=e;const s={};4&n&&(s.match=t[9]),r.$set(s),t[1]&&t[2][t[11]+1]?.players[0].player.group.id>t[9].players[0].player.group.id?i||(i=Ur(),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},i(e){o||(D(r.$$.fragment,e),o=!0)},o(e){E(r.$$.fragment,e),o=!1},d(e){e&&p(n),F(r,e),e&&p(s),i&&i.d(e),e&&p(l)}}}function Dr(e){let t,n,r,s,l,o=e[0]?.player?.group&&jr(e);const i=[Pr,Lr],a=[];function c(e,t){return e[2]?1:0}return n=c(e),r=a[n]=i[n](e),{c(){o&&o.c(),t=g(),r.c(),s=h()},m(e,r){o&&o.m(e,r),u(e,t,r),a[n].m(e,r),u(e,s,r),l=!0},p(e,[l]){e[0]?.player?.group?o?(o.p(e,l),1&l&&D(o,1)):(o=jr(e),o.c(),D(o,1),o.m(t.parentNode,t)):o&&(U(),E(o,1,1,(()=>{o=null})),H());let u=n;n=c(e),n===u?a[n].p(e,l):(U(),E(a[u],1,1,(()=>{a[u]=null})),H(),r=a[n],r?r.p(e,l):(r=a[n]=i[n](e),r.c()),D(r,1),r.m(s.parentNode,s))},i(e){l||(D(o),D(r),l=!0)},o(e){E(o),E(r),l=!1},d(e){o&&o.d(e),e&&p(t),a[n].d(e),e&&p(s)}}}function Er(e,t,n){let r,s,l;var i;o(e,Tr,(e=>n(8,r=e))),o(e,ee,(e=>n(0,s=e))),o(e,qr,(e=>n(4,l=e))),r||(async()=>{const{data:e}=await ce("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "groups"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  matches(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "groups"\n        }\n      }\n    }\n    sort: "time"\n    limit: -1\n  ) {\n    id\n    link\n    players {\n      player: players_id {\n        id\n        username\n        avatar\n        seed\n        group {\n          id\n        }\n      }\n    }\n    time\n    referee {\n      id\n      username\n    }\n    streamer {\n      id\n      username\n    }\n    commentators {\n      commentator: commentators_id {\n        id\n        username\n      }\n    }\n  }\n}'})});e.matches.forEach((e=>{e.players=e.players[0].player.seed<e.players[1].player.seed?e.players:e.players.reverse()})),Tr.set(e.matches),qr.set(e.maps)})();let a=!1;let c,u;return e.$$.update=()=>{385&e.$$.dirty&&r&&(null===n(7,i=null==s?void 0:s.player)||void 0===i?void 0:i.group)&&n(3,u=r.filter((e=>e.players.find((({player:e})=>e.id==s.id))))),256&e.$$.dirty&&n(2,c=r)},[s,a,c,u,l,()=>{n(1,a=!0),n(2,c=c.sort(((e,t)=>{if(e.players[0].player.group.id!=t.players[0].player.group.id)return e.players[0].player.group.id<t.players[0].player.group.id?-1:1;const[n,r]=e.players.map((({player:e})=>e)),[s,l]=t.players.map((({player:e})=>e));return n.seed!=s.seed?n.seed<s.seed?-1:1:r.seed<l.seed?-1:1})))},()=>{n(1,a=!1),n(2,c=r)},i,r]}class Gr extends K{constructor(e){super(),Q(this,e,Er,Dr,l,{})}}function Rr(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function Ir(e,t,n){const r=e.slice();return r[14]=t[n],r}function Jr(e,t,n){const r=e.slice();return r[17]=t[n],r[13]=n,r}function Br(e,t,n){const r=e.slice();return r[14]=t[n],r[20]=n,r}function Yr(e){let t,n,r=e[14].username+"";return{c(){t=f("div"),n=m(r),y(t,"class","player")},m(e,r){u(e,t,r),c(t,n)},p(e,t){1&t&&r!==(r=e[14].username+"")&&v(n,r)},d(e){e&&p(t)}}}function Fr(e){let t,n,r,s,l,o,i=e[13]+1+"",a=e[17],h=[];for(let t=0;t<a.length;t+=1)h[t]=Yr(Br(e,a,t));return{c(){t=f("div"),n=f("h3"),r=m("Group "),s=m(i),l=g();for(let e=0;e<h.length;e+=1)h[e].c();o=g(),y(t,"class","group svelte-c6gifs"),b(t,"active",e[2]==e[13])},m(e,i){u(e,t,i),c(t,n),c(n,r),c(n,s),c(t,l);for(let e=0;e<h.length;e+=1)h[e].m(t,null);c(t,o)},p(e,n){if(1&n){let r;for(a=e[17],r=0;r<a.length;r+=1){const s=Br(e,a,r);h[r]?h[r].p(s,n):(h[r]=Yr(s),h[r].c(),h[r].m(t,o))}for(;r<h.length;r+=1)h[r].d(1);h.length=a.length}4&n&&b(t,"active",e[2]==e[13])},d(e){e&&p(t),d(h,e)}}}function Wr(e){let t,n;return t=new zn({props:{position:e[1].position,player:e[1],maps:e[4]}}),{c(){B(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.position=e[1].position),2&n&&(r.player=e[1]),16&n&&(r.maps=e[4]),t.$set(r)},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function Qr(e){let t;return{c(){t=m("Roll")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Kr(e,t){let n,r;return{key:e,first:null,c(){n=f("img"),y(n,"alt",""),n.src!==(r=t[14].avatar)&&y(n,"src",r),y(n,"class","svelte-c6gifs"),this.first=n},m(e,t){u(e,n,t)},p(e,s){t=e,8&s&&n.src!==(r=t[14].avatar)&&y(n,"src",r)},d(e){e&&p(n)}}}function Xr(e){let t,n,r,s,l,o,i=["Top","High","Low","Bottom"][e[13]]+"",a=[],d=new Map,h=e[11];const $=e=>e[14].id;for(let t=0;t<h.length;t+=1){let n=Ir(e,h,t),r=$(n);d.set(r,a[t]=Kr(r,n))}return{c(){t=f("div"),n=f("h3"),r=m(i),s=m(" seed"),l=g();for(let e=0;e<a.length;e+=1)a[e].c();o=g(),y(t,"class","seed svelte-c6gifs")},m(e,i){u(e,t,i),c(t,n),c(n,r),c(n,s),c(t,l);for(let e=0;e<a.length;e+=1)a[e].m(t,null);c(t,o)},p(e,n){8&n&&(h=e[11],a=J(a,n,$,1,e,h,d,t,R,Kr,o,Ir))},d(e){e&&p(t);for(let e=0;e<a.length;e+=1)a[e].d()}}}function Vr(e){let t,n,r,s,l,o,i,a,h,b,w,k,x,S,_,T,q,C=e[2]+1+"",M=e[0],N=[];for(let t=0;t<M.length;t+=1)N[t]=Fr(Jr(e,M,t));let O=e[1]&&Wr(e);b=new ke({props:{$$slots:{default:[Qr]},$$scope:{ctx:e}}}),b.$on("click",e[5]);let j=e[3],z=[];for(let t=0;t<j.length;t+=1)z[t]=Xr(Rr(e,j,t));return{c(){t=f("div");for(let e=0;e<N.length;e+=1)N[e].c();n=g(),r=f("div"),s=m("Current group: "),l=f("b"),o=m("Group "),i=m(C),a=g(),O&&O.c(),h=g(),B(b.$$.fragment),w=g(),k=f("div");for(let e=0;e<z.length;e+=1)z[e].c();x=g(),S=f("button"),S.textContent="panic",y(t,"class","groups svelte-c6gifs"),y(r,"class","spotlight svelte-c6gifs"),y(k,"class","seeds svelte-c6gifs")},m(p,d){u(p,t,d);for(let e=0;e<N.length;e+=1)N[e].m(t,null);u(p,n,d),u(p,r,d),c(r,s),c(r,l),c(l,o),c(l,i),c(r,a),O&&O.m(r,null),c(r,h),Y(b,r,null),u(p,w,d),u(p,k,d);for(let e=0;e<z.length;e+=1)z[e].m(k,null);u(p,x,d),u(p,S,d),_=!0,T||(q=$(S,"click",e[9]),T=!0)},p(e,[n]){if(5&n){let r;for(M=e[0],r=0;r<M.length;r+=1){const s=Jr(e,M,r);N[r]?N[r].p(s,n):(N[r]=Fr(s),N[r].c(),N[r].m(t,null))}for(;r<N.length;r+=1)N[r].d(1);N.length=M.length}(!_||4&n)&&C!==(C=e[2]+1+"")&&v(i,C),e[1]?O?(O.p(e,n),2&n&&D(O,1)):(O=Wr(e),O.c(),D(O,1),O.m(r,h)):O&&(U(),E(O,1,1,(()=>{O=null})),H());const s={};if(2097152&n&&(s.$$scope={dirty:n,ctx:e}),b.$set(s),8&n){let t;for(j=e[3],t=0;t<j.length;t+=1){const r=Rr(e,j,t);z[t]?z[t].p(r,n):(z[t]=Xr(r),z[t].c(),z[t].m(k,null))}for(;t<z.length;t+=1)z[t].d(1);z.length=j.length}},i(e){_||(D(O),D(b.$$.fragment,e),_=!0)},o(e){E(O),E(b.$$.fragment,e),_=!1},d(e){e&&p(t),d(N,e),e&&p(n),e&&p(r),O&&O.d(),F(b),e&&p(w),e&&p(k),d(z,e),e&&p(x),e&&p(S),T=!1,q()}}}function Zr(e,t,n){let r,s,l,i;o(e,un,(e=>n(7,s=e))),o(e,te,(e=>n(8,l=e))),o(e,cn,(e=>n(4,i=e)));let a,c=new Array(32).fill(0).map((()=>[{id:"",username:"-"},{id:"",username:"-"},{id:"",username:"-"},{id:"",username:"-"}])),u=new Set,p=0;x((()=>{const e=localStorage.getItem("groups");e&&n(0,c=JSON.parse(e));const t=localStorage.getItem("selectedPlayers");if(t){JSON.parse(t).forEach((e=>u.add(e)))}}));return e.$$.update=()=>{384&e.$$.dirty&&!s&&l&&gn(l),192&e.$$.dirty&&n(3,r=s?[s.slice(0,32).filter((e=>!u.has(e.id))),s.slice(32,64).filter((e=>!u.has(e.id))),s.slice(64,96).filter((e=>!u.has(e.id))),s.slice(96,128).filter((e=>!u.has(e.id)))]:[])},[c,a,p,r,i,()=>{const e=r.find((e=>e.length)),t=e[Math.random()*e.length>>0];n(1,a=t),n(6,u=new Set([...u,t.id])),n(0,c[p][c[p].findIndex((e=>"-"==e.username))]={id:t.id,username:t.username},c),localStorage.setItem("groups",JSON.stringify(c)),localStorage.setItem("selectedPlayers",JSON.stringify(Array.from(u.values()))),n(2,p=31==p?0:p+1)},u,s,l,()=>{localStorage.clear()}]}class es extends K{constructor(e){super(),Q(this,e,Zr,Vr,l,{})}}function ts(e){let t,n,r,s,l,o,i,a,d,m,h;t=new ve({}),s=new Ce({}),o=new Ae({props:{stages:e[1]}});const $=[ps,us,cs,as,is,os,ls,ss,rs],v=[];function b(e,t){return"players"==e[0]?0:"countries"==e[0]?1:"qualifiers"==e[0]?2:"qualifiers!maps"==e[0]?3:"qualifiers!elite"==e[0]?4:"qualifiers!elite!maps"==e[0]?5:"qualifiers!lobbies"==e[0]?6:"groups"==e[0]?7:8}return d=b(e),m=v[d]=$[d](e),{c(){B(t.$$.fragment),n=g(),r=f("div"),B(s.$$.fragment),l=g(),B(o.$$.fragment),i=g(),a=f("div"),m.c(),y(a,"class","page svelte-ucquck"),y(r,"class","body svelte-ucquck")},m(e,p){Y(t,e,p),u(e,n,p),u(e,r,p),Y(s,r,null),c(r,l),Y(o,r,null),c(r,i),c(r,a),v[d].m(a,null),h=!0},p(e,t){const n={};2&t&&(n.stages=e[1]),o.$set(n);let r=d;d=b(e),d!==r&&(U(),E(v[r],1,1,(()=>{v[r]=null})),H(),m=v[d],m||(m=v[d]=$[d](e),m.c()),D(m,1),m.m(a,null))},i(e){h||(D(t.$$.fragment,e),D(s.$$.fragment,e),D(o.$$.fragment,e),D(m),h=!0)},o(e){E(t.$$.fragment,e),E(s.$$.fragment,e),E(o.$$.fragment,e),E(m),h=!1},d(e){F(t,e),e&&p(n),e&&p(r),F(s),F(o),v[d].d()}}}function ns(t){let n,r;return n=new es({}),{c(){B(n.$$.fragment)},m(e,t){Y(n,e,t),r=!0},p:e,i(e){r||(D(n.$$.fragment,e),r=!0)},o(e){E(n.$$.fragment,e),r=!1},d(e){F(n,e)}}}function rs(e){let t,n;return t=new Ve({}),{c(){B(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function ss(e){let t,n;return t=new Gr({}),{c(){B(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function ls(e){let t,n;return t=new sn({}),{c(){B(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function os(e){let t,n;return t=new sr({}),{c(){B(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function is(e){let t,n;return t=new dr({}),{c(){B(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function as(e){let t,n;return t=new Cn({}),{c(){B(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function cs(e){let t,n;return t=new Yn({}),{c(){B(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function us(e){let t,n;return t=new bt({}),{c(){B(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function ps(e){let t,n;return t=new pt({}),{c(){B(t.$$.fragment)},m(e,r){Y(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function ds(e){let t,n,r,s;const l=[ns,ts],o=[];function i(e,t){return"scuffed!drawing"==e[0]?0:1}return t=i(e),n=o[t]=l[t](e),{c(){n.c(),r=h()},m(e,n){o[t].m(e,n),u(e,r,n),s=!0},p(e,[s]){let a=t;t=i(e),t===a?o[t].p(e,s):(U(),E(o[a],1,1,(()=>{o[a]=null})),H(),n=o[t],n?n.p(e,s):(n=o[t]=l[t](e),n.c()),D(n,1),n.m(r.parentNode,r))},i(e){s||(D(n),s=!0)},o(e){E(n),s=!1},d(e){o[t].d(e),e&&p(r)}}}function fs(e,t,n){let r,s;return o(e,oe,(e=>n(0,r=e))),o(e,le,(e=>n(1,s=e))),[r,s]}return new class extends K{constructor(e){super(),Q(this,e,fs,ds,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
