var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function o(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function i(e,t,n,r,s,l,a){const i=function(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}(t,r,s,l);if(i){const s=o(t,n,r,a);e.p(s,i)}}function c(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function h(){return f(" ")}function g(){return f("")}function y(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e){return""===e?null:+e}function b(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function w(e,t){e.value=null==t?"":t}function k(e,t,n){e.classList[n?"add":"remove"](t)}let x;function C(e){x=e}function _(e){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_mount.push(e)}function S(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const T=[],q=[],j=[],O=[],N=Promise.resolve();let M=!1;function P(e){j.push(e)}let L=!1;const A=new Set;function R(){if(!L){L=!0;do{for(let e=0;e<T.length;e+=1){const t=T[e];C(t),H(t.$$)}for(C(null),T.length=0;q.length;)q.pop()();for(let e=0;e<j.length;e+=1){const t=j[e];A.has(t)||(A.add(t),t())}j.length=0}while(T.length);for(;O.length;)O.pop()();M=!1,L=!1,A.clear()}}function H(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(P)}}const D=new Set;let G;function U(){G={r:0,c:[],p:G}}function E(){G.r||r(G.c),G=G.p}function B(e,t){e&&e.i&&(D.delete(e),e.i(t))}function z(e,t,n,r){if(e&&e.o){if(D.has(e))return;D.add(e),G.c.push((()=>{D.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const W="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function J(e,t){e.d(1),t.delete(e.key)}function I(e,t){z(e,1,1,(()=>{t.delete(e.key)}))}function Y(e,t,n,r,s,l,a,o,i,c,u,p){let d=e.length,m=l.length,f=d;const h={};for(;f--;)h[e[f].key]=f;const g=[],y=new Map,v=new Map;for(f=m;f--;){const e=p(s,l,f),o=n(e);let i=a.get(o);i?r&&i.p(e,t):(i=c(o,e),i.c()),y.set(o,g[f]=i),o in h&&v.set(o,Math.abs(f-h[o]))}const $=new Set,b=new Set;function w(e){B(e,1),e.m(o,u),a.set(e.key,e),u=e.first,m--}for(;d&&m;){const t=g[m-1],n=e[d-1],r=t.key,s=n.key;t===n?(u=t.first,d--,m--):y.has(s)?!a.has(r)||$.has(r)?w(t):b.has(s)?d--:v.get(r)>v.get(s)?(b.add(r),w(t)):($.add(s),d--):(i(n,a),d--)}for(;d--;){const t=e[d];y.has(t.key)||i(t,a)}for(;m;)w(g[m-1]);return g}function F(e){e&&e.c()}function Q(e,n,l,a){const{fragment:o,on_mount:i,on_destroy:c,after_update:u}=e.$$;o&&o.m(n,l),a||P((()=>{const n=i.map(t).filter(s);c?c.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(P)}function K(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function V(e,t){-1===e.$$.dirty[0]&&(T.push(e),M||(M=!0,N.then(R)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function X(t,s,l,a,o,i,c=[-1]){const u=x;C(t);const d=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:o,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let m=!1;if(d.ctx=l?l(t,s.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return d.ctx&&o(d.ctx[e],d.ctx[e]=s)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](s),m&&V(t,e)),n})):[],d.update(),m=!0,r(d.before_update),d.fragment=!!a&&a(d.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);d.fragment&&d.fragment.l(e),e.forEach(p)}else d.fragment&&d.fragment.c();s.intro&&B(t.$$.fragment),Q(t,s.target,s.anchor,s.customElement),R()}C(u)}class Z{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ee=[];function te(t,n=e){let r;const s=[];function a(e){if(l(t,e)&&(t=e,r)){const e=!ee.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),ee.push(n,t)}if(e){for(let e=0;e<ee.length;e+=2)ee[e][0](ee[e+1]);ee.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(l,o=e){const i=[l,o];return s.push(i),1===s.length&&(r=n(a)||e),l(t),()=>{const e=s.indexOf(i);-1!==e&&s.splice(e,1),0===s.length&&(r(),r=null)}}}}const{API_URL:ne}={API_URL:"https://api.mbs3.fightthe.pw",UI_URL:"https://mbs3.fightthe.pw",isProd:!0},re=te(null),se=te(null),le=te([]),ae=te([]),oe=te([]),ie=te([]),ce=te(null),ue=new Set(["players","countries","qualifiers","qualifiers!maps","qualifiers!elite","qualifiers!elite!maps","qualifiers!lobbies","groups","groups!results","groups!maps","groups!rolls","ro64","ro64!maps","ro64!rolls","ro32","ro32!maps","ro32!rolls","ro16","ro16!maps","ro16!rolls","scuffed!drawing","referee!helper"]),pe=()=>{const{hash:e}=location,[,t]=e.split("/");ue.has(t)?ce.set(t):(ce.set("home"),"#/"!=e&&(location.hash="#/"))};window.addEventListener("hashchange",pe),pe();const de=(e,t={headers:{}},n)=>fetch(`${ne}${e}`,Object.assign(Object.assign({},t),{headers:Object.assign({Authorization:me?`Bearer ${me}`:void 0},t.headers)})).then((async r=>{var s,l;const a=await r.json();if("Token expired."==(null===(l=null===(s=a.errors)||void 0===s?void 0:s[0])||void 0===l?void 0:l.message)&&!n){const n=await fetch(`${ne}/auth/refresh`,{method:"POST",credentials:"include"});if(200==n.status){const r=await n.json();return me=r.data.access_token,de(e,t,!0)}}return a}));let me;function fe(t){let n,r;return{c(){n=m("a"),r=f("Login"),v(n,"href",t[3])},m(e,t){u(e,n,t),c(n,r)},p:e,d(e){e&&p(n)}}}function he(e){let t,n,r,s,l,a,o,i,d,g,$,w=e[0].username+"",k=e[0].player&&ge(),x=e[0].referee&&ye(),C=e[0].commentator&&ve(),_=e[0].streamer&&$e();return{c(){t=f("Logged in as\r\n      "),n=m("b"),r=f(w),s=f(" -\r\n      "),k&&k.c(),l=h(),x&&x.c(),a=h(),C&&C.c(),o=h(),_&&_.c(),i=h(),d=m("a"),d.textContent="Log out",v(d,"href","#/")},m(p,m){u(p,t,m),u(p,n,m),c(n,r),u(p,s,m),k&&k.m(p,m),u(p,l,m),x&&x.m(p,m),u(p,a,m),C&&C.m(p,m),u(p,o,m),_&&_.m(p,m),u(p,i,m),u(p,d,m),g||($=y(d,"click",e[2]),g=!0)},p(e,t){1&t&&w!==(w=e[0].username+"")&&b(r,w),e[0].player?k||(k=ge(),k.c(),k.m(l.parentNode,l)):k&&(k.d(1),k=null),e[0].referee?x||(x=ye(),x.c(),x.m(a.parentNode,a)):x&&(x.d(1),x=null),e[0].commentator?C||(C=ve(),C.c(),C.m(o.parentNode,o)):C&&(C.d(1),C=null),e[0].streamer?_||(_=$e(),_.c(),_.m(i.parentNode,i)):_&&(_.d(1),_=null)},d(e){e&&p(t),e&&p(n),e&&p(s),k&&k.d(e),e&&p(l),x&&x.d(e),e&&p(a),C&&C.d(e),e&&p(o),_&&_.d(e),e&&p(i),e&&p(d),g=!1,$()}}}function ge(e){let t;return{c(){t=f("Player -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function ye(e){let t;return{c(){t=f("Referee -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function ve(e){let t;return{c(){t=f("Commentator -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function $e(e){let t;return{c(){t=f("Streamer -")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function be(t){let n,r,s,l,a,o;function i(e,t){return e[0]?he:e[1].length?fe:void 0}let d=i(t),f=d&&d(t);return{c(){n=m("div"),r=m("a"),r.innerHTML='<div class="logo svelte-swbai7"><img alt="" src="/images/logo.png" class="svelte-swbai7"/></div> \n    <h1 class="svelte-swbai7"><img alt="Mania Beginner&#39;s Showdown" src="/images/title.png" class="svelte-swbai7"/> \n      <div class="three svelte-swbai7"><span class="svelte-swbai7">3</span></div></h1>',s=h(),l=m("div"),l.innerHTML='<div class="host-title svelte-swbai7">Hosted by</div>\n    Paturages &amp; Davvy',a=h(),o=m("div"),f&&f.c(),v(r,"href","#/"),v(l,"class","hosts svelte-swbai7"),v(o,"class","me svelte-swbai7"),v(n,"class","banner svelte-swbai7")},m(e,t){u(e,n,t),c(n,r),c(n,s),c(n,l),c(n,a),c(n,o),f&&f.m(o,null)},p(e,[t]){d===(d=i(e))&&f?f.p(e,t):(f&&f.d(1),f=d&&d(e),f&&(f.c(),f.m(o,null)))},i:e,o:e,d(e){e&&p(n),f&&f.d()}}}function we(e,t,n){let r,s;a(e,re,(e=>n(0,r=e))),a(e,le,(e=>n(1,s=e)));var l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{i(r.next(e))}catch(e){l(e)}}function o(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}i((r=r.apply(e,t||[])).next())}))};return[r,s,()=>l(void 0,void 0,void 0,(function*(){yield fetch("https://api.mbs3.fightthe.pw/auth/logout",{method:"POST",credentials:"include"}),location.reload()})),"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw"]}(async()=>{const{data:e}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  stages(sort: "sort") {\n    slug\n    name\n    date_start\n    date_end\n    link\n    best_of\n  }\n  players(sort: ["-elite", "seed", "ranking"], limit: -1) {\n    id\n    seed\n    group {\n      id\n    }\n    alive\n    elite\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n    ranking\n    pp\n    qualifier {\n      name\n      link\n      time\n    }\n    matches {\n      match: matches_id {\n        id\n        stage {\n          name\n        }\n      }\n    }\n  }\n  referees {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n  commentators {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n  streamers {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n}'})});ie.set(e.stages),se.set(e.players);const t=new Map(e.players.map((e=>[e.id,e])));le.set(e.referees);const n=new Map(e.referees.map((e=>[e.id,e])));ae.set(e.commentators);const r=new Map(e.commentators.map((e=>[e.id,e])));oe.set(e.streamers);const s=new Map(e.streamers.map((e=>[e.id,e]))),l=await fetch(`${ne}/auth/refresh`,{method:"POST",credentials:"include"});if(200==l.status){const e=await l.json();me=e.data.access_token;const{data:{first_name:a,email:o,avatar:i}}=await de("/users/me?fields=first_name,email"),c=t.get(o),u=n.get(o),p=r.get(o),d=s.get(o);let m=!1;const f=-(new Date).getTimezoneOffset()/60;c&&(m=!c.timezone||!c.timezone.endsWith(String(f))),u&&!m&&(m=!u.timezone||!u.timezone.endsWith(String(f))),p&&!m&&(m=!p.timezone||!p.timezone.endsWith(String(f))),d&&!m&&(m=!d.timezone||!d.timezone.endsWith(String(f))),re.set({avatar:i,username:a,id:o,player:c,referee:u,commentator:p,streamer:d,qualifier:null==c?void 0:c.qualifier}),m&&await de("/custom/profile/timezone",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({offset:(new Date).getTimezoneOffset()})})}})();class ke extends Z{constructor(e){super(),X(this,e,we,be,l,{})}}function xe(e){let t,n,r,s,l,a,d,f;const h=e[3].default,g=function(e,t,n,r){if(e){const s=o(e,t,n,r);return e[0](s)}}(h,e,e[2],null);return{c(){t=m("span"),n=m("a"),r=m("div"),g&&g.c(),v(r,"class","text svelte-hih935"),v(n,"href",s=e[0]||"javascript:void(0)"),v(n,"target",e[1]),v(n,"rel",l="_blank"===e[1]?"noopener":void 0),v(n,"class","link svelte-hih935"),v(t,"class","button")},m(s,l){u(s,t,l),c(t,n),c(n,r),g&&g.m(r,null),a=!0,d||(f=y(n,"click",e[4]),d=!0)},p(e,[t]){g&&g.p&&4&t&&i(g,h,e,e[2],t,null,null),(!a||1&t&&s!==(s=e[0]||"javascript:void(0)"))&&v(n,"href",s),(!a||2&t)&&v(n,"target",e[1]),(!a||2&t&&l!==(l="_blank"===e[1]?"noopener":void 0))&&v(n,"rel",l)},i(e){a||(B(g,e),a=!0)},o(e){z(g,e),a=!1},d(e){e&&p(t),g&&g.d(e),d=!1,f()}}}function Ce(e,t,n){let{$$slots:r={},$$scope:s}=t,{href:l}=t,{target:a=""}=t;return e.$$set=e=>{"href"in e&&n(0,l=e.href),"target"in e&&n(1,a=e.target),"$$scope"in e&&n(2,s=e.$$scope)},[l,a,s,r,function(t){S(e,t)}]}class _e extends Z{constructor(e){super(),X(this,e,Ce,xe,l,{href:0,target:1})}}function Se(e){let t;return{c(){t=f("Forum post")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Te(e){let t;return{c(){t=f("Challonge")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function qe(e){let t;return{c(){t=f("Discord")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function je(e){let t;return{c(){t=f("Players")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Oe(e){let t;return{c(){t=f("Countries")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ne(e){let t,n,r,s,l,a,o,i,d,f,g,y,$,b,w,k,x;return s=new _e({props:{href:"https://osu.ppy.sh/community/forums/topics/1280306",target:"_blank",$$slots:{default:[Se]},$$scope:{ctx:e}}}),o=new _e({props:{href:"https://challonge.com/osumbs3",target:"_blank",$$slots:{default:[Te]},$$scope:{ctx:e}}}),f=new _e({props:{href:"https://discord.gg/uNSqksR",target:"_blank",$$slots:{default:[qe]},$$scope:{ctx:e}}}),$=new _e({props:{href:"#/players",$$slots:{default:[je]},$$scope:{ctx:e}}}),k=new _e({props:{href:"#/countries",$$slots:{default:[Oe]},$$scope:{ctx:e}}}),{c(){t=m("nav"),n=m("ul"),r=m("li"),F(s.$$.fragment),l=h(),a=m("li"),F(o.$$.fragment),i=h(),d=m("li"),F(f.$$.fragment),g=h(),y=m("li"),F($.$$.fragment),b=h(),w=m("li"),F(k.$$.fragment),v(r,"class","svelte-rtylg"),v(a,"class","svelte-rtylg"),v(d,"class","svelte-rtylg"),v(y,"class","svelte-rtylg"),v(w,"class","svelte-rtylg"),v(n,"class","svelte-rtylg")},m(e,p){u(e,t,p),c(t,n),c(n,r),Q(s,r,null),c(n,l),c(n,a),Q(o,a,null),c(n,i),c(n,d),Q(f,d,null),c(n,g),c(n,y),Q($,y,null),c(n,b),c(n,w),Q(k,w,null),x=!0},p(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const r={};1&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r);const l={};1&t&&(l.$$scope={dirty:t,ctx:e}),f.$set(l);const a={};1&t&&(a.$$scope={dirty:t,ctx:e}),$.$set(a);const i={};1&t&&(i.$$scope={dirty:t,ctx:e}),k.$set(i)},i(e){x||(B(s.$$.fragment,e),B(o.$$.fragment,e),B(f.$$.fragment,e),B($.$$.fragment,e),B(k.$$.fragment,e),x=!0)},o(e){z(s.$$.fragment,e),z(o.$$.fragment,e),z(f.$$.fragment,e),z($.$$.fragment,e),z(k.$$.fragment,e),x=!1},d(e){e&&p(t),K(s),K(o),K(f),K($),K(k)}}}class Me extends Z{constructor(e){super(),X(this,e,null,Ne,l,{})}}function Pe(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function Le(e){let t;return{c(){t=f("Loading...")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ae(e){let t,n=e[3].name+"";return{c(){t=f(n)},m(e,n){u(e,t,n)},p(e,r){1&r&&n!==(n=e[3].name+"")&&b(t,n)},d(e){e&&p(t)}}}function Re(e){let t,n,r,s=e[3].name+"";return{c(){t=m("a"),n=f(s),v(t,"href",r=e[3].link)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[3].name+"")&&b(n,s),1&l&&r!==(r=e[3].link)&&v(t,"href",r)},d(e){e&&p(t)}}}function He(e,t){let n,r,s,l,a,o,i,d,g,y=t[2](t[3].date_start)+"",$=t[2](t[3].date_end)+"";function w(e,t){return e[3].link?Re:Ae}let x=w(t),C=x(t);return{key:e,first:null,c(){n=m("div"),r=m("div"),C.c(),s=h(),l=m("div"),a=f(y),o=h(),i=m("div"),d=f($),g=h(),v(r,"class","stage-name svelte-1xzsd"),v(l,"class","stage-date svelte-1xzsd"),v(i,"class","stage-date svelte-1xzsd"),v(n,"class","stage svelte-1xzsd"),k(n,"active",!t[5]||t[0][t[5]-1].date_end<t[1]),this.first=n},m(e,t){u(e,n,t),c(n,r),C.m(r,null),c(n,s),c(n,l),c(l,a),c(n,o),c(n,i),c(i,d),c(n,g)},p(e,s){x===(x=w(t=e))&&C?C.p(t,s):(C.d(1),C=x(t),C&&(C.c(),C.m(r,null))),1&s&&y!==(y=t[2](t[3].date_start)+"")&&b(a,y),1&s&&$!==($=t[2](t[3].date_end)+"")&&b(d,$),3&s&&k(n,"active",!t[5]||t[0][t[5]-1].date_end<t[1])},d(e){e&&p(n),C.d()}}}function De(t){let n,r=[],s=new Map,l=t[0];const a=e=>e[3].slug;for(let e=0;e<l.length;e+=1){let n=Pe(t,l,e),o=a(n);s.set(o,r[e]=He(o,n))}let o=null;return l.length||(o=Le()),{c(){n=m("div");for(let e=0;e<r.length;e+=1)r[e].c();o&&o.c(),v(n,"class","schedule svelte-1xzsd")},m(e,t){u(e,n,t);for(let e=0;e<r.length;e+=1)r[e].m(n,null);o&&o.m(n,null)},p(e,[t]){7&t&&(l=e[0],r=Y(r,t,a,1,e,l,s,n,J,He,null,Pe),l.length?o&&(o.d(1),o=null):o||(o=Le(),o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&p(n);for(let e=0;e<r.length;e+=1)r[e].d();o&&o.d()}}}function Ge(e,t,n){let{stages:r=[]}=t;const s=(new Date).toISOString();return e.$$set=e=>{"stages"in e&&n(0,r=e.stages)},[r,s,e=>new Date(e).toUTCString().replace(" 00:00:00 GMT","")]}class Ue extends Z{constructor(e){super(),X(this,e,Ge,De,l,{stages:0})}}function Ee(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function Be(e,t,n){const r=e.slice();return r[6]=t[n],r[5]=n,r}function ze(e,t,n){const r=e.slice();return r[8]=t[n],r[5]=n,r}function We(e){let t;return{c(){t=f("Hosts")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Je(e){let t;return{c(){t=f("Graphic Designer")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ie(e){let t;return{c(){t=f("Mappool selectors")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ye(e){let t;return{c(){t=f("Donators")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Fe(e){let t;return{c(){t=f("Referees")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Qe(e){let t,n,r,s,l=e[8].username+"";return{c(){t=m("a"),n=f(l),s=h(),v(t,"href",r=`https://osu.ppy.sh/users/${e[8].id}`),v(t,"target","_blank"),v(t,"rel","noopener"),v(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){1&s&&l!==(l=e[8].username+"")&&b(n,l),1&s&&r!==(r=`https://osu.ppy.sh/users/${e[8].id}`)&&v(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function Ke(e){let t;return{c(){t=f("Streamers")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ve(e){let t,n,r,s,l=e[6].username+"";return{c(){t=m("a"),n=f(l),s=h(),v(t,"href",r=`https://osu.ppy.sh/users/${e[6].id}`),v(t,"target","_blank"),v(t,"rel","noopener"),v(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){2&s&&l!==(l=e[6].username+"")&&b(n,l),2&s&&r!==(r=`https://osu.ppy.sh/users/${e[6].id}`)&&v(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function Xe(e){let t;return{c(){t=f("Commentators")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ze(e){let t,n,r,s,l=e[3].username+"";return{c(){t=m("a"),n=f(l),s=h(),v(t,"href",r=`https://osu.ppy.sh/users/${e[3].id}`),v(t,"target","_blank"),v(t,"rel","noopener"),v(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){4&s&&l!==(l=e[3].username+"")&&b(n,l),4&s&&r!==(r=`https://osu.ppy.sh/users/${e[3].id}`)&&v(t,"href",r)},d(e){e&&p(t),e&&p(s)}}}function et(e){let t,n,r,s,l,a,o,i,f,g,y,$,b,w,k,x,C,_,S,T,q,j,O,N,M,P,L,A,R,H,D,G,U,E,W;n=new _e({props:{$$slots:{default:[We]},$$scope:{ctx:e}}}),o=new _e({props:{$$slots:{default:[Je]},$$scope:{ctx:e}}}),$=new _e({props:{$$slots:{default:[Ie]},$$scope:{ctx:e}}}),C=new _e({props:{$$slots:{default:[Ye]},$$scope:{ctx:e}}}),j=new _e({props:{$$slots:{default:[Fe]},$$scope:{ctx:e}}});let J=e[0],I=[];for(let t=0;t<J.length;t+=1)I[t]=Qe(ze(e,J,t));L=new _e({props:{$$slots:{default:[Ke]},$$scope:{ctx:e}}});let Y=e[1],V=[];for(let t=0;t<Y.length;t+=1)V[t]=Ve(Be(e,Y,t));G=new _e({props:{$$slots:{default:[Xe]},$$scope:{ctx:e}}});let X=e[2],Z=[];for(let t=0;t<X.length;t+=1)Z[t]=Ze(Ee(e,X,t));return{c(){t=m("div"),F(n.$$.fragment),r=h(),s=m("div"),s.innerHTML='<a href="https://osu.ppy.sh/users/1375479" target="_blank" rel="noopener" class="svelte-1psdwt3">Paturages</a>  \n    <a href="https://osu.ppy.sh/users/10047413" target="_blank" rel="noopener" class="svelte-1psdwt3">Davvy</a>',l=h(),a=m("div"),F(o.$$.fragment),i=h(),f=m("div"),f.innerHTML='<a href="https://osu.ppy.sh/users/9148286" target="_blank" rel="noopener" class="svelte-1psdwt3">E-M-i</a>',g=h(),y=m("div"),F($.$$.fragment),b=h(),w=m("div"),w.innerHTML='<a href="https://osu.ppy.sh/users/1375479" target="_blank" rel="noopener" class="svelte-1psdwt3">Paturages</a>  \n    <a href="https://osu.ppy.sh/users/10047413" target="_blank" rel="noopener" class="svelte-1psdwt3">Davvy</a>  \n    <a href="https://osu.ppy.sh/users/11253722" target="_blank" rel="noopener" class="svelte-1psdwt3">DannyPX</a>  \n    <a href="https://osu.ppy.sh/users/11626065" target="_blank" rel="noopener" class="svelte-1psdwt3">guden</a>  \n    <a href="https://osu.ppy.sh/users/2124783" target="_blank" rel="noopener" class="svelte-1psdwt3">Kamikaze</a>  \n    <a href="https://osu.ppy.sh/users/8976576" target="_blank" rel="noopener" class="svelte-1psdwt3">-mint-</a>  \n    <a href="https://osu.ppy.sh/users/8642224" target="_blank" rel="noopener" class="svelte-1psdwt3">Konohana Lucia</a>',k=h(),x=m("div"),F(C.$$.fragment),_=h(),S=m("div"),S.innerHTML='<a href="https://osu.ppy.sh/users/8642224" target="_blank" rel="noopener" class="svelte-1psdwt3">Konohana Lucia</a>  \n    <a href="https://osu.ppy.sh/users/8184715" target="_blank" rel="noopener" class="svelte-1psdwt3">Syako</a>',T=h(),q=m("div"),F(j.$$.fragment),O=h(),N=m("div");for(let e=0;e<I.length;e+=1)I[e].c();M=h(),P=m("div"),F(L.$$.fragment),A=h(),R=m("div");for(let e=0;e<V.length;e+=1)V[e].c();H=h(),D=m("div"),F(G.$$.fragment),U=h(),E=m("div");for(let e=0;e<Z.length;e+=1)Z[e].c();v(s,"class","container svelte-1psdwt3"),v(t,"class","section svelte-1psdwt3"),v(f,"class","container svelte-1psdwt3"),v(a,"class","section svelte-1psdwt3"),v(w,"class","container svelte-1psdwt3"),v(y,"class","section svelte-1psdwt3"),v(S,"class","container svelte-1psdwt3"),v(x,"class","section svelte-1psdwt3"),v(N,"class","container svelte-1psdwt3"),v(q,"class","section svelte-1psdwt3"),v(R,"class","container svelte-1psdwt3"),v(P,"class","section svelte-1psdwt3"),v(E,"class","container svelte-1psdwt3"),v(D,"class","section svelte-1psdwt3")},m(e,p){u(e,t,p),Q(n,t,null),c(t,r),c(t,s),u(e,l,p),u(e,a,p),Q(o,a,null),c(a,i),c(a,f),u(e,g,p),u(e,y,p),Q($,y,null),c(y,b),c(y,w),u(e,k,p),u(e,x,p),Q(C,x,null),c(x,_),c(x,S),u(e,T,p),u(e,q,p),Q(j,q,null),c(q,O),c(q,N);for(let e=0;e<I.length;e+=1)I[e].m(N,null);u(e,M,p),u(e,P,p),Q(L,P,null),c(P,A),c(P,R);for(let e=0;e<V.length;e+=1)V[e].m(R,null);u(e,H,p),u(e,D,p),Q(G,D,null),c(D,U),c(D,E);for(let e=0;e<Z.length;e+=1)Z[e].m(E,null);W=!0},p(e,[t]){const r={};1024&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};1024&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s);const l={};1024&t&&(l.$$scope={dirty:t,ctx:e}),$.$set(l);const a={};1024&t&&(a.$$scope={dirty:t,ctx:e}),C.$set(a);const i={};if(1024&t&&(i.$$scope={dirty:t,ctx:e}),j.$set(i),1&t){let n;for(J=e[0],n=0;n<J.length;n+=1){const r=ze(e,J,n);I[n]?I[n].p(r,t):(I[n]=Qe(r),I[n].c(),I[n].m(N,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=J.length}const c={};if(1024&t&&(c.$$scope={dirty:t,ctx:e}),L.$set(c),2&t){let n;for(Y=e[1],n=0;n<Y.length;n+=1){const r=Be(e,Y,n);V[n]?V[n].p(r,t):(V[n]=Ve(r),V[n].c(),V[n].m(R,null))}for(;n<V.length;n+=1)V[n].d(1);V.length=Y.length}const u={};if(1024&t&&(u.$$scope={dirty:t,ctx:e}),G.$set(u),4&t){let n;for(X=e[2],n=0;n<X.length;n+=1){const r=Ee(e,X,n);Z[n]?Z[n].p(r,t):(Z[n]=Ze(r),Z[n].c(),Z[n].m(E,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=X.length}},i(e){W||(B(n.$$.fragment,e),B(o.$$.fragment,e),B($.$$.fragment,e),B(C.$$.fragment,e),B(j.$$.fragment,e),B(L.$$.fragment,e),B(G.$$.fragment,e),W=!0)},o(e){z(n.$$.fragment,e),z(o.$$.fragment,e),z($.$$.fragment,e),z(C.$$.fragment,e),z(j.$$.fragment,e),z(L.$$.fragment,e),z(G.$$.fragment,e),W=!1},d(e){e&&p(t),K(n),e&&p(l),e&&p(a),K(o),e&&p(g),e&&p(y),K($),e&&p(k),e&&p(x),K(C),e&&p(T),e&&p(q),K(j),d(I,e),e&&p(M),e&&p(P),K(L),d(V,e),e&&p(H),e&&p(D),K(G),d(Z,e)}}}function tt(e,t,n){let r,s,l;return a(e,le,(e=>n(0,r=e))),a(e,oe,(e=>n(1,s=e))),a(e,ae,(e=>n(2,l=e))),[r,s,l]}class nt extends Z{constructor(e){super(),X(this,e,tt,et,l,{})}}function rt(e){let t,n,r=e[0].seed+"";return{c(){t=f("Seed #"),n=f(r)},m(e,r){u(e,t,r),u(e,n,r)},p(e,t){1&t&&r!==(r=e[0].seed+"")&&b(n,r)},d(e){e&&p(t),e&&p(n)}}}function st(e){let t;return{c(){t=f("- Elite bracket")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function lt(e){let t,n,r=e[0].matches[e[0].matches.length-1].match.stage.name+"";return{c(){t=f("- "),n=f(r)},m(e,r){u(e,t,r),u(e,n,r)},p(e,t){1&t&&r!==(r=e[0].matches[e[0].matches.length-1].match.stage.name+"")&&b(n,r)},d(e){e&&p(t),e&&p(n)}}}function at(t){let n,r,s,l,a,o,i,d,g,y,$,w,x,C,_,S,T,q,j,O,N,M,P,L,A,R,H=t[0].username+"",D=t[0].country+"",G=t[0].ranking+"",U=Number(t[0].pp).toFixed(2)+"",E=t[0].seed&&rt(t),B=t[0].elite&&st(),z=t[0].matches.length&&lt(t);return{c(){n=m("a"),r=m("div"),s=m("img"),a=h(),o=m("div"),i=f(H),d=h(),g=m("div"),y=m("img"),w=h(),x=f(D),C=h(),_=m("div"),E&&E.c(),S=h(),B&&B.c(),T=h(),z&&z.c(),q=h(),j=m("div"),O=f(G),N=h(),M=m("div"),P=f("("),L=f(U),A=f(" pp)"),v(s,"class","avatar svelte-19ib21r"),s.src!==(l=t[0].avatar)&&v(s,"src",l),v(s,"alt",""),v(r,"class","avatar svelte-19ib21r"),y.src!==($=`https://osu.ppy.sh/images/flags/${t[0].country_code}.png`)&&v(y,"src",$),v(y,"alt",""),v(y,"class","svelte-19ib21r"),v(g,"class","country svelte-19ib21r"),v(_,"class","stats svelte-19ib21r"),v(o,"class","name svelte-19ib21r"),v(M,"class","pp svelte-19ib21r"),v(j,"class","ranking svelte-19ib21r"),v(n,"class","player svelte-19ib21r"),v(n,"href",R=`https://osu.ppy.sh/users/${t[0].id}`),v(n,"target","_blank"),v(n,"rel","noopener"),k(n,"dead",!t[0].alive)},m(e,t){u(e,n,t),c(n,r),c(r,s),c(n,a),c(n,o),c(o,i),c(o,d),c(o,g),c(g,y),c(g,w),c(g,x),c(o,C),c(o,_),E&&E.m(_,null),c(_,S),B&&B.m(_,null),c(_,T),z&&z.m(_,null),c(n,q),c(n,j),c(j,O),c(j,N),c(j,M),c(M,P),c(M,L),c(M,A)},p(e,[t]){1&t&&s.src!==(l=e[0].avatar)&&v(s,"src",l),1&t&&H!==(H=e[0].username+"")&&b(i,H),1&t&&y.src!==($=`https://osu.ppy.sh/images/flags/${e[0].country_code}.png`)&&v(y,"src",$),1&t&&D!==(D=e[0].country+"")&&b(x,D),e[0].seed?E?E.p(e,t):(E=rt(e),E.c(),E.m(_,S)):E&&(E.d(1),E=null),e[0].elite?B||(B=st(),B.c(),B.m(_,T)):B&&(B.d(1),B=null),e[0].matches.length?z?z.p(e,t):(z=lt(e),z.c(),z.m(_,null)):z&&(z.d(1),z=null),1&t&&G!==(G=e[0].ranking+"")&&b(O,G),1&t&&U!==(U=Number(e[0].pp).toFixed(2)+"")&&b(L,U),1&t&&R!==(R=`https://osu.ppy.sh/users/${e[0].id}`)&&v(n,"href",R),1&t&&k(n,"dead",!e[0].alive)},i:e,o:e,d(e){e&&p(n),E&&E.d(),B&&B.d(),z&&z.d()}}}function ot(e,t,n){let{player:r}=t;return e.$$set=e=>{"player"in e&&n(0,r=e.player)},[r]}class it extends Z{constructor(e){super(),X(this,e,ot,at,l,{player:0})}}function ct(e,t,n){const r=e.slice();return r[4]=t[n],r}function ut(e){let t,n,r;return n=new _e({props:{href:"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw",$$slots:{default:[pt]},$$scope:{ctx:e}}}),{c(){t=m("p"),F(n.$$.fragment),v(t,"class","register svelte-g74cd1")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},i(e){r||(B(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function pt(e){let t;return{c(){t=f("Register")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function dt(e){let t,n,r,s,l,a,o=e[1].length+"",i=[],d=new Map,y=e[1];const $=e=>e[4].id;for(let t=0;t<y.length;t+=1){let n=ct(e,y,t),r=$(n);d.set(r,i[t]=ht(r,n))}let w=null;return y.length||(w=ft()),{c(){t=m("div"),n=f("Total players: "),r=f(o),s=h();for(let e=0;e<i.length;e+=1)i[e].c();l=g(),w&&w.c(),v(t,"class","stats")},m(e,o){u(e,t,o),c(t,n),c(t,r),u(e,s,o);for(let t=0;t<i.length;t+=1)i[t].m(e,o);u(e,l,o),w&&w.m(e,o),a=!0},p(e,t){(!a||2&t)&&o!==(o=e[1].length+"")&&b(r,o),2&t&&(y=e[1],U(),i=Y(i,t,$,1,e,y,d,l.parentNode,I,ht,l,ct),E(),y.length?w&&(w.d(1),w=null):w||(w=ft(),w.c(),w.m(l.parentNode,l)))},i(e){if(!a){for(let e=0;e<y.length;e+=1)B(i[e]);a=!0}},o(e){for(let e=0;e<i.length;e+=1)z(i[e]);a=!1},d(e){e&&p(t),e&&p(s);for(let t=0;t<i.length;t+=1)i[t].d(e);e&&p(l),w&&w.d(e)}}}function mt(t){let n;return{c(){n=f("Loading players...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function ft(e){let t;return{c(){t=f("No players registered yet!")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function ht(e,t){let n,r,s;return r=new it({props:{player:t[4]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.player=t[4]),r.$set(s)},i(e){s||(B(r.$$.fragment,e),s=!0)},o(e){z(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function gt(e){let t,n,r,s,l,a=!e[0]&&ut(e);const o=[mt,dt],i=[];function c(e,t){return e[1]?1:0}return r=c(e),s=i[r]=o[r](e),{c(){a&&a.c(),t=h(),n=m("p"),s.c(),v(n,"class","players svelte-g74cd1")},m(e,s){a&&a.m(e,s),u(e,t,s),u(e,n,s),i[r].m(n,null),l=!0},p(e,[l]){e[0]?a&&(U(),z(a,1,1,(()=>{a=null})),E()):a?1&l&&B(a,1):(a=ut(e),a.c(),B(a,1),a.m(t.parentNode,t));let u=r;r=c(e),r===u?i[r].p(e,l):(U(),z(i[u],1,1,(()=>{i[u]=null})),E(),s=i[r],s?s.p(e,l):(s=i[r]=o[r](e),s.c()),B(s,1),s.m(n,null))},i(e){l||(B(a),B(s),l=!0)},o(e){z(a),z(s),l=!1},d(e){a&&a.d(e),e&&p(t),e&&p(n),i[r].d()}}}function yt(e,t,n){let r,s;return a(e,re,(e=>n(0,r=e))),a(e,se,(e=>n(1,s=e))),[r,s]}class vt extends Z{constructor(e){super(),X(this,e,yt,gt,l,{})}}function $t(e,t,n){const r=e.slice();return r[5]=t[n].players,r[6]=t[n].country,r[7]=t[n].aliveCount,r}function bt(e,t,n){const r=e.slice();return r[10]=t[n],r}function wt(e){let t;return{c(){t=f("Loading...")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function kt(e){let t,n,r,s=e[7]+"";return{c(){t=f("("),n=f(s),r=f(" alive)")},m(e,s){u(e,t,s),u(e,n,s),u(e,r,s)},p(e,t){2&t&&s!==(s=e[7]+"")&&b(n,s)},d(e){e&&p(t),e&&p(n),e&&p(r)}}}function xt(e){let t,n,r,s=e[5],l=[];for(let t=0;t<s.length;t+=1)l[t]=Ct(bt(e,s,t));const a=e=>z(l[e],1,1,(()=>{l[e]=null}));return{c(){t=m("div");for(let e=0;e<l.length;e+=1)l[e].c();n=h(),v(t,"class","players svelte-1q27u36")},m(e,s){u(e,t,s);for(let e=0;e<l.length;e+=1)l[e].m(t,null);c(t,n),r=!0},p(e,r){if(2&r){let o;for(s=e[5],o=0;o<s.length;o+=1){const a=bt(e,s,o);l[o]?(l[o].p(a,r),B(l[o],1)):(l[o]=Ct(a),l[o].c(),B(l[o],1),l[o].m(t,n))}for(U(),o=s.length;o<l.length;o+=1)a(o);E()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)B(l[e]);r=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)z(l[e]);r=!1},d(e){e&&p(t),d(l,e)}}}function Ct(e){let t,n;return t=new it({props:{player:e[10]}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.player=e[10]),t.$set(r)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function _t(e,t){let n,r,s,l,a,o,i,d,$,w,k,x,C,_,S,T,q=t[6]+"",j=t[5].length+"",O=1==t[5].length?"":"s",N=t[0]==t[6]?"▼":"►",M=t[7]&&kt(t);function P(){return t[4](t[6])}let L=t[0]==t[6]&&xt(t);return{key:e,first:null,c(){n=m("div"),r=m("div"),s=f(q),l=f(": "),a=f(j),o=f(" player"),i=f(O),d=h(),M&&M.c(),$=h(),w=m("div"),k=f(N),x=h(),L&&L.c(),C=g(),v(r,"class","label svelte-1q27u36"),v(w,"class","pointer"),v(n,"class","country svelte-1q27u36"),this.first=n},m(e,t){u(e,n,t),c(n,r),c(r,s),c(r,l),c(r,a),c(r,o),c(r,i),c(r,d),M&&M.m(r,null),c(n,$),c(n,w),c(w,k),u(e,x,t),L&&L.m(e,t),u(e,C,t),_=!0,S||(T=y(n,"click",P),S=!0)},p(e,n){t=e,(!_||2&n)&&q!==(q=t[6]+"")&&b(s,q),(!_||2&n)&&j!==(j=t[5].length+"")&&b(a,j),(!_||2&n)&&O!==(O=1==t[5].length?"":"s")&&b(i,O),t[7]?M?M.p(t,n):(M=kt(t),M.c(),M.m(r,null)):M&&(M.d(1),M=null),(!_||3&n)&&N!==(N=t[0]==t[6]?"▼":"►")&&b(k,N),t[0]==t[6]?L?(L.p(t,n),3&n&&B(L,1)):(L=xt(t),L.c(),B(L,1),L.m(C.parentNode,C)):L&&(U(),z(L,1,1,(()=>{L=null})),E())},i(e){_||(B(L),_=!0)},o(e){z(L),_=!1},d(e){e&&p(n),M&&M.d(),e&&p(x),L&&L.d(e),e&&p(C),S=!1,T()}}}function St(e){let t,n,r=[],s=new Map,l=e[1];const a=e=>e[6];for(let t=0;t<l.length;t+=1){let n=$t(e,l,t),o=a(n);s.set(o,r[t]=_t(o,n))}let o=null;return l.length||(o=wt()),{c(){t=m("div");for(let e=0;e<r.length;e+=1)r[e].c();o&&o.c(),v(t,"class","countries svelte-1q27u36")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);o&&o.m(t,null),n=!0},p(e,[n]){7&n&&(l=e[1],U(),r=Y(r,n,a,1,e,l,s,t,I,_t,null,$t),E(),l.length?o&&(o.d(1),o=null):o||(o=wt(),o.c(),o.m(t,null)))},i(e){if(!n){for(let e=0;e<l.length;e+=1)B(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)z(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d();o&&o.d()}}}function Tt(e,t,n){let r,s,l;a(e,se,(e=>n(3,s=e)));const o=e=>n(0,l=l==e?null:e);return e.$$.update=()=>{8&e.$$.dirty&&n(1,r=Object.values((null==s?void 0:s.reduce(((e,t)=>(e[t.country]||(e[t.country]={country:t.country,players:[],aliveCount:0}),e[t.country].players.push(t),t.alive&&(e[t.country].aliveCount+=1),e)),{}))||{}).sort(((e,t)=>e.players.length<t.players.length?1:-1)))},[l,r,o,s,e=>o(e)]}class qt extends Z{constructor(e){super(),X(this,e,Tt,St,l,{})}}function jt(e,t,n){const r=e.slice();return r[11]=t[n],r}function Ot(e){let t,n,r,s,l=e[0].name+"",a=e[2]&&Mt(e);return{c(){t=f(l),n=h(),a&&a.c(),r=g()},m(e,l){u(e,t,l),u(e,n,l),a&&a.m(e,l),u(e,r,l),s=!0},p(e,n){(!s||1&n)&&l!==(l=e[0].name+"")&&b(t,l),e[2]?a?(a.p(e,n),4&n&&B(a,1)):(a=Mt(e),a.c(),B(a,1),a.m(r.parentNode,r)):a&&(U(),z(a,1,1,(()=>{a=null})),E())},i(e){s||(B(a),s=!0)},o(e){z(a),s=!1},d(e){e&&p(t),e&&p(n),a&&a.d(e),e&&p(r)}}}function Nt(t){let n,r,s,l=t[0].name+"";return{c(){n=m("a"),r=f(l),v(n,"href",s=t[0].link),v(n,"target","_blank"),v(n,"rel","noopener")},m(e,t){u(e,n,t),c(n,r)},p(e,t){1&t&&l!==(l=e[0].name+"")&&b(r,l),1&t&&s!==(s=e[0].link)&&v(n,"href",s)},i:e,o:e,d(e){e&&p(n)}}}function Mt(e){let t,n,r,s;const l=[Lt,Pt],a=[];function o(e,t){return e[4]?0:1}return t=o(e),n=a[t]=l[t](e),{c(){n.c(),r=g()},m(e,n){a[t].m(e,n),u(e,r,n),s=!0},p(e,s){let i=t;t=o(e),t===i?a[t].p(e,s):(U(),z(a[i],1,1,(()=>{a[i]=null})),E(),n=a[t],n?n.p(e,s):(n=a[t]=l[t](e),n.c()),B(n,1),n.m(r.parentNode,r))},i(e){s||(B(n),s=!0)},o(e){z(n),s=!1},d(e){a[t].d(e),e&&p(r)}}}function Pt(e){let t,n;return t=new _e({props:{$$slots:{default:[At]},$$scope:{ctx:e}}}),t.$on("click",e[8]),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};16384&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Lt(t){let n;return{c(){n=f("...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function At(e){let t;return{c(){t=f("Sign up")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Rt(t){let n;return{c(){n=f("To be defined")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Ht(e){let t,n,r,s=e[0].referee.username+"";return{c(){t=m("a"),n=f(s),v(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].referee.username+"")&&b(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&v(t,"href",r)},d(e){e&&p(t)}}}function Dt(e){let t,n,r,s,l,a,o,i=(e[0].available_referees.map(It).join(", ")||"None")+"";function c(e,t){return e[3]?Et:e[6]?Ut:Gt}let d=c(e),y=d(e);return{c(){t=m("br"),n=h(),r=m("b"),r.textContent="Available referees",s=f(":\r\n        "),l=f(i),a=f(" -\r\n        "),y.c(),o=g()},m(e,i){u(e,t,i),u(e,n,i),u(e,r,i),u(e,s,i),u(e,l,i),u(e,a,i),y.m(e,i),u(e,o,i)},p(e,t){1&t&&i!==(i=(e[0].available_referees.map(It).join(", ")||"None")+"")&&b(l,i),d===(d=c(e))&&y?y.p(e,t):(y.d(1),y=d(e),y&&(y.c(),y.m(o.parentNode,o)))},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s),e&&p(l),e&&p(a),y.d(e),e&&p(o)}}}function Gt(t){let n,r,s;return{c(){n=m("a"),n.textContent="Add yourself as available",v(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=y(n,"click",t[7]),r=!0)},p:e,d(e){e&&p(n),r=!1,s()}}}function Ut(t){let n,r,s;return{c(){n=m("a"),n.textContent="Remove yourself",v(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=y(n,"click",t[7]),r=!0)},p:e,d(e){e&&p(n),r=!1,s()}}}function Et(t){let n;return{c(){n=f("Processing...")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Bt(t){let n;return{c(){n=m("a"),n.textContent="Free spot!",v(n,"class","free-spot svelte-mwswut")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function zt(e){let t,n,r,s=e[0].players[e[11]].username+"";return{c(){t=m("a"),n=f(s),v(t,"href",r=`https://osu.ppy.sh/users/${e[0].players[e[11]].id}`),v(t,"class","svelte-mwswut")},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].players[e[11]].username+"")&&b(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].players[e[11]].id}`)&&v(t,"href",r)},d(e){e&&p(t)}}}function Wt(e){let t;function n(e,t){return e[0].players[e[11]]?zt:e[0].link?void 0:Bt}let r=n(e),s=r&&r(e);return{c(){s&&s.c(),t=g()},m(e,n){s&&s.m(e,n),u(e,t,n)},p(e,l){r===(r=n(e))&&s?s.p(e,l):(s&&s.d(1),s=r&&r(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s&&s.d(e),e&&p(t)}}}function Jt(e){let t,n,r,s,l,a,o,i,g,y,$,w,k,x,C,_,S,T,q,j,O,N=e[5].toUTCString().replace(":00 GMT"," UTC+0")+"",M=e[5].toTimeString().replace(":00 GMT"," UTC")+"";const P=[Nt,Ot],L=[];function A(e,t){return e[0].link?0:1}function R(e,t){return e[0].referee?Ht:Rt}r=A(e),s=L[r]=P[r](e);let H=R(e),D=H(e),G=e[1]&&Dt(e),W=[0,1,2,3,4,5,6,7],J=[];for(let t=0;t<8;t+=1)J[t]=Wt(jt(e,W,t));return{c(){t=m("div"),n=m("div"),s.c(),l=h(),a=m("div"),o=m("div"),i=f(N),g=h(),y=m("div"),$=f("Your local time: "),w=m("b"),k=f(M),x=h(),C=m("div"),_=m("b"),_.textContent="Referee",S=f(":\r\n      "),D.c(),T=h(),G&&G.c(),q=h(),j=m("div");for(let e=0;e<8;e+=1)J[e].c();v(n,"class","name svelte-mwswut"),v(o,"class","utc svelte-mwswut"),v(y,"class","time svelte-mwswut"),v(C,"class","referee svelte-mwswut"),v(j,"class","players svelte-mwswut"),v(a,"class","body"),v(t,"class","lobby svelte-mwswut")},m(e,s){u(e,t,s),c(t,n),L[r].m(n,null),c(t,l),c(t,a),c(a,o),c(o,i),c(a,g),c(a,y),c(y,$),c(y,w),c(w,k),c(a,x),c(a,C),c(C,_),c(C,S),D.m(C,null),c(C,T),G&&G.m(C,null),c(a,q),c(a,j);for(let e=0;e<8;e+=1)J[e].m(j,null);O=!0},p(e,[t]){let l=r;if(r=A(e),r===l?L[r].p(e,t):(U(),z(L[l],1,1,(()=>{L[l]=null})),E(),s=L[r],s?s.p(e,t):(s=L[r]=P[r](e),s.c()),B(s,1),s.m(n,null)),(!O||32&t)&&N!==(N=e[5].toUTCString().replace(":00 GMT"," UTC+0")+"")&&b(i,N),(!O||32&t)&&M!==(M=e[5].toTimeString().replace(":00 GMT"," UTC")+"")&&b(k,M),H===(H=R(e))&&D?D.p(e,t):(D.d(1),D=H(e),D&&(D.c(),D.m(C,T))),e[1]?G?G.p(e,t):(G=Dt(e),G.c(),G.m(C,null)):G&&(G.d(1),G=null),1&t){let n;for(W=[0,1,2,3,4,5,6,7],n=0;n<8;n+=1){const r=jt(e,W,n);J[n]?J[n].p(r,t):(J[n]=Wt(r),J[n].c(),J[n].m(j,null))}for(;n<8;n+=1)J[n].d(1)}},i(e){O||(B(s),O=!0)},o(e){z(s),O=!1},d(e){e&&p(t),L[r].d(),D.d(),G&&G.d(),d(J,e)}}}const It=({referee:e})=>e.username;function Yt(e,t,n){let r,s,l;a(e,re,(e=>n(9,l=e)));var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{i(r.next(e))}catch(e){l(e)}}function o(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}i((r=r.apply(e,t||[])).next())}))};let i,{lobby:c}=t,{toggleAvailable:u}=t,{setSchedule:p}=t;let d;return e.$$set=e=>{"lobby"in e&&n(0,c=e.lobby),"toggleAvailable"in e&&n(1,u=e.toggleAvailable),"setSchedule"in e&&n(2,p=e.setSchedule)},e.$$.update=()=>{1&e.$$.dirty&&n(5,r=new Date(c.time)),515&e.$$.dirty&&n(6,s=u&&c.available_referees.find((({referee:e})=>e.id==l.id)))},[c,u,p,i,d,r,s,()=>o(void 0,void 0,void 0,(function*(){n(3,i=!0),yield u(),n(3,i=!1)})),()=>o(void 0,void 0,void 0,(function*(){n(4,d=!0),yield p(),n(4,d=!1)})),l]}class Ft extends Z{constructor(e){super(),X(this,e,Yt,Jt,l,{lobby:0,toggleAvailable:1,setSchedule:2})}}function Qt(t){let n,r,s,l,a,o,i,d,g,$,w,x,C,_,S,T,q,j,O,N,M,P,L,A,R,H,D,G,U,E,B,z,W,J,I,Y,F,Q,K,V,X,Z,ee,te,ne,re,se,le,ae,oe=t[0].artist+"",ie=t[0].name+"",ce=t[0].difficulty+"",ue=t[0].category+"",pe=t[0].charter+"",de=t[0].sr+"",me=t[0].length+"",fe=t[0].bpm+"",he=t[0].od+"",ge=t[0].hp+"",ye=t[0].weight+"";return{c(){n=m("div"),r=m("div"),s=m("div"),l=m("a"),a=f(oe),o=f(" - "),i=f(ie),d=m("br"),g=f(ce),w=h(),x=m("div"),C=f(ue),_=h(),S=m("div"),T=m("div"),q=f("Mapset by "),j=m("a"),O=f(pe),M=h(),P=m("div"),L=m("span"),A=f("⭐ "),R=f(de),H=h(),D=m("span"),G=f("⏰ "),U=f(me),E=h(),B=m("span"),z=f("🎵 "),W=f(fe),J=f(" BPM"),I=h(),Y=m("span"),F=f("🎯 OD "),Q=f(he),K=h(),V=m("span"),X=f("❤️ HP "),Z=f(ge),ee=h(),te=m("span"),ne=f("⚖️ Weight "),re=f(ye),v(l,"class","name svelte-ttf8w6"),v(l,"href",$=`https://osu.ppy.sh/beatmaps/${t[0].id}`),v(l,"target","_blank"),v(l,"rel","noopener"),v(x,"class","category svelte-ttf8w6"),v(s,"class","header svelte-ttf8w6"),v(j,"href",N=`https://osu.ppy.sh/users/${t[0].charter_id}`),v(j,"class","svelte-ttf8w6"),v(T,"class","mapper"),v(L,"class","stat-item svelte-ttf8w6"),v(D,"class","stat-item svelte-ttf8w6"),v(B,"class","stat-item svelte-ttf8w6"),v(Y,"class","stat-item svelte-ttf8w6"),v(V,"class","stat-item svelte-ttf8w6"),v(te,"class","stat-item svelte-ttf8w6"),v(P,"class","stats svelte-ttf8w6"),v(S,"class","body svelte-ttf8w6"),v(r,"class","container svelte-ttf8w6"),v(n,"class","map svelte-ttf8w6"),v(n,"style",se=`background-image:url(${t[0].cover})`),k(n,"rice",t[0].category.toLowerCase().match(/rice|tech/)),k(n,"ln",t[0].category.toLowerCase().includes("ln")),k(n,"hybrid",t[0].category.toLowerCase().includes("hybrid")),k(n,"tiebreaker",t[0].category.toLowerCase().includes("tiebreaker"))},m(e,p){u(e,n,p),c(n,r),c(r,s),c(s,l),c(l,a),c(l,o),c(l,i),c(l,d),c(l,g),c(s,w),c(s,x),c(x,C),c(r,_),c(r,S),c(S,T),c(T,q),c(T,j),c(j,O),c(S,M),c(S,P),c(P,L),c(L,A),c(L,R),c(P,H),c(P,D),c(D,G),c(D,U),c(P,E),c(P,B),c(B,z),c(B,W),c(B,J),c(P,I),c(P,Y),c(Y,F),c(Y,Q),c(P,K),c(P,V),c(V,X),c(V,Z),c(P,ee),c(P,te),c(te,ne),c(te,re),le||(ae=y(n,"click",t[1]),le=!0)},p(e,[t]){1&t&&oe!==(oe=e[0].artist+"")&&b(a,oe),1&t&&ie!==(ie=e[0].name+"")&&b(i,ie),1&t&&ce!==(ce=e[0].difficulty+"")&&b(g,ce),1&t&&$!==($=`https://osu.ppy.sh/beatmaps/${e[0].id}`)&&v(l,"href",$),1&t&&ue!==(ue=e[0].category+"")&&b(C,ue),1&t&&pe!==(pe=e[0].charter+"")&&b(O,pe),1&t&&N!==(N=`https://osu.ppy.sh/users/${e[0].charter_id}`)&&v(j,"href",N),1&t&&de!==(de=e[0].sr+"")&&b(R,de),1&t&&me!==(me=e[0].length+"")&&b(U,me),1&t&&fe!==(fe=e[0].bpm+"")&&b(W,fe),1&t&&he!==(he=e[0].od+"")&&b(Q,he),1&t&&ge!==(ge=e[0].hp+"")&&b(Z,ge),1&t&&ye!==(ye=e[0].weight+"")&&b(re,ye),1&t&&se!==(se=`background-image:url(${e[0].cover})`)&&v(n,"style",se),1&t&&k(n,"rice",e[0].category.toLowerCase().match(/rice|tech/)),1&t&&k(n,"ln",e[0].category.toLowerCase().includes("ln")),1&t&&k(n,"hybrid",e[0].category.toLowerCase().includes("hybrid")),1&t&&k(n,"tiebreaker",e[0].category.toLowerCase().includes("tiebreaker"))},i:e,o:e,d(e){e&&p(n),le=!1,ae()}}}function Kt(e,t,n){let{map:r}=t;return e.$$set=e=>{"map"in e&&n(0,r=e.map)},[r,function(t){S(e,t)}]}class Vt extends Z{constructor(e){super(),X(this,e,Kt,Qt,l,{map:0})}}const Xt=te(null),Zt=te(null),{Map:en}=W;function tn(e,t,n){const r=e.slice();return r[8]=t[n],r}function nn(e,t,n){const r=e.slice();return r[11]=t[n],r}function rn(e){let t;function n(e,t){return e[0].qualifier?ln:sn}let r=n(e),s=r(e);return{c(){t=m("p"),s.c(),v(t,"class","intro svelte-1pt4gyt")},m(e,n){u(e,t,n),s.m(t,null)},p(e,l){r===(r=n(e))&&s?s.p(e,l):(s.d(1),s=r(e),s&&(s.c(),s.m(t,null)))},d(e){e&&p(t),s.d()}}}function sn(e){let t,n,r,s,l,a,o,i,c,d,h,g=e[0].username+"";return{c(){t=f("Welcome, player "),n=f(g),r=f("!"),s=m("br"),l=m("br"),a=f("\r\n    You can feel free to put yourself in any qualifier with a free spot in it."),o=m("br"),i=m("br"),c=f("\r\n    If there is no lobby that suits you, please specify a time in the #reschedules channel in the Discord:"),d=m("br"),h=f("\r\n    we will try to organize a special extra lobby.")},m(e,p){u(e,t,p),u(e,n,p),u(e,r,p),u(e,s,p),u(e,l,p),u(e,a,p),u(e,o,p),u(e,i,p),u(e,c,p),u(e,d,p),u(e,h,p)},p(e,t){1&t&&g!==(g=e[0].username+"")&&b(n,g)},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s),e&&p(l),e&&p(a),e&&p(o),e&&p(i),e&&p(c),e&&p(d),e&&p(h)}}}function ln(e){let t,n,r,s,l,a,o,i,d,h,g,y,v,$,w,k,x,C,_,S,T,q,j,O,N,M,P,L,A,R,H=e[0].qualifier.name+"",D=e[2].toUTCString().replace(":00 GMT"," UTC+0")+"",G=e[2].toTimeString().replace(":00 GMT"," UTC")+"";return{c(){t=f("You are in "),n=m("b"),r=f("Lobby "),s=f(H),l=f(" happening on\r\n    "),a=m("b"),o=f(D),i=m("br"),d=f("\r\n    (converted to your local time: "),h=m("b"),g=f(G),y=f(").\r\n    "),v=m("br"),$=m("br"),w=f("\r\n    The referee will ping you on Discord (make sure you are in our Discord) "),k=m("b"),k.textContent="15 minutes",x=f(" before the time"),C=m("br"),_=f("\r\n    and will invite you in the multiplayer lobby "),S=m("b"),S.textContent="5 minutes",T=f(" before the time. Make sure you are logged in the game by then!\r\n    "),q=m("br"),j=m("br"),O=f("\r\n    Once you are in the game, you will play all maps "),N=m("b"),N.textContent="2 times",M=f(":"),P=m("br"),L=f("\r\n    the best score on each map will count in the final qualifiers leaderboard and determine your seed.\r\n    "),A=m("br"),R=m("br")},m(e,p){u(e,t,p),u(e,n,p),c(n,r),c(n,s),u(e,l,p),u(e,a,p),c(a,o),u(e,i,p),u(e,d,p),u(e,h,p),c(h,g),u(e,y,p),u(e,v,p),u(e,$,p),u(e,w,p),u(e,k,p),u(e,x,p),u(e,C,p),u(e,_,p),u(e,S,p),u(e,T,p),u(e,q,p),u(e,j,p),u(e,O,p),u(e,N,p),u(e,M,p),u(e,P,p),u(e,L,p),u(e,A,p),u(e,R,p)},p(e,t){1&t&&H!==(H=e[0].qualifier.name+"")&&b(s,H),4&t&&D!==(D=e[2].toUTCString().replace(":00 GMT"," UTC+0")+"")&&b(o,D),4&t&&G!==(G=e[2].toTimeString().replace(":00 GMT"," UTC")+"")&&b(g,G)},d(e){e&&p(t),e&&p(n),e&&p(l),e&&p(a),e&&p(i),e&&p(d),e&&p(h),e&&p(y),e&&p(v),e&&p($),e&&p(w),e&&p(k),e&&p(x),e&&p(C),e&&p(_),e&&p(S),e&&p(T),e&&p(q),e&&p(j),e&&p(O),e&&p(N),e&&p(M),e&&p(P),e&&p(L),e&&p(A),e&&p(R)}}}function an(e){let t,n,r,s,l=[],a=new en,o=[],i=new en,c=e[3];const d=e=>e[11].id;for(let t=0;t<c.length;t+=1){let n=nn(e,c,t),r=d(n);a.set(r,l[t]=cn(r,n))}let f=e[1];const g=e=>e[8].name;for(let t=0;t<f.length;t+=1){let n=tn(e,f,t),r=g(n);i.set(r,o[t]=un(r,n))}return{c(){t=m("p");for(let e=0;e<l.length;e+=1)l[e].c();n=h(),r=m("p");for(let e=0;e<o.length;e+=1)o[e].c();v(t,"class","maps svelte-1pt4gyt"),v(r,"class","lobbies svelte-1pt4gyt")},m(e,a){u(e,t,a);for(let e=0;e<l.length;e+=1)l[e].m(t,null);u(e,n,a),u(e,r,a);for(let e=0;e<o.length;e+=1)o[e].m(r,null);s=!0},p(e,n){8&n&&(c=e[3],U(),l=Y(l,n,d,1,e,c,a,t,I,cn,null,nn),E()),51&n&&(f=e[1],U(),o=Y(o,n,g,1,e,f,i,r,I,un,null,tn),E())},i(e){if(!s){for(let e=0;e<c.length;e+=1)B(l[e]);for(let e=0;e<f.length;e+=1)B(o[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)z(l[e]);for(let e=0;e<o.length;e+=1)z(o[e]);s=!1},d(e){e&&p(t);for(let e=0;e<l.length;e+=1)l[e].d();e&&p(n),e&&p(r);for(let e=0;e<o.length;e+=1)o[e].d()}}}function on(t){let n;return{c(){n=m("p"),n.textContent="Loading qualifier lobbies...",v(n,"class","lobbies svelte-1pt4gyt")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function cn(e,t){let n,r,s;return r=new Vt({props:{map:t[11]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.map=t[11]),r.$set(s)},i(e){s||(B(r.$$.fragment,e),s=!0)},o(e){z(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function un(e,t){let n,r,s;return r=new Ft({props:{lobby:t[8],toggleAvailable:t[0]?.referee&&t[4](t[8]),setSchedule:t[0]?.player&&!t[0]?.qualifier?.link&&t[5](t[8])}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.lobby=t[8]),3&n&&(s.toggleAvailable=t[0]?.referee&&t[4](t[8])),3&n&&(s.setSchedule=t[0]?.player&&!t[0]?.qualifier?.link&&t[5](t[8])),r.$set(s)},i(e){s||(B(r.$$.fragment,e),s=!0)},o(e){z(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function pn(e){let t,n,r,s,l,a,o,i=e[0]?.player&&rn(e);const c=[on,an],d=[];function f(e,t){return e[1]?1:0}return s=f(e),l=d[s]=c[s](e),{c(){t=m("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers">Player ranking</a>',n=h(),i&&i.c(),r=h(),l.c(),a=g(),v(t,"class","links svelte-1pt4gyt")},m(e,l){u(e,t,l),u(e,n,l),i&&i.m(e,l),u(e,r,l),d[s].m(e,l),u(e,a,l),o=!0},p(e,[t]){e[0]?.player?i?i.p(e,t):(i=rn(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null);let n=s;s=f(e),s===n?d[s].p(e,t):(U(),z(d[n],1,1,(()=>{d[n]=null})),E(),l=d[s],l?l.p(e,t):(l=d[s]=c[s](e),l.c()),B(l,1),l.m(a.parentNode,a))},i(e){o||(B(l),o=!0)},o(e){z(l),o=!1},d(e){e&&p(t),e&&p(n),i&&i.d(e),e&&p(r),d[s].d(e),e&&p(a)}}}function dn(e,t,n){let r,s,l,o;a(e,Xt,(e=>n(1,s=e))),a(e,re,(e=>n(0,l=e))),a(e,Zt,(e=>n(3,o=e)));var i,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{i(r.next(e))}catch(e){l(e)}}function o(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}i((r=r.apply(e,t||[])).next())}))};s||(async()=>{const{data:e}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "qualifiers"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  qualifier_lobbies(sort: "time") {\n    name\n    link\n    players {\n      id\n      username\n    }\n    time\n    referee {\n      id\n      username\n    }\n    available_referees {\n      rel_id: id\n      referee: referees_id {\n        id\n        username\n      }\n    }\n  }\n}'})});Xt.set(e.qualifier_lobbies),Zt.set(e.maps)})();return e.$$.update=()=>{65&e.$$.dirty&&n(2,r=new Date(null===n(6,i=null==l?void 0:l.qualifier)||void 0===i?void 0:i.time))},[l,s,r,o,e=>()=>c(void 0,void 0,void 0,(function*(){const t=e.available_referees.find((({referee:e})=>e.id==l.id)),n=yield de(`/items/qualifier_lobbies/${e.name}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({available_referees:t?{delete:[t.rel_id]}:{create:[{referees_id:l.id}]}})});n.errors?alert(n.errors[0].message):Xt.set(s.map((r=>(r.name!=e.name||(t?r.available_referees=r.available_referees.filter((({referee:e})=>e.id!=l.id)):r.available_referees.push({rel_id:n.data.available_referees.pop(),referee:l.referee})),r))))})),e=>()=>c(void 0,void 0,void 0,(function*(){const t=yield de("/custom/qualifiers/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qualifier:e.name})});t.errors&&alert(t.errors[0].message),location.reload()})),i]}class mn extends Z{constructor(e){super(),X(this,e,dn,pn,l,{})}}function fn(t){let n,r,s,l,a,o,i,d,g,y,$,w,x,C,_,S,T,q,j,O,N,M,P,L,A,R,H,D,G,U,E,B,z,W,J,I,Y=t[1].position+"",F=t[0].username+"",Q=t[1].score+"",K=t[3].toFixed(2)+"",V=t[1].combo+"",X=t[1].c320+"",Z=t[1].c300+"",ee=t[1].c200+"",te=t[1].c100+"",ne=t[1].c50+"",re=t[1].c0+"";return{c(){n=m("div"),r=m("div"),s=f(Y),l=f("."),a=h(),o=m("div"),i=m("a"),d=f(F),y=h(),$=m("div"),w=f(Q),x=h(),C=m("div"),_=f(K),S=f("%, x"),T=f(V),q=h(),j=m("div"),O=m("div"),N=f(X),M=h(),P=m("div"),L=f(Z),A=h(),R=m("div"),H=f(ee),D=h(),G=m("div"),U=f(te),E=h(),B=m("div"),z=f(ne),W=h(),J=m("div"),I=f(re),v(r,"class","position svelte-1m6wbdm"),v(i,"href",g=`https://osu.ppy.sh/users/${t[0].id}`),v(i,"target","_blank"),v(i,"rel","noopener"),v(o,"class","player svelte-1m6wbdm"),v(C,"class","details svelte-1m6wbdm"),v($,"class","value svelte-1m6wbdm"),v(O,"class","judgement svelte-1m6wbdm"),v(P,"class","judgement svelte-1m6wbdm"),v(R,"class","judgement svelte-1m6wbdm"),v(G,"class","judgement svelte-1m6wbdm"),v(B,"class","judgement svelte-1m6wbdm"),v(J,"class","judgement svelte-1m6wbdm"),v(j,"class","judgements svelte-1m6wbdm"),v(n,"class","score svelte-1m6wbdm"),k(n,"me",t[2]?.id==t[0].id)},m(e,t){u(e,n,t),c(n,r),c(r,s),c(r,l),c(n,a),c(n,o),c(o,i),c(i,d),c(n,y),c(n,$),c($,w),c($,x),c($,C),c(C,_),c(C,S),c(C,T),c(n,q),c(n,j),c(j,O),c(O,N),c(j,M),c(j,P),c(P,L),c(j,A),c(j,R),c(R,H),c(j,D),c(j,G),c(G,U),c(j,E),c(j,B),c(B,z),c(j,W),c(j,J),c(J,I)},p(e,[t]){2&t&&Y!==(Y=e[1].position+"")&&b(s,Y),1&t&&F!==(F=e[0].username+"")&&b(d,F),1&t&&g!==(g=`https://osu.ppy.sh/users/${e[0].id}`)&&v(i,"href",g),2&t&&Q!==(Q=e[1].score+"")&&b(w,Q),2&t&&V!==(V=e[1].combo+"")&&b(T,V),2&t&&X!==(X=e[1].c320+"")&&b(N,X),2&t&&Z!==(Z=e[1].c300+"")&&b(L,Z),2&t&&ee!==(ee=e[1].c200+"")&&b(H,ee),2&t&&te!==(te=e[1].c100+"")&&b(U,te),2&t&&ne!==(ne=e[1].c50+"")&&b(z,ne),2&t&&re!==(re=e[1].c0+"")&&b(I,re),5&t&&k(n,"me",e[2]?.id==e[0].id)},i:e,o:e,d(e){e&&p(n)}}}function hn(e,t,n){let r;a(e,re,(e=>n(2,r=e)));let{player:s}=t,{score:l}=t;const o=l.c320+l.c300+l.c200+l.c100+l.c50+l.c0,i=(305*l.c320+300*l.c300+200*l.c200+100*l.c100+50*l.c50)/(3.05*o);return e.$$set=e=>{"player"in e&&n(0,s=e.player),"score"in e&&n(1,l=e.score)},[s,l,r,i]}class gn extends Z{constructor(e){super(),X(this,e,hn,fn,l,{player:0,score:1})}}const yn=te(null),vn=te(null),$n=te(null),bn=te(null),wn=te(null),kn=async e=>{var t,n;const r=e.filter((e=>!e.elite)),s=e.filter((e=>e.elite)),{data:l}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "qualifiers"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  qualifier_scores(sort: "-score", limit: -1) {\n    player {\n      id\n    }\n    map {\n      id\n    }\n    lobby {\n      name\n      link\n    }\n    score\n    combo\n    c320\n    c300\n    c200\n    c100\n    c50\n    c0\n  }\n}'})}),a=e=>[e.id,Object.assign(Object.assign({},e),{players:new Map})],o=new Map(l.maps.map(a)),i=new Map(l.maps.map(a)),c=t=>[t.id,Object.assign(Object.assign({},t),{totalScore:0,sumOfPositions:e.length*l.maps.length,mapScores:new Map(l.maps.map((e=>[e.id,[]])))})],u=new Map(r.map(c)),p=new Map(s.map(c));l.qualifier_scores.forEach((e=>{var t,n;let r;if(r=u.get(null===(t=e.player)||void 0===t?void 0:t.id)){if(!o.has(e.map.id))return;r.mapScores.get(e.map.id).push(e);const t=o.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,r)}else if(r=p.get(null===(n=e.player)||void 0===n?void 0:n.id)){if(!i.has(e.map.id))return;r.mapScores.get(e.map.id).push(e);const t=i.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,r)}}));for(const e of o.values()){const n=Array.from(e.players.values());for(let r=0;r<n.length;++r){const s=n[r].mapScores.get(e.id)[0],l=null===(t=n[r-1])||void 0===t?void 0:t.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}for(const e of i.values()){const t=Array.from(e.players.values());for(let r=0;r<t.length;++r){const s=t[r].mapScores.get(e.id)[0],l=null===(n=t[r-1])||void 0===n?void 0:n.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}for(const t of u.values())t.sumOfPositions=l.maps.reduce(((n,r)=>{var s,l;return t.totalScore+=null===(s=t.mapScores.get(r.id)[0])||void 0===s?void 0:s.score,n+((null===(l=t.mapScores.get(r.id)[0])||void 0===l?void 0:l.position)||e.length)}),0);for(const t of p.values())t.sumOfPositions=l.maps.reduce(((n,r)=>{var s,l;return t.totalScore+=null===(s=t.mapScores.get(r.id)[0])||void 0===s?void 0:s.score,n+((null===(l=t.mapScores.get(r.id)[0])||void 0===l?void 0:l.position)||e.length)}),0);const d=(e,t)=>e.sumOfPositions==t.sumOfPositions?e.totalScore<t.totalScore?1:-1:e.sumOfPositions<t.sumOfPositions?-1:1,m=Array.from(u.values()).sort(d),f=Array.from(p.values()).sort(d);m.forEach(((e,t)=>e.position=t+1)),f.forEach(((e,t)=>e.position=t+1)),yn.set(Array.from(o.values())),$n.set(Array.from(i.values())),vn.set(m),bn.set(f)},xn=(e,t)=>{const n=e.findIndex((e=>e.id==(null==t?void 0:t.id)));n>-1&&wn.set(Object.assign(Object.assign({},e[n]),{position:n+1}))},{Map:Cn}=W;function _n(e,t,n){const r=e.slice();return r[8]=t[n],r}function Sn(e,t,n){const r=e.slice();return r[11]=t[n],r}function Tn(e){let t,n,r=[],s=new Cn,l=e[0];const a=e=>e[8].id;for(let t=0;t<l.length;t+=1){let n=_n(e,l,t),o=a(n);s.set(o,r[t]=Mn(o,n))}return{c(){t=m("p");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","maps svelte-1pnvguw")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){15&n&&(l=e[0],U(),r=Y(r,n,a,1,e,l,s,t,I,Mn,null,_n),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)B(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)z(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function qn(t){let n;return{c(){n=m("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function jn(e){let t,n,r;return n=new gn({props:{player:e[1],score:e[1].mapScores.get(e[8].id)[0]}}),{c(){t=m("div"),F(n.$$.fragment),v(t,"class","my-qualifier svelte-1pnvguw")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.player=e[1]),3&t&&(r.score=e[1].mapScores.get(e[8].id)[0]),n.$set(r)},i(e){r||(B(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function On(e){let t,n,r=[],s=new Cn,l=Array.from(e[8].players.values());const a=e=>e[11].id;for(let t=0;t<l.length;t+=1){let n=Sn(e,l,t),o=a(n);s.set(o,r[t]=Nn(o,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);u(e,t,s),n=!0},p(e,n){1&n&&(l=Array.from(e[8].players.values()),U(),r=Y(r,n,a,1,e,l,s,t.parentNode,I,Nn,t,Sn),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)B(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)z(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&p(t)}}}function Nn(e,t){let n,r,s;return r=new gn({props:{player:t[11],score:t[11].mapScores.get(t[8].id)[0]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.player=t[11]),1&n&&(s.score=t[11].mapScores.get(t[8].id)[0]),r.$set(s)},i(e){s||(B(r.$$.fragment,e),s=!0)},o(e){z(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function Mn(e,t){let n,r,s,l,a,o,i,d,$,w,k,x,C=t[2][t[8].id]?"Show":"Hide";r=new Vt({props:{map:t[8]}});let _=t[1]&&jn(t);function S(){return t[7](t[8])}let T=!t[2][t[8].id]&&On(t);return{key:e,first:null,c(){n=g(),F(r.$$.fragment),s=h(),_&&_.c(),l=h(),a=m("a"),o=f(C),i=f(" scores"),d=h(),T&&T.c(),$=g(),v(a,"href","javascript:void(0)"),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),u(e,s,t),_&&_.m(e,t),u(e,l,t),u(e,a,t),c(a,o),c(a,i),u(e,d,t),T&&T.m(e,t),u(e,$,t),w=!0,k||(x=y(a,"click",S),k=!0)},p(e,n){t=e;const s={};1&n&&(s.map=t[8]),r.$set(s),t[1]?_?(_.p(t,n),2&n&&B(_,1)):(_=jn(t),_.c(),B(_,1),_.m(l.parentNode,l)):_&&(U(),z(_,1,1,(()=>{_=null})),E()),(!w||5&n)&&C!==(C=t[2][t[8].id]?"Show":"Hide")&&b(o,C),t[2][t[8].id]?T&&(U(),z(T,1,1,(()=>{T=null})),E()):T?(T.p(t,n),5&n&&B(T,1)):(T=On(t),T.c(),B(T,1),T.m($.parentNode,$))},i(e){w||(B(r.$$.fragment,e),B(_),B(T),w=!0)},o(e){z(r.$$.fragment,e),z(_),z(T),w=!1},d(e){e&&p(n),K(r,e),e&&p(s),_&&_.d(e),e&&p(l),e&&p(a),e&&p(d),T&&T.d(e),e&&p($),k=!1,x()}}}function Pn(e){let t,n,r,s,l,a;const o=[qn,Tn],i=[];function c(e,t){return e[0]?1:0}return r=c(e),s=i[r]=o[r](e),{c(){t=m("div"),t.innerHTML='<a href="#/qualifiers">Player rankings</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!elite!maps">Elite players</a>',n=h(),s.c(),l=g(),v(t,"class","links svelte-1pnvguw")},m(e,s){u(e,t,s),u(e,n,s),i[r].m(e,s),u(e,l,s),a=!0},p(e,[t]){let n=r;r=c(e),r===n?i[r].p(e,t):(U(),z(i[n],1,1,(()=>{i[n]=null})),E(),s=i[r],s?s.p(e,t):(s=i[r]=o[r](e),s.c()),B(s,1),s.m(l.parentNode,l))},i(e){a||(B(s),a=!0)},o(e){z(s),a=!1},d(e){e&&p(t),e&&p(n),i[r].d(e),e&&p(l)}}}function Ln(e,t,n){let r,s,l,o,i;a(e,yn,(e=>n(0,r=e))),a(e,se,(e=>n(4,s=e))),a(e,wn,(e=>n(1,l=e))),a(e,vn,(e=>n(5,o=e))),a(e,re,(e=>n(6,i=e)));let c={};const u=e=>{n(2,c=Object.assign(Object.assign({},c),{[e.id]:!c[e.id]}))};return e.$$.update=()=>{17&e.$$.dirty&&!r&&s&&kn(s),98&e.$$.dirty&&!l&&o&&i&&xn(o,i)},[r,l,c,u,s,o,i,e=>u(e)]}class An extends Z{constructor(e){super(),X(this,e,Ln,Pn,l,{})}}function Rn(e,t,n){const r=e.slice();return r[4]=t[n],r}function Hn(e,t){let n,r,s,l,a,o,i=(t[1].mapScores.get(t[4].id)[0]?.score||"N/A")+"",d=(t[1].mapScores.get(t[4].id)[0]?.position||"-")+"";return{key:e,first:null,c(){n=m("div"),r=f(i),s=m("br"),l=f("\r\n      ("),a=f(d),o=f(")\r\n    "),v(n,"class","score svelte-nyb024"),this.first=n},m(e,t){u(e,n,t),c(n,r),c(n,s),c(n,l),c(n,a),c(n,o)},p(e,n){t=e,6&n&&i!==(i=(t[1].mapScores.get(t[4].id)[0]?.score||"N/A")+"")&&b(r,i),6&n&&d!==(d=(t[1].mapScores.get(t[4].id)[0]?.position||"-")+"")&&b(a,d)},d(e){e&&p(n)}}}function Dn(t){let n,r,s,l,a,o,i,d,g,y,$,w,k,x,C,_,S,T,q,j,O,N,M,P,L,A,R,H=t[1].username+"",D=t[1].ranking+"",G=t[1].country+"",U=t[2].map(t[3]).join(" + ")+"",E=t[1].sumOfPositions+"",B=t[1].totalScore+"",z=[],W=new Map,I=t[2];const F=e=>e[4].id;for(let e=0;e<I.length;e+=1){let n=Rn(t,I,e),r=F(n);W.set(r,z[e]=Hn(r,n))}return{c(){n=m("a"),r=m("div"),s=m("img"),a=h(),o=m("div"),i=f(t[0]),d=f(". "),g=f(H),y=f(" (#"),$=f(D),w=f(")\r\n    "),k=m("div"),x=f(G),C=h(),_=m("div"),S=f(U),T=f("\r\n    =\r\n    "),q=m("b"),j=f(E),O=h(),N=m("div"),M=f("Total score: "),P=f(B),A=h(),R=m("div");for(let e=0;e<z.length;e+=1)z[e].c();v(s,"class","avatar svelte-nyb024"),s.src!==(l=t[1].avatar)&&v(s,"src",l),v(s,"alt",""),v(r,"class","avatar svelte-nyb024"),v(k,"class","country svelte-nyb024"),v(o,"class","name svelte-nyb024"),v(N,"class","total-score svelte-nyb024"),v(_,"class","positions svelte-nyb024"),v(n,"class","player svelte-nyb024"),v(n,"href",L=`https://osu.ppy.sh/users/${t[1].id}`),v(n,"target","_blank"),v(n,"rel","noopener"),v(R,"class","scores svelte-nyb024")},m(e,t){u(e,n,t),c(n,r),c(r,s),c(n,a),c(n,o),c(o,i),c(o,d),c(o,g),c(o,y),c(o,$),c(o,w),c(o,k),c(k,x),c(n,C),c(n,_),c(_,S),c(_,T),c(_,q),c(q,j),c(_,O),c(_,N),c(N,M),c(N,P),u(e,A,t),u(e,R,t);for(let e=0;e<z.length;e+=1)z[e].m(R,null)},p(e,[t]){2&t&&s.src!==(l=e[1].avatar)&&v(s,"src",l),1&t&&b(i,e[0]),2&t&&H!==(H=e[1].username+"")&&b(g,H),2&t&&D!==(D=e[1].ranking+"")&&b($,D),2&t&&G!==(G=e[1].country+"")&&b(x,G),6&t&&U!==(U=e[2].map(e[3]).join(" + ")+"")&&b(S,U),2&t&&E!==(E=e[1].sumOfPositions+"")&&b(j,E),2&t&&B!==(B=e[1].totalScore+"")&&b(P,B),2&t&&L!==(L=`https://osu.ppy.sh/users/${e[1].id}`)&&v(n,"href",L),6&t&&(I=e[2],z=Y(z,t,F,1,e,I,W,R,J,Hn,null,Rn))},i:e,o:e,d(e){e&&p(n),e&&p(A),e&&p(R);for(let e=0;e<z.length;e+=1)z[e].d()}}}function Gn(e,t,n){let{position:r}=t,{player:s}=t,{maps:l}=t;return e.$$set=e=>{"position"in e&&n(0,r=e.position),"player"in e&&n(1,s=e.player),"maps"in e&&n(2,l=e.maps)},[r,s,l,e=>s.mapScores.get(e.id)[0]?.position||"N/A"]}class Un extends Z{constructor(e){super(),X(this,e,Gn,Dn,l,{position:0,player:1,maps:2})}}function En(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function Bn(e){let t,n,r,s,l;return s=new Un({props:{position:e[1].position,player:e[1],maps:e[2]}}),{c(){t=m("div"),n=m("h1"),n.textContent="Your placement",r=h(),F(s.$$.fragment),v(t,"class","my-qualifier svelte-buidrs")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){const n={};2&t&&(n.position=e[1].position),2&t&&(n.player=e[1]),4&t&&(n.maps=e[2]),s.$set(n)},i(e){l||(B(s.$$.fragment,e),l=!0)},o(e){z(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function zn(e){let t,n,r=[],s=new Map,l=e[0];const a=e=>e[5].id;for(let t=0;t<l.length;t+=1){let n=En(e,l,t),o=a(n);s.set(o,r[t]=Kn(o,n))}return{c(){t=m("div");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","players svelte-buidrs")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){5&n&&(l=e[0],U(),r=Y(r,n,a,1,e,l,s,t,I,Kn,null,En),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)B(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)z(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Wn(t){let n;return{c(){n=m("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function Jn(e){let t;return{c(){t=m("h1"),t.textContent="Not qualified"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function In(e){let t;return{c(){t=m("h1"),t.textContent="Bottom seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Yn(e){let t;return{c(){t=m("h1"),t.textContent="Low seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Fn(e){let t;return{c(){t=m("h1"),t.textContent="High seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Qn(e){let t;return{c(){t=m("h1"),t.textContent="Top seed"},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Kn(e,t){let n,r,s,l;function a(e,t){return 0==e[7]?Qn:32==e[7]?Fn:64==e[7]?Yn:96==e[7]?In:128==e[7]?Jn:void 0}let o=a(t),i=o&&o(t);return s=new Un({props:{position:t[7]+1,player:t[5],maps:t[2]}}),{key:e,first:null,c(){n=g(),i&&i.c(),r=h(),F(s.$$.fragment),this.first=n},m(e,t){u(e,n,t),i&&i.m(e,t),u(e,r,t),Q(s,e,t),l=!0},p(e,n){o!==(o=a(t=e))&&(i&&i.d(1),i=o&&o(t),i&&(i.c(),i.m(r.parentNode,r)));const l={};1&n&&(l.position=t[7]+1),1&n&&(l.player=t[5]),4&n&&(l.maps=t[2]),s.$set(l)},i(e){l||(B(s.$$.fragment,e),l=!0)},o(e){z(s.$$.fragment,e),l=!1},d(e){e&&p(n),i&&i.d(e),e&&p(r),K(s,e)}}}function Vn(e){let t,n,r,s,l,a,o,i=e[1]&&Bn(e);const c=[Wn,zn],d=[];function f(e,t){return e[0]?1:0}return s=f(e),l=d[s]=c[s](e),{c(){t=m("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!elite">Elite players</a>',n=h(),i&&i.c(),r=h(),l.c(),a=g(),v(t,"class","links svelte-buidrs")},m(e,l){u(e,t,l),u(e,n,l),i&&i.m(e,l),u(e,r,l),d[s].m(e,l),u(e,a,l),o=!0},p(e,[t]){e[1]?i?(i.p(e,t),2&t&&B(i,1)):(i=Bn(e),i.c(),B(i,1),i.m(r.parentNode,r)):i&&(U(),z(i,1,1,(()=>{i=null})),E());let n=s;s=f(e),s===n?d[s].p(e,t):(U(),z(d[n],1,1,(()=>{d[n]=null})),E(),l=d[s],l?l.p(e,t):(l=d[s]=c[s](e),l.c()),B(l,1),l.m(a.parentNode,a))},i(e){o||(B(i),B(l),o=!0)},o(e){z(i),z(l),o=!1},d(e){e&&p(t),e&&p(n),i&&i.d(e),e&&p(r),d[s].d(e),e&&p(a)}}}function Xn(e,t,n){let r,s,l,o,i;return a(e,vn,(e=>n(0,r=e))),a(e,se,(e=>n(3,s=e))),a(e,wn,(e=>n(1,l=e))),a(e,re,(e=>n(4,o=e))),a(e,yn,(e=>n(2,i=e))),e.$$.update=()=>{9&e.$$.dirty&&!r&&s&&kn(s),19&e.$$.dirty&&!l&&r&&o&&xn(r,o)},[r,l,i,s,o]}class Zn extends Z{constructor(e){super(),X(this,e,Xn,Vn,l,{})}}const{Map:er}=W;function tr(e,t,n){const r=e.slice();return r[8]=t[n],r}function nr(e,t,n){const r=e.slice();return r[11]=t[n],r}function rr(e){let t,n,r=[],s=new er,l=e[0];const a=e=>e[8].id;for(let t=0;t<l.length;t+=1){let n=tr(e,l,t),o=a(n);s.set(o,r[t]=ir(o,n))}return{c(){t=m("p");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","maps svelte-1pnvguw")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){15&n&&(l=e[0],U(),r=Y(r,n,a,1,e,l,s,t,I,ir,null,tr),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)B(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)z(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function sr(t){let n;return{c(){n=m("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function lr(e){let t,n,r;return n=new gn({props:{player:e[1],score:e[1].mapScores.get(e[8].id)[0]}}),{c(){t=m("div"),F(n.$$.fragment),v(t,"class","my-qualifier svelte-1pnvguw")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.player=e[1]),3&t&&(r.score=e[1].mapScores.get(e[8].id)[0]),n.$set(r)},i(e){r||(B(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function ar(e){let t,n,r=[],s=new er,l=Array.from(e[8].players.values());const a=e=>e[11].id;for(let t=0;t<l.length;t+=1){let n=nr(e,l,t),o=a(n);s.set(o,r[t]=or(o,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);u(e,t,s),n=!0},p(e,n){1&n&&(l=Array.from(e[8].players.values()),U(),r=Y(r,n,a,1,e,l,s,t.parentNode,I,or,t,nr),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)B(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)z(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&p(t)}}}function or(e,t){let n,r,s;return r=new gn({props:{player:t[11],score:t[11].mapScores.get(t[8].id)[0]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.player=t[11]),1&n&&(s.score=t[11].mapScores.get(t[8].id)[0]),r.$set(s)},i(e){s||(B(r.$$.fragment,e),s=!0)},o(e){z(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function ir(e,t){let n,r,s,l,a,o,i,d,$,w,k,x,C=t[2][t[8].id]?"Show":"Hide";r=new Vt({props:{map:t[8]}});let _=t[1]&&lr(t);function S(){return t[7](t[8])}let T=!t[2][t[8].id]&&ar(t);return{key:e,first:null,c(){n=g(),F(r.$$.fragment),s=h(),_&&_.c(),l=h(),a=m("a"),o=f(C),i=f(" scores"),d=h(),T&&T.c(),$=g(),v(a,"href","javascript:void(0)"),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),u(e,s,t),_&&_.m(e,t),u(e,l,t),u(e,a,t),c(a,o),c(a,i),u(e,d,t),T&&T.m(e,t),u(e,$,t),w=!0,k||(x=y(a,"click",S),k=!0)},p(e,n){t=e;const s={};1&n&&(s.map=t[8]),r.$set(s),t[1]?_?(_.p(t,n),2&n&&B(_,1)):(_=lr(t),_.c(),B(_,1),_.m(l.parentNode,l)):_&&(U(),z(_,1,1,(()=>{_=null})),E()),(!w||5&n)&&C!==(C=t[2][t[8].id]?"Show":"Hide")&&b(o,C),t[2][t[8].id]?T&&(U(),z(T,1,1,(()=>{T=null})),E()):T?(T.p(t,n),5&n&&B(T,1)):(T=ar(t),T.c(),B(T,1),T.m($.parentNode,$))},i(e){w||(B(r.$$.fragment,e),B(_),B(T),w=!0)},o(e){z(r.$$.fragment,e),z(_),z(T),w=!1},d(e){e&&p(n),K(r,e),e&&p(s),_&&_.d(e),e&&p(l),e&&p(a),e&&p(d),T&&T.d(e),e&&p($),k=!1,x()}}}function cr(e){let t,n,r,s,l,a;const o=[sr,rr],i=[];function c(e,t){return e[0]?1:0}return r=c(e),s=i[r]=o[r](e),{c(){t=m("div"),t.innerHTML='<a href="#/qualifiers">Player rankings</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!maps">Regular players</a>',n=h(),s.c(),l=g(),v(t,"class","links svelte-1pnvguw")},m(e,s){u(e,t,s),u(e,n,s),i[r].m(e,s),u(e,l,s),a=!0},p(e,[t]){let n=r;r=c(e),r===n?i[r].p(e,t):(U(),z(i[n],1,1,(()=>{i[n]=null})),E(),s=i[r],s?s.p(e,t):(s=i[r]=o[r](e),s.c()),B(s,1),s.m(l.parentNode,l))},i(e){a||(B(s),a=!0)},o(e){z(s),a=!1},d(e){e&&p(t),e&&p(n),i[r].d(e),e&&p(l)}}}function ur(e,t,n){let r,s,l,o,i;a(e,$n,(e=>n(0,r=e))),a(e,se,(e=>n(4,s=e))),a(e,wn,(e=>n(1,l=e))),a(e,bn,(e=>n(5,o=e))),a(e,re,(e=>n(6,i=e)));let c={};const u=e=>{n(2,c=Object.assign(Object.assign({},c),{[e.id]:!c[e.id]}))};return e.$$.update=()=>{17&e.$$.dirty&&!r&&s&&kn(s),98&e.$$.dirty&&!l&&o&&i&&xn(o,i)},[r,l,c,u,s,o,i,e=>u(e)]}class pr extends Z{constructor(e){super(),X(this,e,ur,cr,l,{})}}function dr(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function mr(e){let t,n,r,s,l;return s=new Un({props:{position:e[1].position,player:e[1],maps:e[2]}}),{c(){t=m("div"),n=m("h1"),n.textContent="Your placement",r=h(),F(s.$$.fragment),v(t,"class","my-qualifier svelte-buidrs")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){const n={};2&t&&(n.position=e[1].position),2&t&&(n.player=e[1]),4&t&&(n.maps=e[2]),s.$set(n)},i(e){l||(B(s.$$.fragment,e),l=!0)},o(e){z(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function fr(e){let t,n,r,s,l=[],a=new Map,o=e[0];const i=e=>e[5].id;for(let t=0;t<o.length;t+=1){let n=dr(e,o,t),r=i(n);a.set(r,l[t]=gr(r,n))}return{c(){t=m("div"),n=m("h1"),n.textContent="Elite players",r=h();for(let e=0;e<l.length;e+=1)l[e].c();v(t,"class","players svelte-buidrs")},m(e,a){u(e,t,a),c(t,n),c(t,r);for(let e=0;e<l.length;e+=1)l[e].m(t,null);s=!0},p(e,n){5&n&&(o=e[0],U(),l=Y(l,n,i,1,e,o,a,t,I,gr,null,dr),E())},i(e){if(!s){for(let e=0;e<o.length;e+=1)B(l[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)z(l[e]);s=!1},d(e){e&&p(t);for(let e=0;e<l.length;e+=1)l[e].d()}}}function hr(t){let n;return{c(){n=m("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function gr(e,t){let n,r,s;return r=new Un({props:{position:t[7]+1,player:t[5],maps:t[2]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.position=t[7]+1),1&n&&(s.player=t[5]),4&n&&(s.maps=t[2]),r.$set(s)},i(e){s||(B(r.$$.fragment,e),s=!0)},o(e){z(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function yr(e){let t,n,r,s,l,a,o,i=e[1]&&mr(e);const c=[hr,fr],d=[];function f(e,t){return e[0]?1:0}return s=f(e),l=d[s]=c[s](e),{c(){t=m("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers">Regular players</a>',n=h(),i&&i.c(),r=h(),l.c(),a=g(),v(t,"class","links svelte-buidrs")},m(e,l){u(e,t,l),u(e,n,l),i&&i.m(e,l),u(e,r,l),d[s].m(e,l),u(e,a,l),o=!0},p(e,[t]){e[1]?i?(i.p(e,t),2&t&&B(i,1)):(i=mr(e),i.c(),B(i,1),i.m(r.parentNode,r)):i&&(U(),z(i,1,1,(()=>{i=null})),E());let n=s;s=f(e),s===n?d[s].p(e,t):(U(),z(d[n],1,1,(()=>{d[n]=null})),E(),l=d[s],l?l.p(e,t):(l=d[s]=c[s](e),l.c()),B(l,1),l.m(a.parentNode,a))},i(e){o||(B(i),B(l),o=!0)},o(e){z(i),z(l),o=!1},d(e){e&&p(t),e&&p(n),i&&i.d(e),e&&p(r),d[s].d(e),e&&p(a)}}}function vr(e,t,n){let r,s,l,o,i;return a(e,bn,(e=>n(0,r=e))),a(e,se,(e=>n(3,s=e))),a(e,wn,(e=>n(1,l=e))),a(e,re,(e=>n(4,o=e))),a(e,$n,(e=>n(2,i=e))),e.$$.update=()=>{9&e.$$.dirty&&!r&&s&&kn(s),19&e.$$.dirty&&!l&&r&&o&&xn(r,o)},[r,l,i,s,o]}class $r extends Z{constructor(e){super(),X(this,e,vr,yr,l,{})}}function br(e,t,n){const r=e.slice();return r[6]=t[n].commentator,r[8]=n,r}function wr(e){let t,n,r,s,l=e[3].group.id+"",a=e[0].id+"";return{c(){t=f("G"),n=f(l),r=f("-"),s=f(a)},m(e,l){u(e,t,l),u(e,n,l),u(e,r,l),u(e,s,l)},p(e,t){1&t&&a!==(a=e[0].id+"")&&b(s,a)},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s)}}}function kr(e){let t,n,r,s,l,a,o=e[3].group.id+"",i=e[0].id+"";return{c(){t=m("a"),n=f("G"),r=f(o),s=f("-"),l=f(i),v(t,"href",a=e[0].link),v(t,"target","_blank"),v(t,"rel","noopener")},m(e,a){u(e,t,a),c(t,n),c(t,r),c(t,s),c(t,l)},p(e,n){1&n&&i!==(i=e[0].id+"")&&b(l,i),1&n&&a!==(a=e[0].link)&&v(t,"href",a)},d(e){e&&p(t)}}}function xr(t){let n;return{c(){n=f("To be defined")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Cr(e){let t,n,r,s=e[0].referee.username+"";return{c(){t=m("a"),n=f(s),v(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].referee.username+"")&&b(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&v(t,"href",r)},d(e){e&&p(t)}}}function _r(e){let t,n,r,s,l,a,o=e[0].streamer.username+"";return{c(){t=f("-\r\n        "),n=m("b"),n.textContent="Streamer",r=f(":\r\n        "),s=m("a"),l=f(o),v(s,"href",a=`https://osu.ppy.sh/users/${e[0].streamer.id}`)},m(e,a){u(e,t,a),u(e,n,a),u(e,r,a),u(e,s,a),c(s,l)},p(e,t){1&t&&o!==(o=e[0].streamer.username+"")&&b(l,o),1&t&&a!==(a=`https://osu.ppy.sh/users/${e[0].streamer.id}`)&&v(s,"href",a)},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s)}}}function Sr(e){let t,n,r,s,l=e[0].commentators,a=[];for(let t=0;t<l.length;t+=1)a[t]=Tr(br(e,l,t));return{c(){t=f("-\r\n        "),n=m("b"),n.textContent="Commentators",r=f(":\r\n        ");for(let e=0;e<a.length;e+=1)a[e].c();s=g()},m(e,l){u(e,t,l),u(e,n,l),u(e,r,l);for(let t=0;t<a.length;t+=1)a[t].m(e,l);u(e,s,l)},p(e,t){if(1&t){let n;for(l=e[0].commentators,n=0;n<l.length;n+=1){const r=br(e,l,n);a[n]?a[n].p(r,t):(a[n]=Tr(r),a[n].c(),a[n].m(s.parentNode,s))}for(;n<a.length;n+=1)a[n].d(1);a.length=l.length}},d(e){e&&p(t),e&&p(n),e&&p(r),d(a,e),e&&p(s)}}}function Tr(e){let t,n,r,s,l=e[6].username+"",a=e[8]&&function(e){let t;return{c(){t=f(",")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}();return{c(){a&&a.c(),t=h(),n=m("a"),r=f(l),v(n,"href",s=`https://osu.ppy.sh/users/${e[6].id}`)},m(e,s){a&&a.m(e,s),u(e,t,s),u(e,n,s),c(n,r)},p(e,t){1&t&&l!==(l=e[6].username+"")&&b(r,l),1&t&&s!==(s=`https://osu.ppy.sh/users/${e[6].id}`)&&v(n,"href",s)},d(e){a&&a.d(e),e&&p(t),e&&p(n)}}}function qr(t){let n,r,s,l,a,o,i,d,g,$,w,x,C,_,S,T,q,j,O,N,M,P,L,A,R,H,D,G,U,E,B,z,W,J,I,Y,F,Q,K,V,X,Z,ee,te,ne,re,se,le,ae=t[1].toDateString()+"",oe=t[1].toTimeString().replace(":00 GMT"," UTC")+"",ie=t[1].toUTCString().replace(":00 GMT"," UTC+0")+"",ce=t[3].username+"",ue=t[3].seed+"",pe=t[4].username+"",de=t[4].seed+"",me=(t[0].points1||0)+"",fe=(t[0].points2||0)+"";function he(e,t){return e[0].link?kr:wr}let ge=he(t),ye=ge(t);function ve(e,t){return e[0].referee?Cr:xr}let $e=ve(t),be=$e(t),we=t[0].streamer&&_r(t),ke=t[0].commentators.length&&Sr(t);return{c(){n=m("div"),r=m("div"),ye.c(),s=h(),l=m("div"),a=m("div"),o=m("b"),i=f(ae),d=h(),g=f(oe),$=h(),w=m("div"),x=f(ie),C=h(),_=m("div"),S=m("b"),S.textContent="Referee",T=f(":\r\n      "),be.c(),q=h(),we&&we.c(),j=h(),ke&&ke.c(),O=h(),N=m("div"),M=m("div"),P=m("img"),A=h(),R=m("a"),H=f(ce),D=f(" (#"),G=f(ue),U=f(")"),E=h(),B=m("div"),B.textContent="vs.",z=h(),W=m("div"),J=m("img"),Y=h(),F=m("a"),Q=f(pe),K=f(" (#"),V=f(de),X=f(")"),Z=h(),ee=m("div"),te=f(me),ne=f(" - "),re=f(fe),v(r,"class","name svelte-1tuxpxq"),v(w,"class","utc svelte-1tuxpxq"),v(a,"class","time svelte-1tuxpxq"),v(_,"class","staff svelte-1tuxpxq"),v(P,"alt",""),P.src!==(L=t[3].avatar)&&v(P,"src",L),v(P,"class","svelte-1tuxpxq"),v(R,"href",`https://osu.ppy.sh/users/${t[3].id}`),v(M,"class","player svelte-1tuxpxq"),v(B,"class","vs svelte-1tuxpxq"),v(J,"alt",""),J.src!==(I=t[4].avatar)&&v(J,"src",I),v(J,"class","svelte-1tuxpxq"),v(F,"href",`https://osu.ppy.sh/users/${t[4].id}`),v(W,"class","player svelte-1tuxpxq"),v(N,"class","players svelte-1tuxpxq"),v(l,"class","body svelte-1tuxpxq"),v(ee,"class","score svelte-1tuxpxq"),v(n,"class","match svelte-1tuxpxq"),k(n,"my-match",t[2]?.id==t[3].id||t[2]?.id==t[4].id)},m(e,p){u(e,n,p),c(n,r),ye.m(r,null),c(n,s),c(n,l),c(l,a),c(a,o),c(o,i),c(o,d),c(o,g),c(a,$),c(a,w),c(w,x),c(l,C),c(l,_),c(_,S),c(_,T),be.m(_,null),c(_,q),we&&we.m(_,null),c(_,j),ke&&ke.m(_,null),c(l,O),c(l,N),c(N,M),c(M,P),c(M,A),c(M,R),c(R,H),c(R,D),c(R,G),c(R,U),c(N,E),c(N,B),c(N,z),c(N,W),c(W,J),c(W,Y),c(W,F),c(F,Q),c(F,K),c(F,V),c(F,X),c(n,Z),c(n,ee),c(ee,te),c(ee,ne),c(ee,re),se||(le=y(n,"click",t[5]),se=!0)},p(e,[t]){ge===(ge=he(e))&&ye?ye.p(e,t):(ye.d(1),ye=ge(e),ye&&(ye.c(),ye.m(r,null))),2&t&&ae!==(ae=e[1].toDateString()+"")&&b(i,ae),2&t&&oe!==(oe=e[1].toTimeString().replace(":00 GMT"," UTC")+"")&&b(g,oe),2&t&&ie!==(ie=e[1].toUTCString().replace(":00 GMT"," UTC+0")+"")&&b(x,ie),$e===($e=ve(e))&&be?be.p(e,t):(be.d(1),be=$e(e),be&&(be.c(),be.m(_,q))),e[0].streamer?we?we.p(e,t):(we=_r(e),we.c(),we.m(_,j)):we&&(we.d(1),we=null),e[0].commentators.length?ke?ke.p(e,t):(ke=Sr(e),ke.c(),ke.m(_,null)):ke&&(ke.d(1),ke=null),1&t&&me!==(me=(e[0].points1||0)+"")&&b(te,me),1&t&&fe!==(fe=(e[0].points2||0)+"")&&b(re,fe),28&t&&k(n,"my-match",e[2]?.id==e[3].id||e[2]?.id==e[4].id)},i:e,o:e,d(e){e&&p(n),ye.d(),be.d(),we&&we.d(),ke&&ke.d(),se=!1,le()}}}function jr(e,t,n){let r,s;a(e,re,(e=>n(2,s=e)));let{match:l}=t;const[o,i]=l.players.map((({player:e})=>e));return e.$$set=e=>{"match"in e&&n(0,l=e.match)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=new Date(l.time))},[l,r,s,o,i,function(t){S(e,t)}]}class Or extends Z{constructor(e){super(),X(this,e,jr,qr,l,{match:0})}}const Nr=te(null),Mr=te(null),{Map:Pr}=W;function Lr(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function Ar(e,t,n){const r=e.slice();return r[12]=t[n],r}function Rr(e,t,n){const r=e.slice();return r[9]=t[n],r}function Hr(e){let t,n,r,s,l,a,o,i,d,g,y,$,w,k,x=e[0].player.group.id+"",C=[],_=new Pr,S=e[3];const T=e=>e[9].id;for(let t=0;t<S.length;t+=1){let n=Rr(e,S,t),r=T(n);_.set(r,C[t]=Dr(r,n))}return{c(){t=m("div"),n=f("Welcome to the Group Stage!"),r=m("br"),s=m("br"),l=f("\r\n  You will be facing every other player of your group once ("),a=m("b"),o=f("Group "),i=f(x),d=f(")!"),g=m("br"),y=f("\r\n  You can find the list of your own matches just below."),$=h(),w=m("div");for(let e=0;e<C.length;e+=1)C[e].c();v(t,"class","intro svelte-14l0ba5"),v(w,"class","matches svelte-14l0ba5")},m(e,p){u(e,t,p),c(t,n),c(t,r),c(t,s),c(t,l),c(t,a),c(a,o),c(a,i),c(t,d),c(t,g),c(t,y),u(e,$,p),u(e,w,p);for(let e=0;e<C.length;e+=1)C[e].m(w,null);k=!0},p(e,t){(!k||1&t)&&x!==(x=e[0].player.group.id+"")&&b(i,x),8&t&&(S=e[3],U(),C=Y(C,t,T,1,e,S,_,w,I,Dr,null,Rr),E())},i(e){if(!k){for(let e=0;e<S.length;e+=1)B(C[e]);k=!0}},o(e){for(let e=0;e<C.length;e+=1)z(C[e]);k=!1},d(e){e&&p(t),e&&p($),e&&p(w);for(let e=0;e<C.length;e+=1)C[e].d()}}}function Dr(e,t){let n,r,s;return r=new Or({props:{match:t[9]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.match=t[9]),r.$set(s)},i(e){s||(B(r.$$.fragment,e),s=!0)},o(e){z(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function Gr(e){let t,n,s,l,a,o,i,d,f,g,$,b=[],w=new Pr,k=[],x=new Pr,C=e[4];const _=e=>e[12].id;for(let t=0;t<C.length;t+=1){let n=Ar(e,C,t),r=_(n);w.set(r,b[t]=Er(r,n))}let S=e[2];const T=e=>e[9].id;for(let t=0;t<S.length;t+=1){let n=Lr(e,S,t),r=T(n);x.set(r,k[t]=zr(r,n))}return{c(){t=m("div");for(let e=0;e<b.length;e+=1)b[e].c();n=h(),s=m("div"),l=m("div"),a=m("a"),a.textContent="Sort chronologically",o=h(),i=m("a"),i.textContent="Sort by group",d=h();for(let e=0;e<k.length;e+=1)k[e].c();v(t,"class","maps svelte-14l0ba5"),v(a,"href","javascript:void(0)"),v(i,"href","javascript:void(0)"),v(l,"class","matches-links svelte-14l0ba5"),v(s,"class","matches svelte-14l0ba5")},m(r,p){u(r,t,p);for(let e=0;e<b.length;e+=1)b[e].m(t,null);u(r,n,p),u(r,s,p),c(s,l),c(l,a),c(l,o),c(l,i),c(s,d);for(let e=0;e<k.length;e+=1)k[e].m(s,null);f=!0,g||($=[y(a,"click",e[6]),y(i,"click",e[5])],g=!0)},p(e,n){16&n&&(C=e[4],U(),b=Y(b,n,_,1,e,C,w,t,I,Er,null,Ar),E()),6&n&&(S=e[2],U(),k=Y(k,n,T,1,e,S,x,s,I,zr,null,Lr),E())},i(e){if(!f){for(let e=0;e<C.length;e+=1)B(b[e]);for(let e=0;e<S.length;e+=1)B(k[e]);f=!0}},o(e){for(let e=0;e<b.length;e+=1)z(b[e]);for(let e=0;e<k.length;e+=1)z(k[e]);f=!1},d(e){e&&p(t);for(let e=0;e<b.length;e+=1)b[e].d();e&&p(n),e&&p(s);for(let e=0;e<k.length;e+=1)k[e].d();g=!1,r($)}}}function Ur(t){let n;return{c(){n=m("div"),n.textContent="Loading groups matches...",v(n,"class","matches svelte-14l0ba5")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function Er(e,t){let n,r,s;return r=new Vt({props:{map:t[12]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};16&n&&(s.map=t[12]),r.$set(s)},i(e){s||(B(r.$$.fragment,e),s=!0)},o(e){z(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function Br(e){let t;return{c(){t=m("div"),v(t,"class","group-spacer svelte-14l0ba5")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function zr(e,t){let n,r,s,l,a;r=new Or({props:{match:t[9]}});let o=t[1]&&t[2][t[11]+1]?.players[0].player.group.id>t[9].players[0].player.group.id&&Br();return{key:e,first:null,c(){n=g(),F(r.$$.fragment),s=h(),o&&o.c(),l=g(),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),u(e,s,t),o&&o.m(e,t),u(e,l,t),a=!0},p(e,n){t=e;const s={};4&n&&(s.match=t[9]),r.$set(s),t[1]&&t[2][t[11]+1]?.players[0].player.group.id>t[9].players[0].player.group.id?o||(o=Br(),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},i(e){a||(B(r.$$.fragment,e),a=!0)},o(e){z(r.$$.fragment,e),a=!1},d(e){e&&p(n),K(r,e),e&&p(s),o&&o.d(e),e&&p(l)}}}function Wr(e){let t,n,r,s,l,a,o,i=e[0]?.player?.group&&Hr(e);const c=[Ur,Gr],d=[];function f(e,t){return e[2]?1:0}return s=f(e),l=d[s]=c[s](e),{c(){t=m("div"),t.innerHTML='<a href="#/groups!maps">Rankings per map</a> \n  <a href="#/groups!results">Groups results</a> \n  <a href="#/groups!rolls">Roll leaderboard</a>',n=h(),i&&i.c(),r=h(),l.c(),a=g(),v(t,"class","links svelte-14l0ba5")},m(e,l){u(e,t,l),u(e,n,l),i&&i.m(e,l),u(e,r,l),d[s].m(e,l),u(e,a,l),o=!0},p(e,[t]){e[0]?.player?.group?i?(i.p(e,t),1&t&&B(i,1)):(i=Hr(e),i.c(),B(i,1),i.m(r.parentNode,r)):i&&(U(),z(i,1,1,(()=>{i=null})),E());let n=s;s=f(e),s===n?d[s].p(e,t):(U(),z(d[n],1,1,(()=>{d[n]=null})),E(),l=d[s],l?l.p(e,t):(l=d[s]=c[s](e),l.c()),B(l,1),l.m(a.parentNode,a))},i(e){o||(B(i),B(l),o=!0)},o(e){z(i),z(l),o=!1},d(e){e&&p(t),e&&p(n),i&&i.d(e),e&&p(r),d[s].d(e),e&&p(a)}}}function Jr(e,t,n){let r,s,l;var o;a(e,Nr,(e=>n(8,r=e))),a(e,re,(e=>n(0,s=e))),a(e,Mr,(e=>n(4,l=e))),r||(async()=>{const{data:e}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "groups"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  matches(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "groups"\n        }\n      }\n    }\n    sort: "time"\n    limit: -1\n  ) {\n    id\n    link\n    players {\n      player: players_id {\n        id\n        username\n        avatar\n        seed\n        country\n        country_code\n        group {\n          id\n        }\n      }\n    }\n    time\n    referee {\n      id\n      username\n    }\n    streamer {\n      id\n      username\n    }\n    commentators {\n      commentator: commentators_id {\n        id\n        username\n      }\n    }\n\n    rolls {\n      id\n      player { id username }\n      value\n    }\n    protects {\n      id\n      player { id username }\n      map { id name category }\n    }\n    bans {\n      id\n      player { id username }\n      map { id name category }\n    }\n    picks {\n      id\n      player { id username }\n      map { id name category }\n    }\n\n    scores {\n      id\n      player { id }\n      map { id }\n      score\n    }\n    wbd {\n      id\n    }\n  }\n}'})});e.matches.forEach((e=>{e.players=e.players[0].player.seed<e.players[1].player.seed?e.players:e.players.reverse(),e.wbd?(e.points1=e.wbd.id==e.players[0].player.id?"WBD":0,e.points2=e.wbd.id==e.players[1].player.id?"WBD":0):(e.points1=0,e.points2=0,e.picks.forEach((t=>{var n,r;let s=e.scores.filter((e=>e.map.id==t.map.id))||[];1==s.length&&s.push(Object.assign(Object.assign({},s[0]),{player:e.players[(null===(n=s[0])||void 0===n?void 0:n.player.id)==e.players[0].player.id?1:0].player,score:0})),(null===(r=s[0])||void 0===r?void 0:r.player.id)!=e.players[0].player.id&&(s=s.reverse());const[l,a]=s;l&&a&&(l.score>a.score?e.points1+=1:e.points2+=1)})))})),Nr.set(e.matches),Mr.set(e.maps)})();let i=!1;let c,u;return e.$$.update=()=>{385&e.$$.dirty&&r&&(null===n(7,o=null==s?void 0:s.player)||void 0===o?void 0:o.group)&&n(3,u=r.filter((e=>e.players.find((({player:e})=>e.id==s.id))))),256&e.$$.dirty&&n(2,c=r)},[s,i,c,u,l,()=>{n(1,i=!0),n(2,c=c.sort(((e,t)=>{if(e.players[0].player.group.id!=t.players[0].player.group.id)return e.players[0].player.group.id<t.players[0].player.group.id?-1:1;const[n,r]=e.players.map((({player:e})=>e)),[s,l]=t.players.map((({player:e})=>e));return n.seed!=s.seed?n.seed<s.seed?-1:1:r.seed<l.seed?-1:1})))},()=>{n(1,i=!1),n(2,c=c.sort(((e,t)=>e.time<t.time?-1:1)))},o,r]}class Ir extends Z{constructor(e){super(),X(this,e,Jr,Wr,l,{})}}const Yr=te(null);function Fr(e,t,n){const r=e.slice();return r[1]=t[n],r[3]=n,r}function Qr(e){let t,n,r,s=e[0],l=[];for(let t=0;t<s.length;t+=1)l[t]=Zr(Fr(e,s,t));return{c(){t=m("div"),t.innerHTML='<div class="group svelte-10wq7a2">Group</div> \n    <div class="player svelte-10wq7a2">Player</div> \n    <div class="cell svelte-10wq7a2">Victories</div> \n    <div class="points svelte-10wq7a2">pts won - pts lost</div> \n    <div class="cell svelte-10wq7a2">WBDs</div> \n    <div class="cell svelte-10wq7a2">LBDs</div> \n    <div class="cell svelte-10wq7a2">Seed</div>',n=h();for(let e=0;e<l.length;e+=1)l[e].c();r=g(),v(t,"class","row header svelte-10wq7a2")},m(e,s){u(e,t,s),u(e,n,s);for(let t=0;t<l.length;t+=1)l[t].m(e,s);u(e,r,s)},p(e,t){if(1&t){let n;for(s=e[0],n=0;n<s.length;n+=1){const a=Fr(e,s,n);l[n]?l[n].p(a,t):(l[n]=Zr(a),l[n].c(),l[n].m(r.parentNode,r))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}},d(e){e&&p(t),e&&p(n),d(l,e),e&&p(r)}}}function Kr(t){let n;return{c(){n=f("Loading groups results...")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Vr(e){let t;return{c(){t=m("div"),t.textContent="⭐",v(t,"class","qualified svelte-10wq7a2")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Xr(e){let t,n,r;return{c(){t=m("div"),n=h(),r=m("div"),r.innerHTML='<div class="group svelte-10wq7a2">Group</div> \n      <div class="player svelte-10wq7a2">Player</div> \n      <div class="cell svelte-10wq7a2">Victories</div> \n      <div class="points svelte-10wq7a2">pts won - pts lost</div> \n      <div class="cell svelte-10wq7a2">WBDs</div> \n      <div class="cell svelte-10wq7a2">LBDs</div> \n      <div class="cell svelte-10wq7a2">Seed</div> \n    ',v(t,"class","spacer svelte-10wq7a2"),v(r,"class","row header svelte-10wq7a2")},m(e,s){u(e,t,s),u(e,n,s),u(e,r,s)},d(e){e&&p(t),e&&p(n),e&&p(r)}}}function Zr(e){let t,n,r,s,l,a,o,i,d,y,$,w,k,x,C,_,S,T,q,j,O,N,M,P,L,A,R,H,D,G,U,E=e[1].group+"",B=e[1].username+"",z=e[1].victories+"",W=e[1].points_won+"",J=e[1].points_lost+"",I=e[1].won_minus_lost+"",Y=e[1].wbds+"",F=e[1].lbds+"",Q=e[1].seed+"",K=e[1].qualified&&Vr(),V=e[0][e[3]+1]&&e[0][e[3]+1].group!=e[1].group&&Xr();return{c(){t=m("div"),K&&K.c(),n=h(),r=m("div"),s=f("G"),l=f(E),a=h(),o=m("div"),i=m("a"),d=f(B),$=h(),w=m("div"),k=f(z),x=h(),C=m("div"),_=f(W),S=f(" - "),T=f(J),q=f(" = "),j=f(I),O=h(),N=m("div"),M=f(Y),P=h(),L=m("div"),A=f(F),R=h(),H=m("div"),D=f(Q),G=h(),V&&V.c(),U=g(),v(r,"class","group svelte-10wq7a2"),v(i,"href",y=`https://osu.ppy.sh/users/${e[1].id}`),v(i,"target","_blank"),v(i,"rel","noopener"),v(o,"class","player svelte-10wq7a2"),v(w,"class","cell svelte-10wq7a2"),v(C,"class","points svelte-10wq7a2"),v(N,"class","cell svelte-10wq7a2"),v(L,"class","cell svelte-10wq7a2"),v(H,"class","cell svelte-10wq7a2"),v(t,"class","row svelte-10wq7a2")},m(e,p){u(e,t,p),K&&K.m(t,null),c(t,n),c(t,r),c(r,s),c(r,l),c(t,a),c(t,o),c(o,i),c(i,d),c(t,$),c(t,w),c(w,k),c(t,x),c(t,C),c(C,_),c(C,S),c(C,T),c(C,q),c(C,j),c(t,O),c(t,N),c(N,M),c(t,P),c(t,L),c(L,A),c(t,R),c(t,H),c(H,D),u(e,G,p),V&&V.m(e,p),u(e,U,p)},p(e,r){e[1].qualified?K||(K=Vr(),K.c(),K.m(t,n)):K&&(K.d(1),K=null),1&r&&E!==(E=e[1].group+"")&&b(l,E),1&r&&B!==(B=e[1].username+"")&&b(d,B),1&r&&y!==(y=`https://osu.ppy.sh/users/${e[1].id}`)&&v(i,"href",y),1&r&&z!==(z=e[1].victories+"")&&b(k,z),1&r&&W!==(W=e[1].points_won+"")&&b(_,W),1&r&&J!==(J=e[1].points_lost+"")&&b(T,J),1&r&&I!==(I=e[1].won_minus_lost+"")&&b(j,I),1&r&&Y!==(Y=e[1].wbds+"")&&b(M,Y),1&r&&F!==(F=e[1].lbds+"")&&b(A,F),1&r&&Q!==(Q=e[1].seed+"")&&b(D,Q),e[0][e[3]+1]&&e[0][e[3]+1].group!=e[1].group?V||(V=Xr(),V.c(),V.m(U.parentNode,U)):V&&(V.d(1),V=null)},d(e){e&&p(t),K&&K.d(),e&&p(G),V&&V.d(e),e&&p(U)}}}function es(t){let n,r,s;function l(e,t){return e[0]?Qr:Kr}let a=l(t),o=a(t);return{c(){n=m("div"),n.innerHTML='<a href="#/groups">Groups matches</a> \n  <a href="#/groups!maps">Rankings per map</a> \n  <a href="#/groups!rolls">Roll leaderboard</a>',r=h(),o.c(),s=g(),v(n,"class","links svelte-10wq7a2")},m(e,t){u(e,n,t),u(e,r,t),o.m(e,t),u(e,s,t)},p(e,[t]){a===(a=l(e))&&o?o.p(e,t):(o.d(1),o=a(e),o&&(o.c(),o.m(s.parentNode,s)))},i:e,o:e,d(e){e&&p(n),e&&p(r),o.d(e),e&&p(s)}}}function ts(e,t,n){let r;return a(e,Yr,(e=>n(0,r=e))),r||(async()=>{const e=await fetch("/data/groups-results.json"),t=await e.json();let n=1;t.forEach(((e,r)=>{var s;n<3&&(e.qualified=!0),n=(null===(s=t[r+1])||void 0===s?void 0:s.group)!=e.group?1:n+1})),Yr.set(t)})(),[r]}class ns extends Z{constructor(e){super(),X(this,e,ts,es,l,{})}}function rs(t){let n,r,s,l,a,o,i,d,g,y,$,w,k,x,C,_,S=t[0].username+"",T=t[0].seed+"";return{c(){n=m("a"),r=m("div"),s=m("img"),a=h(),o=m("div"),i=m("img"),y=h(),$=m("div"),w=f(S),k=f(" (#"),x=f(T),C=f(")"),v(s,"class","avatar svelte-jqp5py"),s.src!==(l=t[0].avatar)&&v(s,"src",l),v(s,"alt",""),v(r,"class","avatar svelte-jqp5py"),i.src!==(d=`https://osu.ppy.sh/images/flags/${t[0].country_code}.png`)&&v(i,"src",d),v(i,"alt",g=t[0].country),v(i,"class","svelte-jqp5py"),v(o,"class","flag svelte-jqp5py"),v($,"class","name"),v(n,"class","player svelte-jqp5py"),v(n,"href",_=`https://osu.ppy.sh/users/${t[0].id}`),v(n,"target","_blank"),v(n,"rel","noopener")},m(e,t){u(e,n,t),c(n,r),c(r,s),c(n,a),c(n,o),c(o,i),c(n,y),c(n,$),c($,w),c($,k),c($,x),c($,C)},p(e,[t]){1&t&&s.src!==(l=e[0].avatar)&&v(s,"src",l),1&t&&i.src!==(d=`https://osu.ppy.sh/images/flags/${e[0].country_code}.png`)&&v(i,"src",d),1&t&&g!==(g=e[0].country)&&v(i,"alt",g),1&t&&S!==(S=e[0].username+"")&&b(w,S),1&t&&T!==(T=e[0].seed+"")&&b(x,T),1&t&&_!==(_=`https://osu.ppy.sh/users/${e[0].id}`)&&v(n,"href",_)},i:e,o:e,d(e){e&&p(n)}}}function ss(e,t,n){let{player:r}=t;return e.$$set=e=>{"player"in e&&n(0,r=e.player)},[r]}class ls extends Z{constructor(e){super(),X(this,e,ss,rs,l,{player:0})}}function as(e,t,n){const r=e.slice();return r[19]=t[n].commentator,r}function os(e,t,n){const r=e.slice();return r[22]=t[n].streamer,r}function is(e,t,n){const r=e.slice();return r[25]=t[n].referee,r}function cs(e,t,n){const r=e.slice();return r[19]=t[n].commentator,r[29]=n,r}function us(e){let t,n,r=e[0].id+"";return{c(){t=f("M"),n=f(r)},m(e,r){u(e,t,r),u(e,n,r)},p(e,t){1&t&&r!==(r=e[0].id+"")&&b(n,r)},d(e){e&&p(t),e&&p(n)}}}function ps(e){let t,n,r,s,l=e[0].id+"";return{c(){t=m("a"),n=f("M"),r=f(l),v(t,"href",s=e[0].link),v(t,"target","_blank"),v(t,"rel","noopener")},m(e,s){u(e,t,s),c(t,n),c(t,r)},p(e,n){1&n&&l!==(l=e[0].id+"")&&b(r,l),1&n&&s!==(s=e[0].link)&&v(t,"href",s)},d(e){e&&p(t)}}}function ds(t){let n;return{c(){n=f("To be defined")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function ms(e){let t,n,r,s=e[0].referee.username+"";return{c(){t=m("a"),n=f(s),v(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].referee.username+"")&&b(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&v(t,"href",r)},d(e){e&&p(t)}}}function fs(e){let t,n,r,s,l,a,o=e[0].streamer.username+"";return{c(){t=f("-\r\n        "),n=m("b"),n.textContent="Streamer",r=f(":\r\n        "),s=m("a"),l=f(o),v(s,"href",a=`https://osu.ppy.sh/users/${e[0].streamer.id}`)},m(e,a){u(e,t,a),u(e,n,a),u(e,r,a),u(e,s,a),c(s,l)},p(e,t){1&t&&o!==(o=e[0].streamer.username+"")&&b(l,o),1&t&&a!==(a=`https://osu.ppy.sh/users/${e[0].streamer.id}`)&&v(s,"href",a)},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s)}}}function hs(e){let t,n,r,s,l=e[0].commentators,a=[];for(let t=0;t<l.length;t+=1)a[t]=gs(cs(e,l,t));return{c(){t=f("-\r\n        "),n=m("b"),n.textContent="Commentators",r=f(":\r\n        ");for(let e=0;e<a.length;e+=1)a[e].c();s=g()},m(e,l){u(e,t,l),u(e,n,l),u(e,r,l);for(let t=0;t<a.length;t+=1)a[t].m(e,l);u(e,s,l)},p(e,t){if(1&t){let n;for(l=e[0].commentators,n=0;n<l.length;n+=1){const r=cs(e,l,n);a[n]?a[n].p(r,t):(a[n]=gs(r),a[n].c(),a[n].m(s.parentNode,s))}for(;n<a.length;n+=1)a[n].d(1);a.length=l.length}},d(e){e&&p(t),e&&p(n),e&&p(r),d(a,e),e&&p(s)}}}function gs(e){let t,n,r,s,l=e[19].username+"",a=e[29]&&function(e){let t;return{c(){t=f(",")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}();return{c(){a&&a.c(),t=h(),n=m("a"),r=f(l),v(n,"href",s=`https://osu.ppy.sh/users/${e[19].id}`)},m(e,s){a&&a.m(e,s),u(e,t,s),u(e,n,s),c(n,r)},p(e,t){1&t&&l!==(l=e[19].username+"")&&b(r,l),1&t&&s!==(s=`https://osu.ppy.sh/users/${e[19].id}`)&&v(n,"href",s)},d(e){a&&a.d(e),e&&p(t),e&&p(n)}}}function ys(e){let t,n,r,s,l,a,o=[],i=new Map,c=e[0].available_referees;const d=e=>e[25].id;for(let t=0;t<c.length;t+=1){let n=is(e,c,t),r=d(n);i.set(r,o[t]=$s(r,n))}let y=null;function v(e,t){return e[9]?ks:e[6]?ws:bs}c.length||(y=vs());let $=v(e),b=$(e);return{c(){t=m("br"),n=h(),r=m("b"),r.textContent="Available referees",s=f(":\r\n        ");for(let e=0;e<o.length;e+=1)o[e].c();y&&y.c(),l=f("\r\n        -\r\n        "),b.c(),a=g()},m(e,i){u(e,t,i),u(e,n,i),u(e,r,i),u(e,s,i);for(let t=0;t<o.length;t+=1)o[t].m(e,i);y&&y.m(e,i),u(e,l,i),b.m(e,i),u(e,a,i)},p(e,t){1&t&&(c=e[0].available_referees,o=Y(o,t,d,1,e,c,i,l.parentNode,J,$s,l,is),c.length?y&&(y.d(1),y=null):y||(y=vs(),y.c(),y.m(l.parentNode,l))),$===($=v(e))&&b?b.p(e,t):(b.d(1),b=$(e),b&&(b.c(),b.m(a.parentNode,a)))},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s);for(let t=0;t<o.length;t+=1)o[t].d(e);y&&y.d(e),e&&p(l),b.d(e),e&&p(a)}}}function vs(e){let t;return{c(){t=f("None")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function $s(e,t){let n,r,s,l,a,o;return{key:e,first:null,c(){n=m("a"),r=m("img"),v(r,"alt",s=t[25].id),r.src!==(l=t[25].avatar)&&v(r,"src",l),v(r,"class","svelte-1yxbxwv"),v(n,"class","staff-compact svelte-1yxbxwv"),v(n,"title",a=t[25].username),v(n,"href",o=`https://osu.ppy.sh/users/${t[25].id}`),this.first=n},m(e,t){u(e,n,t),c(n,r)},p(e,i){t=e,1&i&&s!==(s=t[25].id)&&v(r,"alt",s),1&i&&r.src!==(l=t[25].avatar)&&v(r,"src",l),1&i&&a!==(a=t[25].username)&&v(n,"title",a),1&i&&o!==(o=`https://osu.ppy.sh/users/${t[25].id}`)&&v(n,"href",o)},d(e){e&&p(n)}}}function bs(t){let n,r,s;return{c(){n=m("a"),n.textContent="Add yourself as available",v(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=y(n,"click",t[14]),r=!0)},p:e,d(e){e&&p(n),r=!1,s()}}}function ws(t){let n,r,s;return{c(){n=m("a"),n.textContent="Remove yourself",v(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=y(n,"click",t[14]),r=!0)},p:e,d(e){e&&p(n),r=!1,s()}}}function ks(t){let n;return{c(){n=f("Processing...")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function xs(e){let t,n,r,s,l,a,o=[],i=new Map,c=e[0].available_streamers;const d=e=>e[22].id;for(let t=0;t<c.length;t+=1){let n=os(e,c,t),r=d(n);i.set(r,o[t]=_s(r,n))}let y=null;function v(e,t){return e[10]?qs:e[7]?Ts:Ss}c.length||(y=Cs());let $=v(e),b=$(e);return{c(){t=m("br"),n=h(),r=m("b"),r.textContent="Available streamers",s=f(":\r\n        ");for(let e=0;e<o.length;e+=1)o[e].c();y&&y.c(),l=f("\r\n        -\r\n        "),b.c(),a=g()},m(e,i){u(e,t,i),u(e,n,i),u(e,r,i),u(e,s,i);for(let t=0;t<o.length;t+=1)o[t].m(e,i);y&&y.m(e,i),u(e,l,i),b.m(e,i),u(e,a,i)},p(e,t){1&t&&(c=e[0].available_streamers,o=Y(o,t,d,1,e,c,i,l.parentNode,J,_s,l,os),c.length?y&&(y.d(1),y=null):y||(y=Cs(),y.c(),y.m(l.parentNode,l))),$===($=v(e))&&b?b.p(e,t):(b.d(1),b=$(e),b&&(b.c(),b.m(a.parentNode,a)))},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s);for(let t=0;t<o.length;t+=1)o[t].d(e);y&&y.d(e),e&&p(l),b.d(e),e&&p(a)}}}function Cs(e){let t;return{c(){t=f("None")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function _s(e,t){let n,r,s,l,a,o;return{key:e,first:null,c(){n=m("a"),r=m("img"),v(r,"alt",s=t[22].id),r.src!==(l=t[22].avatar)&&v(r,"src",l),v(r,"class","svelte-1yxbxwv"),v(n,"class","staff-compact svelte-1yxbxwv"),v(n,"title",a=t[22].username),v(n,"href",o=`https://osu.ppy.sh/users/${t[22].id}`),this.first=n},m(e,t){u(e,n,t),c(n,r)},p(e,i){t=e,1&i&&s!==(s=t[22].id)&&v(r,"alt",s),1&i&&r.src!==(l=t[22].avatar)&&v(r,"src",l),1&i&&a!==(a=t[22].username)&&v(n,"title",a),1&i&&o!==(o=`https://osu.ppy.sh/users/${t[22].id}`)&&v(n,"href",o)},d(e){e&&p(n)}}}function Ss(t){let n,r,s;return{c(){n=m("a"),n.textContent="Add yourself as available",v(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=y(n,"click",t[15]),r=!0)},p:e,d(e){e&&p(n),r=!1,s()}}}function Ts(t){let n,r,s;return{c(){n=m("a"),n.textContent="Remove yourself",v(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=y(n,"click",t[15]),r=!0)},p:e,d(e){e&&p(n),r=!1,s()}}}function qs(t){let n;return{c(){n=f("Processing...")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function js(e){let t,n,r,s,l,a,o=[],i=new Map,c=e[0].available_commentators;const d=e=>e[19].id;for(let t=0;t<c.length;t+=1){let n=as(e,c,t),r=d(n);i.set(r,o[t]=Ns(r,n))}let y=null;function v(e,t){return e[11]?Ls:e[8]?Ps:Ms}c.length||(y=Os());let $=v(e),b=$(e);return{c(){t=m("br"),n=h(),r=m("b"),r.textContent="Available commentators",s=f(":\r\n        ");for(let e=0;e<o.length;e+=1)o[e].c();y&&y.c(),l=f(" -\r\n        "),b.c(),a=g()},m(e,i){u(e,t,i),u(e,n,i),u(e,r,i),u(e,s,i);for(let t=0;t<o.length;t+=1)o[t].m(e,i);y&&y.m(e,i),u(e,l,i),b.m(e,i),u(e,a,i)},p(e,t){1&t&&(c=e[0].available_commentators,o=Y(o,t,d,1,e,c,i,l.parentNode,J,Ns,l,as),c.length?y&&(y.d(1),y=null):y||(y=Os(),y.c(),y.m(l.parentNode,l))),$===($=v(e))&&b?b.p(e,t):(b.d(1),b=$(e),b&&(b.c(),b.m(a.parentNode,a)))},d(e){e&&p(t),e&&p(n),e&&p(r),e&&p(s);for(let t=0;t<o.length;t+=1)o[t].d(e);y&&y.d(e),e&&p(l),b.d(e),e&&p(a)}}}function Os(e){let t;return{c(){t=f("None")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Ns(e,t){let n,r,s,l,a,o;return{key:e,first:null,c(){n=m("a"),r=m("img"),v(r,"alt",s=t[19].id),r.src!==(l=t[19].avatar)&&v(r,"src",l),v(r,"class","svelte-1yxbxwv"),v(n,"class","staff-compact svelte-1yxbxwv"),v(n,"title",a=t[19].username),v(n,"href",o=`https://osu.ppy.sh/users/${t[19].id}`),this.first=n},m(e,t){u(e,n,t),c(n,r)},p(e,i){t=e,1&i&&s!==(s=t[19].id)&&v(r,"alt",s),1&i&&r.src!==(l=t[19].avatar)&&v(r,"src",l),1&i&&a!==(a=t[19].username)&&v(n,"title",a),1&i&&o!==(o=`https://osu.ppy.sh/users/${t[19].id}`)&&v(n,"href",o)},d(e){e&&p(n)}}}function Ms(t){let n,r,s;return{c(){n=m("a"),n.textContent="Add yourself as available",v(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=y(n,"click",t[16]),r=!0)},p:e,d(e){e&&p(n),r=!1,s()}}}function Ps(t){let n,r,s;return{c(){n=m("a"),n.textContent="Remove yourself",v(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=y(n,"click",t[16]),r=!0)},p:e,d(e){e&&p(n),r=!1,s()}}}function Ls(t){let n;return{c(){n=f("Processing...")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function As(e){let t,n,r,s,l,a,o,i,d,g,$,w,x,C,_,S,T,q,j,O,N,M,P,L,A,R,H,D,G,U,E,W,J,I,Y,V,X=e[5].toDateString()+"",Z=e[5].toTimeString().replace(":00 GMT"," UTC")+"",ee=e[5].toUTCString().replace(":00 GMT"," UTC+0")+"",te=(e[0].points1||0)+"",ne=(e[0].points2||0)+"";function re(e,t){return e[0].link?ps:us}let se=re(e),le=se(e);function ae(e,t){return e[0].referee?ms:ds}let oe=ae(e),ie=oe(e),ce=e[0].streamer&&fs(e),ue=e[0].commentators.length&&hs(e),pe=e[1]&&ys(e),de=e[2]&&xs(e),me=e[3]&&js(e);return L=new ls({props:{player:e[12]}}),D=new ls({props:{player:e[13]}}),{c(){t=m("div"),n=m("div"),le.c(),r=h(),s=m("div"),l=m("div"),a=m("b"),o=f(X),i=h(),d=f(Z),g=h(),$=m("div"),w=f(ee),x=h(),C=m("div"),_=m("b"),_.textContent="Referee",S=f(":\r\n      "),ie.c(),T=h(),ce&&ce.c(),q=h(),ue&&ue.c(),j=h(),pe&&pe.c(),O=h(),de&&de.c(),N=h(),me&&me.c(),M=h(),P=m("div"),F(L.$$.fragment),A=h(),R=m("div"),R.textContent="vs.",H=h(),F(D.$$.fragment),G=h(),U=m("div"),E=f(te),W=f(" - "),J=f(ne),v(n,"class","name svelte-1yxbxwv"),v($,"class","utc svelte-1yxbxwv"),v(l,"class","time svelte-1yxbxwv"),v(C,"class","staff svelte-1yxbxwv"),v(R,"class","vs svelte-1yxbxwv"),v(P,"class","players svelte-1yxbxwv"),v(s,"class","body svelte-1yxbxwv"),v(U,"class","score svelte-1yxbxwv"),v(t,"class","match svelte-1yxbxwv"),k(t,"my-match",e[4]?.id==e[12].id||e[4]?.id==e[13].id)},m(p,m){u(p,t,m),c(t,n),le.m(n,null),c(t,r),c(t,s),c(s,l),c(l,a),c(a,o),c(a,i),c(a,d),c(l,g),c(l,$),c($,w),c(s,x),c(s,C),c(C,_),c(C,S),ie.m(C,null),c(C,T),ce&&ce.m(C,null),c(C,q),ue&&ue.m(C,null),c(C,j),pe&&pe.m(C,null),c(C,O),de&&de.m(C,null),c(C,N),me&&me.m(C,null),c(s,M),c(s,P),Q(L,P,null),c(P,A),c(P,R),c(P,H),Q(D,P,null),c(t,G),c(t,U),c(U,E),c(U,W),c(U,J),I=!0,Y||(V=y(t,"click",e[17]),Y=!0)},p(e,[r]){se===(se=re(e))&&le?le.p(e,r):(le.d(1),le=se(e),le&&(le.c(),le.m(n,null))),(!I||32&r)&&X!==(X=e[5].toDateString()+"")&&b(o,X),(!I||32&r)&&Z!==(Z=e[5].toTimeString().replace(":00 GMT"," UTC")+"")&&b(d,Z),(!I||32&r)&&ee!==(ee=e[5].toUTCString().replace(":00 GMT"," UTC+0")+"")&&b(w,ee),oe===(oe=ae(e))&&ie?ie.p(e,r):(ie.d(1),ie=oe(e),ie&&(ie.c(),ie.m(C,T))),e[0].streamer?ce?ce.p(e,r):(ce=fs(e),ce.c(),ce.m(C,q)):ce&&(ce.d(1),ce=null),e[0].commentators.length?ue?ue.p(e,r):(ue=hs(e),ue.c(),ue.m(C,j)):ue&&(ue.d(1),ue=null),e[1]?pe?pe.p(e,r):(pe=ys(e),pe.c(),pe.m(C,O)):pe&&(pe.d(1),pe=null),e[2]?de?de.p(e,r):(de=xs(e),de.c(),de.m(C,N)):de&&(de.d(1),de=null),e[3]?me?me.p(e,r):(me=js(e),me.c(),me.m(C,null)):me&&(me.d(1),me=null),(!I||1&r)&&te!==(te=(e[0].points1||0)+"")&&b(E,te),(!I||1&r)&&ne!==(ne=(e[0].points2||0)+"")&&b(J,ne),12304&r&&k(t,"my-match",e[4]?.id==e[12].id||e[4]?.id==e[13].id)},i(e){I||(B(L.$$.fragment,e),B(D.$$.fragment,e),I=!0)},o(e){z(L.$$.fragment,e),z(D.$$.fragment,e),I=!1},d(e){e&&p(t),le.d(),ie.d(),ce&&ce.d(),ue&&ue.d(),pe&&pe.d(),de&&de.d(),me&&me.d(),K(L),K(D),Y=!1,V()}}}function Rs(e,t,n){let r;a(e,re,(e=>n(4,r=e)));var s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{i(r.next(e))}catch(e){l(e)}}function o(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}i((r=r.apply(e,t||[])).next())}))};let{match:l}=t,{toggleRefereeAvailable:o=null}=t,{toggleStreamerAvailable:i=null}=t,{toggleCommentatorAvailable:c=null}=t;const[u,p]=l.players.map((({player:e})=>e));let d,m,f,h,g;let y;let v;return e.$$set=e=>{"match"in e&&n(0,l=e.match),"toggleRefereeAvailable"in e&&n(1,o=e.toggleRefereeAvailable),"toggleStreamerAvailable"in e&&n(2,i=e.toggleStreamerAvailable),"toggleCommentatorAvailable"in e&&n(3,c=e.toggleCommentatorAvailable)},e.$$.update=()=>{31&e.$$.dirty&&(n(5,d=new Date(l.time)),n(6,m=o&&l.available_referees.find((({referee:e})=>e.id==r.id))),n(7,f=i&&l.available_streamers.find((({streamer:e})=>e.id==r.id))),n(8,h=c&&l.available_commentators.find((({commentator:e})=>e.id==r.id))))},[l,o,i,c,r,d,m,f,h,g,y,v,u,p,()=>s(void 0,void 0,void 0,(function*(){n(9,g=!0),yield o(),n(9,g=!1)})),()=>s(void 0,void 0,void 0,(function*(){n(10,y=!0),yield i(),n(10,y=!1)})),()=>s(void 0,void 0,void 0,(function*(){n(11,v=!0),yield c(),n(11,v=!1)})),function(t){S(e,t)}]}class Hs extends Z{constructor(e){super(),X(this,e,Rs,As,l,{match:0,toggleRefereeAvailable:1,toggleStreamerAvailable:2,toggleCommentatorAvailable:3})}}const Ds=te(null),Gs=te(null),Us=te(null),Es=async e=>{Ds.set(e),Gs.set(null),Us.set(null);const{data:t}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'query GetMatches($stage: String!) {\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: $stage\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  matches(\n    filter: {\n      stage: {\n        slug: {\n          _eq: $stage\n        }\n      }\n    }\n    sort: "time"\n    limit: -1\n  ) {\n    id\n    link\n    players {\n      player: players_id {\n        id\n        username\n        avatar\n        seed\n        country\n        country_code\n      }\n    }\n    time\n    referee {\n      id\n      username\n    }\n    streamer {\n      id\n      username\n    }\n    commentators {\n      commentator: commentators_id {\n        id\n        username\n      }\n    }\n\n    available_referees {\n      rel_id: id\n      referee: referees_id {\n        id\n        avatar\n        username\n      }\n    }\n    available_streamers {\n      rel_id: id\n      streamer: streamers_id {\n        id\n        avatar\n        username\n      }\n    }\n    available_commentators {\n      rel_id: id\n      commentator: commentators_id {\n        id\n        avatar\n        username\n      }\n    }\n\n    rolls {\n      id\n      player { id username }\n      value\n    }\n    protects {\n      id\n      player { id username }\n      map { id name category }\n    }\n    bans {\n      id\n      player { id username }\n      map { id name category }\n    }\n    picks {\n      id\n      player { id username }\n      map { id name category weight }\n    }\n\n    scores {\n      id\n      player { id }\n      map { id }\n      score\n    }\n    wbd {\n      id\n    }\n  }\n}',variables:{stage:e}})});t.matches.forEach((e=>{e.players=e.players[0].player.seed<e.players[1].player.seed?e.players:e.players.reverse(),e.wbd?(e.points1=e.wbd.id==e.players[0].player.id?"WBD":0,e.points2=e.wbd.id==e.players[1].player.id?"WBD":0):(e.points1=0,e.points2=0,e.picks.forEach((t=>{var n,r;let s=e.scores.filter((e=>e.map.id==t.map.id))||[];1==s.length&&s.push(Object.assign(Object.assign({},s[0]),{player:e.players[(null===(n=s[0])||void 0===n?void 0:n.player.id)==e.players[0].player.id?1:0].player,score:0})),(null===(r=s[0])||void 0===r?void 0:r.player.id)!=e.players[0].player.id&&(s=s.reverse());const[l,a]=s;l&&a&&(l.score>a.score?e.points1+=1:e.points2+=1)})))})),Gs.set(t.matches),Us.set(t.maps)},{Map:Bs}=W;function zs(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function Ws(e,t,n){const r=e.slice();return r[12]=t[n],r}function Js(e,t,n){const r=e.slice();return r[9]=t[n],r}function Is(e){let t,n,r,s,l=[],a=new Bs,o=e[1];const i=e=>e[9].id;for(let t=0;t<o.length;t+=1){let n=Js(e,o,t),r=i(n);a.set(r,l[t]=Ys(r,n))}return{c(){t=m("div"),t.innerHTML="You have matches for this stage!<br/>\n  You can find the list of your own matches just below.",n=h(),r=m("div");for(let e=0;e<l.length;e+=1)l[e].c();v(t,"class","intro svelte-jcr45l"),v(r,"class","matches svelte-jcr45l")},m(e,a){u(e,t,a),u(e,n,a),u(e,r,a);for(let e=0;e<l.length;e+=1)l[e].m(r,null);s=!0},p(e,t){2&t&&(o=e[1],U(),l=Y(l,t,i,1,e,o,a,r,I,Ys,null,Js),E())},i(e){if(!s){for(let e=0;e<o.length;e+=1)B(l[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)z(l[e]);s=!1},d(e){e&&p(t),e&&p(n),e&&p(r);for(let e=0;e<l.length;e+=1)l[e].d()}}}function Ys(e,t){let n,r,s;return r=new Hs({props:{match:t[9]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.match=t[9]),r.$set(s)},i(e){s||(B(r.$$.fragment,e),s=!0)},o(e){z(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function Fs(e){let t,n,r,s,l=[],a=new Bs,o=[],i=new Bs,c=e[4];const d=e=>e[12].id;for(let t=0;t<c.length;t+=1){let n=Ws(e,c,t),r=d(n);a.set(r,l[t]=Ks(r,n))}let f=e[2];const g=e=>e[9].id;for(let t=0;t<f.length;t+=1){let n=zs(e,f,t),r=g(n);i.set(r,o[t]=Vs(r,n))}return{c(){t=m("div");for(let e=0;e<l.length;e+=1)l[e].c();n=h(),r=m("div");for(let e=0;e<o.length;e+=1)o[e].c();v(t,"class","maps svelte-jcr45l"),v(r,"class","matches svelte-jcr45l")},m(e,a){u(e,t,a);for(let e=0;e<l.length;e+=1)l[e].m(t,null);u(e,n,a),u(e,r,a);for(let e=0;e<o.length;e+=1)o[e].m(r,null);s=!0},p(e,n){16&n&&(c=e[4],U(),l=Y(l,n,d,1,e,c,a,t,I,Ks,null,Ws),E()),44&n&&(f=e[2],U(),o=Y(o,n,g,1,e,f,i,r,I,Vs,null,zs),E())},i(e){if(!s){for(let e=0;e<c.length;e+=1)B(l[e]);for(let e=0;e<f.length;e+=1)B(o[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)z(l[e]);for(let e=0;e<o.length;e+=1)z(o[e]);s=!1},d(e){e&&p(t);for(let e=0;e<l.length;e+=1)l[e].d();e&&p(n),e&&p(r);for(let e=0;e<o.length;e+=1)o[e].d()}}}function Qs(t){let n;return{c(){n=m("div"),n.textContent="Loading matches...",v(n,"class","matches svelte-jcr45l")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function Ks(e,t){let n,r,s;return r=new Vt({props:{map:t[12]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};16&n&&(s.map=t[12]),r.$set(s)},i(e){s||(B(r.$$.fragment,e),s=!0)},o(e){z(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function Vs(e,t){let n,r,s;return r=new Hs({props:{match:t[9],toggleRefereeAvailable:t[3]?.referee&&t[5]("referee",t[9]),toggleStreamerAvailable:t[3]?.streamer&&t[5]("streamer",t[9]),toggleCommentatorAvailable:t[3]?.commentator&&t[5]("commentator",t[9])}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};4&n&&(s.match=t[9]),12&n&&(s.toggleRefereeAvailable=t[3]?.referee&&t[5]("referee",t[9])),12&n&&(s.toggleStreamerAvailable=t[3]?.streamer&&t[5]("streamer",t[9])),12&n&&(s.toggleCommentatorAvailable=t[3]?.commentator&&t[5]("commentator",t[9])),r.$set(s)},i(e){s||(B(r.$$.fragment,e),s=!0)},o(e){z(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function Xs(e){let t,n,r,s,l,a,o,i,d,y,$,b,w,k,x=e[1]?.length&&Is(e);const C=[Qs,Fs],_=[];function S(e,t){return e[2]?1:0}return $=S(e),b=_[$]=C[$](e),{c(){t=m("div"),n=m("a"),r=f("Rankings per map"),l=h(),a=m("a"),o=f("Roll leaderboard"),d=h(),x&&x.c(),y=h(),b.c(),w=g(),v(n,"href",s=`#/${e[0]}!maps`),v(a,"href",i=`#/${e[0]}!rolls`),v(t,"class","links svelte-jcr45l")},m(e,s){u(e,t,s),c(t,n),c(n,r),c(t,l),c(t,a),c(a,o),u(e,d,s),x&&x.m(e,s),u(e,y,s),_[$].m(e,s),u(e,w,s),k=!0},p(e,[t]){(!k||1&t&&s!==(s=`#/${e[0]}!maps`))&&v(n,"href",s),(!k||1&t&&i!==(i=`#/${e[0]}!rolls`))&&v(a,"href",i),e[1]?.length?x?(x.p(e,t),2&t&&B(x,1)):(x=Is(e),x.c(),B(x,1),x.m(y.parentNode,y)):x&&(U(),z(x,1,1,(()=>{x=null})),E());let r=$;$=S(e),$===r?_[$].p(e,t):(U(),z(_[r],1,1,(()=>{_[r]=null})),E(),b=_[$],b?b.p(e,t):(b=_[$]=C[$](e),b.c()),B(b,1),b.m(w.parentNode,w))},i(e){k||(B(x),B(b),k=!0)},o(e){z(x),z(b),k=!1},d(e){e&&p(t),e&&p(d),x&&x.d(e),e&&p(y),_[$].d(e),e&&p(w)}}}function Zs(e,t,n){let r,s,l,o;a(e,Ds,(e=>n(7,r=e))),a(e,Gs,(e=>n(2,s=e))),a(e,re,(e=>n(3,l=e))),a(e,Us,(e=>n(4,o=e)));var i,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{i(r.next(e))}catch(e){l(e)}}function o(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}i((r=r.apply(e,t||[])).next())}))};let u,{stage:p}=t;r==p&&s||Es(p);return e.$$set=e=>{"stage"in e&&n(0,p=e.stage)},e.$$.update=()=>{78&e.$$.dirty&&s&&(null===n(6,i=null==l?void 0:l.player)||void 0===i?void 0:i.group)&&!u&&n(1,u=s.filter((e=>e.players.find((({player:e})=>e.id==l.id)))))},[p,u,s,l,o,(e,t)=>()=>c(void 0,void 0,void 0,(function*(){const n=t[`available_${e}s`].find((t=>t[e].id==l.id)),r=yield de(`/items/matches/${t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({[`available_${e}s`]:n?{delete:[n.rel_id]}:{create:[{[`${e}s_id`]:l.id}]}})});r.errors?alert(r.errors[0].message):Gs.set(s.map((s=>(s.id!=t.id||(n?s[`available_${e}s`]=s[`available_${e}s`].filter((t=>t[e].id!=l.id)):s[`available_${e}s`].push({rel_id:r.data[`available_${e}s`].pop(),[e]:l[e]})),s))))})),i]}class el extends Z{constructor(e){super(),X(this,e,Zs,Xs,l,{stage:0})}}const tl=te(null),nl=te(null),{Map:rl}=W;function sl(e,t,n){const r=e.slice();return r[7]=t[n],r}function ll(e,t,n){const r=e.slice();return r[10]=t[n],r}function al(e){let t,n,r;return{c(){t=m("a"),n=f("Matches"),v(t,"href",r=`#/${e[0]}`)},m(e,r){u(e,t,r),c(t,n)},p(e,n){1&n&&r!==(r=`#/${e[0]}`)&&v(t,"href",r)},d(e){e&&p(t)}}}function ol(t){let n,r,s;return{c(){n=m("a"),n.textContent="Groups matches",r=h(),s=m("a"),s.textContent="Groups results",v(n,"href","#/groups"),v(s,"href","#/groups!results")},m(e,t){u(e,n,t),u(e,r,t),u(e,s,t)},p:e,d(e){e&&p(n),e&&p(r),e&&p(s)}}}function il(e){let t,n,r=[],s=new rl,l=e[1];const a=e=>e[7].id;for(let t=0;t<l.length;t+=1){let n=sl(e,l,t),o=a(n);s.set(o,r[t]=dl(o,n))}return{c(){t=m("p");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","maps svelte-1xsxcbi")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){14&n&&(l=e[1],U(),r=Y(r,n,a,1,e,l,s,t,I,dl,null,sl),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)B(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)z(r[e]);n=!1},d(e){e&&p(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function cl(t){let n;return{c(){n=m("p"),n.textContent="Loading scores...",v(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function ul(e){let t,n,r=[],s=new rl,l=Array.from(e[7].players.values());const a=e=>e[10].id;for(let t=0;t<l.length;t+=1){let n=ll(e,l,t),o=a(n);s.set(o,r[t]=pl(o,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);u(e,t,s),n=!0},p(e,n){2&n&&(l=Array.from(e[7].players.values()),U(),r=Y(r,n,a,1,e,l,s,t.parentNode,I,pl,t,ll),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)B(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)z(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&p(t)}}}function pl(e,t){let n,r,s;return r=new gn({props:{player:t[10],score:t[10].mapScores.get(t[7].id)[0]}}),{key:e,first:null,c(){n=g(),F(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.player=t[10]),2&n&&(s.score=t[10].mapScores.get(t[7].id)[0]),r.$set(s)},i(e){s||(B(r.$$.fragment,e),s=!0)},o(e){z(r.$$.fragment,e),s=!1},d(e){e&&p(n),K(r,e)}}}function dl(e,t){let n,r,s,l,a,o,i,d,$,w,k,x,C,_,S,T,q,j,O,N,M,P,L,A,R,H,D=t[7].protects.length+"",G=t[7].protects.map(fl).join(", ")+"",W=t[7].bans.length+"",J=t[7].bans.map(hl).join(", ")+"",I=t[2][t[7].id]?"Show":"Hide";function Y(){return t[6](t[7])}r=new Vt({props:{map:t[7]}});let V=!t[2][t[7].id]&&ul(t);return{key:e,first:null,c(){n=g(),F(r.$$.fragment),s=h(),l=m("div"),a=m("b"),o=f(D),i=f(" protects: "),d=f(G),$=m("br"),w=h(),k=m("div"),x=m("b"),C=f(W),_=f(" bans: "),S=f(J),T=h(),q=m("br"),j=h(),O=m("a"),N=f(I),M=f(" scores"),P=h(),V&&V.c(),L=g(),v(l,"class","protects svelte-1xsxcbi"),v(k,"class","bans svelte-1xsxcbi"),v(O,"href","javascript:void(0)"),this.first=n},m(e,t){u(e,n,t),Q(r,e,t),u(e,s,t),u(e,l,t),c(l,a),c(a,o),c(l,i),c(l,d),c(l,$),u(e,w,t),u(e,k,t),c(k,x),c(x,C),c(k,_),c(k,S),u(e,T,t),u(e,q,t),u(e,j,t),u(e,O,t),c(O,N),c(O,M),u(e,P,t),V&&V.m(e,t),u(e,L,t),A=!0,R||(H=y(O,"click",Y),R=!0)},p(e,n){t=e;const s={};2&n&&(s.map=t[7]),r.$set(s),(!A||2&n)&&D!==(D=t[7].protects.length+"")&&b(o,D),(!A||2&n)&&G!==(G=t[7].protects.map(fl).join(", ")+"")&&b(d,G),(!A||2&n)&&W!==(W=t[7].bans.length+"")&&b(C,W),(!A||2&n)&&J!==(J=t[7].bans.map(hl).join(", ")+"")&&b(S,J),(!A||6&n)&&I!==(I=t[2][t[7].id]?"Show":"Hide")&&b(N,I),t[2][t[7].id]?V&&(U(),z(V,1,1,(()=>{V=null})),E()):V?(V.p(t,n),6&n&&B(V,1)):(V=ul(t),V.c(),B(V,1),V.m(L.parentNode,L))},i(e){A||(B(r.$$.fragment,e),B(V),A=!0)},o(e){z(r.$$.fragment,e),z(V),A=!1},d(e){e&&p(n),K(r,e),e&&p(s),e&&p(l),e&&p(w),e&&p(k),e&&p(T),e&&p(q),e&&p(j),e&&p(O),e&&p(P),V&&V.d(e),e&&p(L),R=!1,H()}}}function ml(e){let t,n,r,s,l,a,o,i,d,y;function $(e,t){return"groups"==e[0]?ol:al}let b=$(e),w=b(e);const k=[cl,il],x=[];function C(e,t){return e[1]?1:0}return o=C(e),i=x[o]=k[o](e),{c(){t=m("div"),w.c(),n=h(),r=m("a"),s=f("Roll leaderboard"),a=h(),i.c(),d=g(),v(r,"href",l=`#/${e[0]}!rolls`),v(t,"class","links svelte-1xsxcbi")},m(e,l){u(e,t,l),w.m(t,null),c(t,n),c(t,r),c(r,s),u(e,a,l),x[o].m(e,l),u(e,d,l),y=!0},p(e,[s]){b===(b=$(e))&&w?w.p(e,s):(w.d(1),w=b(e),w&&(w.c(),w.m(t,n))),(!y||1&s&&l!==(l=`#/${e[0]}!rolls`))&&v(r,"href",l);let a=o;o=C(e),o===a?x[o].p(e,s):(U(),z(x[a],1,1,(()=>{x[a]=null})),E(),i=x[o],i?i.p(e,s):(i=x[o]=k[o](e),i.c()),B(i,1),i.m(d.parentNode,d))},i(e){y||(B(i),y=!0)},o(e){z(i),y=!1},d(e){e&&p(t),w.d(),e&&p(a),x[o].d(e),e&&p(d)}}}const fl=e=>e.player.username,hl=e=>e.player.username;function gl(e,t,n){let r,s,l;a(e,tl,(e=>n(4,r=e))),a(e,nl,(e=>n(1,s=e))),a(e,se,(e=>n(5,l=e)));let{stage:o}=t,i={};const c=e=>{n(2,i=Object.assign(Object.assign({},i),{[e.id]:!i[e.id]}))};return e.$$set=e=>{"stage"in e&&n(0,o=e.stage)},e.$$.update=()=>{51&e.$$.dirty&&(r==o&&s||!l||(async(e,t)=>{var n;tl.set(e),nl.set(null);const{data:r}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'query GetScores($stage: String!) {\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: $stage\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n    bans {\n      player {\n        username\n      }\n    }\n    protects {\n      player {\n        username\n      }\n    }\n  }\n  scores(sort: "-score", limit: -1) {\n    player {\n      id\n    }\n    map {\n      id\n    }\n    match {\n      id\n      link\n    }\n    score\n    combo\n    c320\n    c300\n    c200\n    c100\n    c50\n    c0\n  }\n}',variables:{stage:e}})}),s=new Map(r.maps.map((e=>[e.id,Object.assign(Object.assign({},e),{players:new Map})]))),l=new Map(t.map((e=>[e.id,Object.assign(Object.assign({},e),{mapScores:new Map(r.maps.map((e=>[e.id,[]])))})])));r.scores.forEach((e=>{var t;let n;if(n=l.get(null===(t=e.player)||void 0===t?void 0:t.id)){if(!s.has(e.map.id))return;n.mapScores.get(e.map.id).push(e);const t=s.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,n)}}));for(const e of s.values()){const t=Array.from(e.players.values());for(let r=0;r<t.length;++r){const s=t[r].mapScores.get(e.id)[0],l=null===(n=t[r-1])||void 0===n?void 0:n.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}nl.set(Array.from(s.values()))})(o,l))},[o,s,i,c,r,l,e=>c(e)]}class yl extends Z{constructor(e){super(),X(this,e,gl,ml,l,{stage:0})}}const vl=te(null),$l=te(null);function bl(e,t,n){const r=e.slice();return r[3]=t[n],r}function wl(e){let t,n,r;return{c(){t=m("a"),n=f("Matches"),v(t,"href",r=`#/${e[0]}`)},m(e,r){u(e,t,r),c(t,n)},p(e,n){1&n&&r!==(r=`#/${e[0]}`)&&v(t,"href",r)},d(e){e&&p(t)}}}function kl(t){let n,r,s;return{c(){n=m("a"),n.textContent="Groups matches",r=h(),s=m("a"),s.textContent="Groups results",v(n,"href","#/groups"),v(s,"href","#/groups!results")},m(e,t){u(e,n,t),u(e,r,t),u(e,s,t)},p:e,d(e){e&&p(n),e&&p(r),e&&p(s)}}}function xl(e){let t,n,r,s=e[1],l=[];for(let t=0;t<s.length;t+=1)l[t]=_l(bl(e,s,t));return{c(){t=m("div"),t.innerHTML='<div class="player svelte-gqvsl7">Player</div> \n    <div class="cell svelte-gqvsl7">Roll</div>',n=h();for(let e=0;e<l.length;e+=1)l[e].c();r=g(),v(t,"class","row header svelte-gqvsl7")},m(e,s){u(e,t,s),u(e,n,s);for(let t=0;t<l.length;t+=1)l[t].m(e,s);u(e,r,s)},p(e,t){if(2&t){let n;for(s=e[1],n=0;n<s.length;n+=1){const a=bl(e,s,n);l[n]?l[n].p(a,t):(l[n]=_l(a),l[n].c(),l[n].m(r.parentNode,r))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}},d(e){e&&p(t),e&&p(n),d(l,e),e&&p(r)}}}function Cl(t){let n;return{c(){n=f("Loading rolls...")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function _l(e){let t,n,r,s,l,a,o,i,d,g=e[3].player.username+"",y=e[3].value+"";return{c(){t=m("div"),n=m("div"),r=m("a"),s=f(g),a=h(),o=m("div"),i=f(y),d=h(),v(r,"href",l=`https://osu.ppy.sh/users/${e[3].player.id}`),v(r,"target","_blank"),v(r,"rel","noopener"),v(n,"class","player svelte-gqvsl7"),v(o,"class","cell svelte-gqvsl7"),v(t,"class","row svelte-gqvsl7")},m(e,l){u(e,t,l),c(t,n),c(n,r),c(r,s),c(t,a),c(t,o),c(o,i),c(t,d)},p(e,t){2&t&&g!==(g=e[3].player.username+"")&&b(s,g),2&t&&l!==(l=`https://osu.ppy.sh/users/${e[3].player.id}`)&&v(r,"href",l),2&t&&y!==(y=e[3].value+"")&&b(i,y)},d(e){e&&p(t)}}}function Sl(t){let n,r,s,l,a,o,i;function d(e,t){return"groups"==e[0]?kl:wl}let y=d(t),$=y(t);function b(e,t){return e[1]?xl:Cl}let w=b(t),k=w(t);return{c(){n=m("div"),$.c(),r=h(),s=m("a"),l=f("Rankings per map"),o=h(),k.c(),i=g(),v(s,"href",a=`#/${t[0]}!maps`),v(n,"class","links svelte-gqvsl7")},m(e,t){u(e,n,t),$.m(n,null),c(n,r),c(n,s),c(s,l),u(e,o,t),k.m(e,t),u(e,i,t)},p(e,[t]){y===(y=d(e))&&$?$.p(e,t):($.d(1),$=y(e),$&&($.c(),$.m(n,r))),1&t&&a!==(a=`#/${e[0]}!maps`)&&v(s,"href",a),w===(w=b(e))&&k?k.p(e,t):(k.d(1),k=w(e),k&&(k.c(),k.m(i.parentNode,i)))},i:e,o:e,d(e){e&&p(n),$.d(),e&&p(o),k.d(e),e&&p(i)}}}function Tl(e,t,n){let r,s;a(e,$l,(e=>n(1,r=e))),a(e,vl,(e=>n(2,s=e)));let{stage:l}=t;return r&&s==l||(async e=>{const{data:t}=await de("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'query GetRolls($stage: String!) {\n  rolls(\n    filter: {\n      match: {\n        stage: {\n          slug: {\n            _eq: $stage\n          }\n        }\n      }\n    }\n    sort: "-value"\n    limit: -1\n  ) {\n    player {\n      id\n      username\n    }\n    value\n  }\n}',variables:{stage:e}})});$l.set(t.rolls)})(l),e.$$set=e=>{"stage"in e&&n(0,l=e.stage)},[l,r]}class ql extends Z{constructor(e){super(),X(this,e,Tl,Sl,l,{stage:0})}}function jl(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function Ol(e,t,n){const r=e.slice();return r[14]=t[n],r}function Nl(e,t,n){const r=e.slice();return r[17]=t[n],r[13]=n,r}function Ml(e,t,n){const r=e.slice();return r[14]=t[n],r[20]=n,r}function Pl(e){let t,n,r=e[14].username+"";return{c(){t=m("div"),n=f(r),v(t,"class","player")},m(e,r){u(e,t,r),c(t,n)},p(e,t){1&t&&r!==(r=e[14].username+"")&&b(n,r)},d(e){e&&p(t)}}}function Ll(e){let t,n,r,s,l,a,o=e[13]+1+"",i=e[17],g=[];for(let t=0;t<i.length;t+=1)g[t]=Pl(Ml(e,i,t));return{c(){t=m("div"),n=m("h3"),r=f("Group "),s=f(o),l=h();for(let e=0;e<g.length;e+=1)g[e].c();a=h(),v(t,"class","group svelte-c6gifs"),k(t,"active",e[2]==e[13])},m(e,o){u(e,t,o),c(t,n),c(n,r),c(n,s),c(t,l);for(let e=0;e<g.length;e+=1)g[e].m(t,null);c(t,a)},p(e,n){if(1&n){let r;for(i=e[17],r=0;r<i.length;r+=1){const s=Ml(e,i,r);g[r]?g[r].p(s,n):(g[r]=Pl(s),g[r].c(),g[r].m(t,a))}for(;r<g.length;r+=1)g[r].d(1);g.length=i.length}4&n&&k(t,"active",e[2]==e[13])},d(e){e&&p(t),d(g,e)}}}function Al(e){let t,n;return t=new Un({props:{position:e[1].position,player:e[1],maps:e[4]}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.position=e[1].position),2&n&&(r.player=e[1]),16&n&&(r.maps=e[4]),t.$set(r)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Rl(e){let t;return{c(){t=f("Roll")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function Hl(e,t){let n,r;return{key:e,first:null,c(){n=m("img"),v(n,"alt",""),n.src!==(r=t[14].avatar)&&v(n,"src",r),v(n,"class","svelte-c6gifs"),this.first=n},m(e,t){u(e,n,t)},p(e,s){t=e,8&s&&n.src!==(r=t[14].avatar)&&v(n,"src",r)},d(e){e&&p(n)}}}function Dl(e){let t,n,r,s,l,a,o=["Top","High","Low","Bottom"][e[13]]+"",i=[],d=new Map,g=e[11];const y=e=>e[14].id;for(let t=0;t<g.length;t+=1){let n=Ol(e,g,t),r=y(n);d.set(r,i[t]=Hl(r,n))}return{c(){t=m("div"),n=m("h3"),r=f(o),s=f(" seed"),l=h();for(let e=0;e<i.length;e+=1)i[e].c();a=h(),v(t,"class","seed svelte-c6gifs")},m(e,o){u(e,t,o),c(t,n),c(n,r),c(n,s),c(t,l);for(let e=0;e<i.length;e+=1)i[e].m(t,null);c(t,a)},p(e,n){8&n&&(g=e[11],i=Y(i,n,y,1,e,g,d,t,J,Hl,a,Ol))},d(e){e&&p(t);for(let e=0;e<i.length;e+=1)i[e].d()}}}function Gl(e){let t,n,r,s,l,a,o,i,g,$,w,k,x,C,_,S,T,q=e[2]+1+"",j=e[0],O=[];for(let t=0;t<j.length;t+=1)O[t]=Ll(Nl(e,j,t));let N=e[1]&&Al(e);$=new _e({props:{$$slots:{default:[Rl]},$$scope:{ctx:e}}}),$.$on("click",e[5]);let M=e[3],P=[];for(let t=0;t<M.length;t+=1)P[t]=Dl(jl(e,M,t));return{c(){t=m("div");for(let e=0;e<O.length;e+=1)O[e].c();n=h(),r=m("div"),s=f("Current group: "),l=m("b"),a=f("Group "),o=f(q),i=h(),N&&N.c(),g=h(),F($.$$.fragment),w=h(),k=m("div");for(let e=0;e<P.length;e+=1)P[e].c();x=h(),C=m("button"),C.textContent="panic",v(t,"class","groups svelte-c6gifs"),v(r,"class","spotlight svelte-c6gifs"),v(k,"class","seeds svelte-c6gifs")},m(p,d){u(p,t,d);for(let e=0;e<O.length;e+=1)O[e].m(t,null);u(p,n,d),u(p,r,d),c(r,s),c(r,l),c(l,a),c(l,o),c(r,i),N&&N.m(r,null),c(r,g),Q($,r,null),u(p,w,d),u(p,k,d);for(let e=0;e<P.length;e+=1)P[e].m(k,null);u(p,x,d),u(p,C,d),_=!0,S||(T=y(C,"click",e[9]),S=!0)},p(e,[n]){if(5&n){let r;for(j=e[0],r=0;r<j.length;r+=1){const s=Nl(e,j,r);O[r]?O[r].p(s,n):(O[r]=Ll(s),O[r].c(),O[r].m(t,null))}for(;r<O.length;r+=1)O[r].d(1);O.length=j.length}(!_||4&n)&&q!==(q=e[2]+1+"")&&b(o,q),e[1]?N?(N.p(e,n),2&n&&B(N,1)):(N=Al(e),N.c(),B(N,1),N.m(r,g)):N&&(U(),z(N,1,1,(()=>{N=null})),E());const s={};if(2097152&n&&(s.$$scope={dirty:n,ctx:e}),$.$set(s),8&n){let t;for(M=e[3],t=0;t<M.length;t+=1){const r=jl(e,M,t);P[t]?P[t].p(r,n):(P[t]=Dl(r),P[t].c(),P[t].m(k,null))}for(;t<P.length;t+=1)P[t].d(1);P.length=M.length}},i(e){_||(B(N),B($.$$.fragment,e),_=!0)},o(e){z(N),z($.$$.fragment,e),_=!1},d(e){e&&p(t),d(O,e),e&&p(n),e&&p(r),N&&N.d(),K($),e&&p(w),e&&p(k),d(P,e),e&&p(x),e&&p(C),S=!1,T()}}}function Ul(e,t,n){let r,s,l,o;a(e,vn,(e=>n(7,s=e))),a(e,se,(e=>n(8,l=e))),a(e,yn,(e=>n(4,o=e)));let i,c=new Array(32).fill(0).map((()=>[{id:"",username:"-"},{id:"",username:"-"},{id:"",username:"-"},{id:"",username:"-"}])),u=new Set,p=0;_((()=>{const e=localStorage.getItem("groups");e&&n(0,c=JSON.parse(e));const t=localStorage.getItem("selectedPlayers");if(t){JSON.parse(t).forEach((e=>u.add(e)))}}));return e.$$.update=()=>{384&e.$$.dirty&&!s&&l&&kn(l),192&e.$$.dirty&&n(3,r=s?[s.slice(0,32).filter((e=>!u.has(e.id))),s.slice(32,64).filter((e=>!u.has(e.id))),s.slice(64,96).filter((e=>!u.has(e.id))),s.slice(96,128).filter((e=>!u.has(e.id)))]:[])},[c,i,p,r,o,()=>{const e=r.find((e=>e.length)),t=e[Math.random()*e.length>>0];n(1,i=t),n(6,u=new Set([...u,t.id])),n(0,c[p][c[p].findIndex((e=>"-"==e.username))]={id:t.id,username:t.username},c),localStorage.setItem("groups",JSON.stringify(c)),localStorage.setItem("selectedPlayers",JSON.stringify(Array.from(u.values()))),n(2,p=31==p?0:p+1)},u,s,l,()=>{localStorage.clear()}]}class El extends Z{constructor(e){super(),X(this,e,Ul,Gl,l,{})}}function Bl(t){let n,r;return{c(){n=m("textarea"),n.readOnly=!0,n.value=r=`${t[1].name}: M${t[0].id}\n${t[2](`${t[0].players[0].player.username} ${t[0].points1}`,t[0].points1==t[3])} | ${t[2](`${t[0].points2} ${t[0].players[1].player.username}`,t[0].points2==t[3])}\nRolls: ${t[0].rolls.map(t[4]).join(" | ")}\n\nProtects:\n${t[0].protects.map(zl).join("\n")}\n\nBans:\n${t[0].bans.map(Wl).join("\n")}\n\nMP Link: ${t[0].link}`,v(n,"class","svelte-1you0l4")},m(e,t){u(e,n,t)},p(e,[t]){3&t&&r!==(r=`${e[1].name}: M${e[0].id}\n${e[2](`${e[0].players[0].player.username} ${e[0].points1}`,e[0].points1==e[3])} | ${e[2](`${e[0].points2} ${e[0].players[1].player.username}`,e[0].points2==e[3])}\nRolls: ${e[0].rolls.map(e[4]).join(" | ")}\n\nProtects:\n${e[0].protects.map(zl).join("\n")}\n\nBans:\n${e[0].bans.map(Wl).join("\n")}\n\nMP Link: ${e[0].link}`)&&(n.value=r)},i:e,o:e,d(e){e&&p(n)}}}const zl=e=>`${e.player.username}: [${e.map.category}] ${e.map.name}`,Wl=e=>`${e.player.username}: [${e.map.category}] ${e.map.name}`;function Jl(e,t,n){let{match:r}=t,{stage:s}=t;const l=(e,t)=>t?`**${e}**`:e,a=1+(s.best_of/2>>0);return e.$$set=e=>{"match"in e&&n(0,r=e.match),"stage"in e&&n(1,s=e.stage)},[r,s,l,a,(e,t)=>l(e.value,e.value>r.rolls[(t+1)%2]?.value)]}class Il extends Z{constructor(e){super(),X(this,e,Jl,Bl,l,{match:0,stage:1})}}const{Map:Yl}=W;function Fl(e,t,n){const r=e.slice();return r[113]=t[n],r}function Ql(e,t,n){const r=e.slice();return r[45]=t[n],r}function Kl(e,t,n){const r=e.slice();return r[113]=t[n],r}function Vl(e,t,n){const r=e.slice();return r[113]=t[n],r}function Xl(e,t,n){const r=e.slice();return r[113]=t[n],r}function Zl(e,t,n){const r=e.slice();return r[113]=t[n],r}function ea(e,t,n){const r=e.slice();return r[110]=t[n],r}function ta(e){let t,n,s,l,a,o,i,d,g,$,k,x,C,_,S,T,q,j,O,N,M,P,L,A,R,H,D,G,W,J,I,Y,V,X,Z,ee,te,ne,re,se,le,ae,oe,ie,ce,ue,pe,de,me,fe,he,ge,ye,ve,$e,be,we,ke,xe,Ce,_e,Se,Te,qe,je,Oe,Ne,Me,Pe,Le,Ae,Re,He,De,Ge,Ue,Ee,Be,ze,We,Je,Ie,Ye,Fe,Qe,Ke,Ve,Xe,Ze,et,tt,nt,rt,st,lt,at,ot,it,ct,ut,pt,dt,mt,ft,ht,gt,yt,vt,$t,bt,wt,kt,xt,Ct,_t,St,Tt,qt,jt,Ot,Nt,Mt,Pt,Lt,At,Rt,Ht,Dt,Gt,Ut,Et,Bt,zt,Wt,Jt,It,Yt,Ft,Qt,Kt,Vt,Xt,Zt,en,tn,nn=e[3].players[0].player.username+"",rn=e[3].players[0].player.seed+"",sn=e[3].players[1].player.username+"",ln=e[3].players[1].player.seed+"",an=e[33]<e[34]?"Tiebreaker (rice)":"Tiebreaker (hybrid)";function on(e,t){return e[3].link?aa:la}a=new Il({props:{match:e[3],stage:e[0]}});let cn=on(e),un=cn(e);function pn(e,t){return e[3].rolls.length?ia:oa}let dn=pn(e),mn=dn(e);const fn=[ua,ca],hn=[];function gn(e,t){return e[3].protects[0]?0:e[3].rolls[1]?1:-1}~(Lt=gn(e))&&(At=hn[Lt]=fn[Lt](e));const yn=[fa,ma],vn=[];function $n(e,t){return e[3].protects[1]?0:e[3].protects[0]?1:-1}~(Ht=$n(e))&&(Dt=vn[Ht]=yn[Ht](e));const bn=[$a,va],wn=[];function kn(e,t){return e[3].bans[0]?0:e[3].protects[1]?1:-1}~(Bt=kn(e))&&(zt=wn[Bt]=bn[Bt](e));const xn=[Ca,xa],Cn=[];function _n(e,t){return e[3].bans[1]?0:e[3].bans[0]?1:-1}~(Jt=_n(e))&&(It=Cn[Jt]=xn[Jt](e));let Sn=e[3].bans[1]&&qa(e),Tn=e[4]==e[1]-1&&e[5]==e[1]-1&&!e[35]&&Da(e),qn=e[4]>=e[1]&&Ea(e),jn=e[5]>=e[1]&&Ba(e);return{c(){t=m("div"),n=m("a"),n.textContent="Back to matches",s=h(),l=m("center"),F(a.$$.fragment),o=h(),i=m("center"),d=m("br"),g=m("br"),$=h(),k=m("a"),x=f("Emergency match editing link if you make a tremendous mistake"),_=h(),S=m("br"),T=m("br"),q=h(),j=m("div"),O=m("div"),N=f(e[4]),M=h(),P=m("div"),L=m("img"),R=h(),H=m("a"),D=f(nn),G=f(" (#"),W=f(rn),J=f(")"),Y=h(),V=m("div"),V.textContent="vs.",X=h(),Z=m("div"),ee=m("img"),ne=h(),re=m("a"),se=f(sn),le=f(" (#"),ae=f(ln),oe=f(")"),ce=h(),ue=m("div"),pe=f(e[5]),de=h(),me=m("center"),fe=f("Weighted counts: "),he=f(e[33]),ge=f(" rice vs. "),ye=f(e[34]),ve=f(" LN+Hybrid"),$e=m("br"),be=f("\r\n    Current tiebreaker: "),we=f(an),ke=h(),xe=m("div"),Ce=f("Create and prepare your lobby\r\n    "),_e=m("div"),Se=m("input"),qe=h(),je=m("a"),je.textContent="📝 Copy",Oe=h(),Ne=m("div"),Me=m("input"),Pe=h(),Le=m("a"),Le.textContent="📝 Copy",Ae=h(),Re=m("div"),He=m("input"),De=h(),Ge=m("a"),Ge.textContent="📝 Copy",Ue=h(),Ee=m("div"),Be=m("input"),We=h(),Je=m("a"),Je.textContent="📝 Copy",Ie=h(),Ye=m("div"),Fe=m("input"),Ke=h(),Ve=m("a"),Ve.textContent="📝 Copy",Xe=h(),Ze=m("div"),et=m("input"),nt=h(),rt=m("a"),rt.textContent="📝 Copy",st=h(),un.c(),lt=h(),at=m("div"),ot=m("center"),ot.innerHTML="Warmup rules: 4 minutes max, non-offensive<br/>\n      Ask for them 30 minutes in advance",it=h(),ct=m("div"),ut=m("input"),pt=h(),dt=m("input"),mt=h(),ft=m("div"),ht=m("input"),yt=h(),vt=m("a"),vt.textContent="📝 Copy",$t=h(),bt=m("div"),wt=m("input"),xt=h(),Ct=m("a"),Ct.textContent="📝 Copy",_t=h(),St=m("div"),Tt=f("Rolls\r\n    "),qt=m("div"),jt=m("input"),Ot=h(),Nt=m("a"),Nt.textContent="📝 Copy",Mt=h(),mn.c(),Pt=h(),At&&At.c(),Rt=h(),Dt&&Dt.c(),Gt=h(),Ut=m("hr"),Et=h(),zt&&zt.c(),Wt=h(),It&&It.c(),Yt=h(),Ft=m("hr"),Qt=h(),Sn&&Sn.c(),Kt=h(),Tn&&Tn.c(),Vt=h(),qn&&qn.c(),Xt=h(),jn&&jn.c(),v(n,"href","#/referee!helper"),v(k,"href",C=`https://api.mbs3.fightthe.pw/admin/collections/matches/${e[3].id}`),v(k,"target","_blank"),v(O,"class","points svelte-htbg4y"),v(L,"alt",""),L.src!==(A=e[3].players[0].player.avatar)&&v(L,"src",A),v(L,"class","svelte-htbg4y"),v(H,"href",I=`https://osu.ppy.sh/users/${e[3].players[0].player.id}`),v(P,"class","player svelte-htbg4y"),v(V,"class","vs svelte-htbg4y"),v(ee,"alt",""),ee.src!==(te=e[3].players[1].player.avatar)&&v(ee,"src",te),v(ee,"class","svelte-htbg4y"),v(re,"href",ie=`https://osu.ppy.sh/users/${e[3].players[1].player.id}`),v(Z,"class","player svelte-htbg4y"),v(ue,"class","points svelte-htbg4y"),v(j,"class","players svelte-htbg4y"),v(me,"class","picks svelte-htbg4y"),Se.readOnly=!0,Se.value=Te=`!mp make MBS3: (${e[3].players[0].player.username}) vs. (${e[3].players[1].player.username})`,v(Se,"class","svelte-htbg4y"),v(je,"href","#/referee!helper"),v(je,"class","copy"),Me.readOnly=!0,Me.value="!mp set 0 3 3",v(Me,"class","svelte-htbg4y"),v(Le,"href","#/referee!helper"),v(Le,"class","copy"),He.readOnly=!0,He.value="!mp mods Freemod",v(He,"class","svelte-htbg4y"),v(Ge,"href","#/referee!helper"),v(Ge,"class","copy"),Be.readOnly=!0,Be.value=ze=`!mp addref ${e[3].streamer?.username||"whoever's currently streaming"}`,v(Be,"class","svelte-htbg4y"),v(Je,"href","#/referee!helper"),v(Je,"class","copy"),Fe.readOnly=!0,Fe.value=Qe=`!mp invite #${e[3].players[0].player.id}`,v(Fe,"class","svelte-htbg4y"),v(Ve,"href","#/referee!helper"),v(Ve,"class","copy"),et.readOnly=!0,et.value=tt=`!mp invite #${e[3].players[1].player.id}`,v(et,"class","svelte-htbg4y"),v(rt,"href","#/referee!helper"),v(rt,"class","copy"),v(xe,"class","init svelte-htbg4y"),v(ut,"placeholder","Beatmap link 1"),v(ut,"class","svelte-htbg4y"),v(dt,"placeholder","Beatmap link 2"),v(dt,"class","svelte-htbg4y"),v(ct,"class","values svelte-htbg4y"),ht.readOnly=!0,ht.value=gt=`!mp map ${e[28].split("/").pop()} 3 ${e[3].players[0].player.username}'s warmup`,v(ht,"class","svelte-htbg4y"),v(vt,"href","#/referee!helper"),v(vt,"class","copy"),v(ft,"class","warmup svelte-htbg4y"),wt.readOnly=!0,wt.value=kt=`!mp map ${e[29].split("/").pop()} 3 ${e[3].players[1].player.username}'s warmup`,v(wt,"class","svelte-htbg4y"),v(Ct,"href","#/referee!helper"),v(Ct,"class","copy"),v(bt,"class","warmup svelte-htbg4y"),v(at,"class","warmups svelte-htbg4y"),jt.readOnly=!0,jt.value="Time to roll: each player will !roll, the highest one will protect first and ban second!",v(jt,"class","svelte-htbg4y"),v(Nt,"href","#/referee!helper"),v(Nt,"class","copy"),v(qt,"class","call svelte-htbg4y"),v(St,"class","rolls svelte-htbg4y"),v(t,"class","match")},m(r,p){u(r,t,p),c(t,n),c(t,s),c(t,l),Q(a,l,null),c(t,o),c(t,i),c(i,d),c(i,g),c(i,$),c(i,k),c(k,x),c(i,_),c(i,S),c(i,T),c(t,q),c(t,j),c(j,O),c(O,N),c(j,M),c(j,P),c(P,L),c(P,R),c(P,H),c(H,D),c(H,G),c(H,W),c(H,J),c(j,Y),c(j,V),c(j,X),c(j,Z),c(Z,ee),c(Z,ne),c(Z,re),c(re,se),c(re,le),c(re,ae),c(re,oe),c(j,ce),c(j,ue),c(ue,pe),c(t,de),c(t,me),c(me,fe),c(me,he),c(me,ge),c(me,ye),c(me,ve),c(me,$e),c(me,be),c(me,we),c(t,ke),c(t,xe),c(xe,Ce),c(xe,_e),c(_e,Se),e[55](Se),c(_e,qe),c(_e,je),c(xe,Oe),c(xe,Ne),c(Ne,Me),e[57](Me),c(Ne,Pe),c(Ne,Le),c(xe,Ae),c(xe,Re),c(Re,He),e[59](He),c(Re,De),c(Re,Ge),c(xe,Ue),c(xe,Ee),c(Ee,Be),e[61](Be),c(Ee,We),c(Ee,Je),c(xe,Ie),c(xe,Ye),c(Ye,Fe),e[63](Fe),c(Ye,Ke),c(Ye,Ve),c(xe,Xe),c(xe,Ze),c(Ze,et),e[65](et),c(Ze,nt),c(Ze,rt),c(t,st),un.m(t,null),c(t,lt),c(t,at),c(at,ot),c(at,it),c(at,ct),c(ct,ut),w(ut,e[28]),c(ct,pt),c(ct,dt),w(dt,e[29]),c(at,mt),c(at,ft),c(ft,ht),e[70](ht),c(ft,yt),c(ft,vt),c(at,$t),c(at,bt),c(bt,wt),e[72](wt),c(bt,xt),c(bt,Ct),c(t,_t),c(t,St),c(St,Tt),c(St,qt),c(qt,jt),e[74](jt),c(qt,Ot),c(qt,Nt),c(St,Mt),mn.m(St,null),c(t,Pt),~Lt&&hn[Lt].m(t,null),c(t,Rt),~Ht&&vn[Ht].m(t,null),c(t,Gt),c(t,Ut),c(t,Et),~Bt&&wn[Bt].m(t,null),c(t,Wt),~Jt&&Cn[Jt].m(t,null),c(t,Yt),c(t,Ft),c(t,Qt),Sn&&Sn.m(t,null),c(t,Kt),Tn&&Tn.m(t,null),c(t,Vt),qn&&qn.m(t,null),c(t,Xt),jn&&jn.m(t,null),Zt=!0,en||(tn=[y(n,"click",e[54]),y(je,"click",e[56]),y(Le,"click",e[58]),y(Ge,"click",e[60]),y(Je,"click",e[62]),y(Ve,"click",e[64]),y(rt,"click",e[66]),y(ut,"input",e[68]),y(dt,"input",e[69]),y(vt,"click",e[71]),y(Ct,"click",e[73]),y(Nt,"click",e[75])],en=!0)},p(e,n){const r={};8&n[0]&&(r.match=e[3]),1&n[0]&&(r.stage=e[0]),a.$set(r),(!Zt||8&n[0]&&C!==(C=`https://api.mbs3.fightthe.pw/admin/collections/matches/${e[3].id}`))&&v(k,"href",C),(!Zt||16&n[0])&&b(N,e[4]),(!Zt||8&n[0]&&L.src!==(A=e[3].players[0].player.avatar))&&v(L,"src",A),(!Zt||8&n[0])&&nn!==(nn=e[3].players[0].player.username+"")&&b(D,nn),(!Zt||8&n[0])&&rn!==(rn=e[3].players[0].player.seed+"")&&b(W,rn),(!Zt||8&n[0]&&I!==(I=`https://osu.ppy.sh/users/${e[3].players[0].player.id}`))&&v(H,"href",I),(!Zt||8&n[0]&&ee.src!==(te=e[3].players[1].player.avatar))&&v(ee,"src",te),(!Zt||8&n[0])&&sn!==(sn=e[3].players[1].player.username+"")&&b(se,sn),(!Zt||8&n[0])&&ln!==(ln=e[3].players[1].player.seed+"")&&b(ae,ln),(!Zt||8&n[0]&&ie!==(ie=`https://osu.ppy.sh/users/${e[3].players[1].player.id}`))&&v(re,"href",ie),(!Zt||32&n[0])&&b(pe,e[5]),(!Zt||4&n[1])&&b(he,e[33]),(!Zt||8&n[1])&&b(ye,e[34]),(!Zt||12&n[1])&&an!==(an=e[33]<e[34]?"Tiebreaker (rice)":"Tiebreaker (hybrid)")&&b(we,an),(!Zt||8&n[0]&&Te!==(Te=`!mp make MBS3: (${e[3].players[0].player.username}) vs. (${e[3].players[1].player.username})`)&&Se.value!==Te)&&(Se.value=Te),(!Zt||8&n[0]&&ze!==(ze=`!mp addref ${e[3].streamer?.username||"whoever's currently streaming"}`)&&Be.value!==ze)&&(Be.value=ze),(!Zt||8&n[0]&&Qe!==(Qe=`!mp invite #${e[3].players[0].player.id}`)&&Fe.value!==Qe)&&(Fe.value=Qe),(!Zt||8&n[0]&&tt!==(tt=`!mp invite #${e[3].players[1].player.id}`)&&et.value!==tt)&&(et.value=tt),cn===(cn=on(e))&&un?un.p(e,n):(un.d(1),un=cn(e),un&&(un.c(),un.m(t,lt))),268435456&n[0]&&ut.value!==e[28]&&w(ut,e[28]),536870912&n[0]&&dt.value!==e[29]&&w(dt,e[29]),(!Zt||268435464&n[0]&&gt!==(gt=`!mp map ${e[28].split("/").pop()} 3 ${e[3].players[0].player.username}'s warmup`)&&ht.value!==gt)&&(ht.value=gt),(!Zt||536870920&n[0]&&kt!==(kt=`!mp map ${e[29].split("/").pop()} 3 ${e[3].players[1].player.username}'s warmup`)&&wt.value!==kt)&&(wt.value=kt),dn===(dn=pn(e))&&mn?mn.p(e,n):(mn.d(1),mn=dn(e),mn&&(mn.c(),mn.m(St,null)));let s=Lt;Lt=gn(e),Lt===s?~Lt&&hn[Lt].p(e,n):(At&&(U(),z(hn[s],1,1,(()=>{hn[s]=null})),E()),~Lt?(At=hn[Lt],At?At.p(e,n):(At=hn[Lt]=fn[Lt](e),At.c()),B(At,1),At.m(t,Rt)):At=null);let l=Ht;Ht=$n(e),Ht===l?~Ht&&vn[Ht].p(e,n):(Dt&&(U(),z(vn[l],1,1,(()=>{vn[l]=null})),E()),~Ht?(Dt=vn[Ht],Dt?Dt.p(e,n):(Dt=vn[Ht]=yn[Ht](e),Dt.c()),B(Dt,1),Dt.m(t,Gt)):Dt=null);let o=Bt;Bt=kn(e),Bt===o?~Bt&&wn[Bt].p(e,n):(zt&&(U(),z(wn[o],1,1,(()=>{wn[o]=null})),E()),~Bt?(zt=wn[Bt],zt?zt.p(e,n):(zt=wn[Bt]=bn[Bt](e),zt.c()),B(zt,1),zt.m(t,Wt)):zt=null);let i=Jt;Jt=_n(e),Jt===i?~Jt&&Cn[Jt].p(e,n):(It&&(U(),z(Cn[i],1,1,(()=>{Cn[i]=null})),E()),~Jt?(It=Cn[Jt],It?It.p(e,n):(It=Cn[Jt]=xn[Jt](e),It.c()),B(It,1),It.m(t,Yt)):It=null),e[3].bans[1]?Sn?(Sn.p(e,n),8&n[0]&&B(Sn,1)):(Sn=qa(e),Sn.c(),B(Sn,1),Sn.m(t,Kt)):Sn&&(U(),z(Sn,1,1,(()=>{Sn=null})),E()),e[4]!=e[1]-1||e[5]!=e[1]-1||e[35]?Tn&&(U(),z(Tn,1,1,(()=>{Tn=null})),E()):Tn?(Tn.p(e,n),50&n[0]|16&n[1]&&B(Tn,1)):(Tn=Da(e),Tn.c(),B(Tn,1),Tn.m(t,Vt)),e[4]>=e[1]?qn?qn.p(e,n):(qn=Ea(e),qn.c(),qn.m(t,Xt)):qn&&(qn.d(1),qn=null),e[5]>=e[1]?jn?jn.p(e,n):(jn=Ba(e),jn.c(),jn.m(t,null)):jn&&(jn.d(1),jn=null)},i(e){Zt||(B(a.$$.fragment,e),B(At),B(Dt),B(zt),B(It),B(Sn),B(Tn),Zt=!0)},o(e){z(a.$$.fragment,e),z(At),z(Dt),z(zt),z(It),z(Sn),z(Tn),Zt=!1},d(n){n&&p(t),K(a),e[55](null),e[57](null),e[59](null),e[61](null),e[63](null),e[65](null),un.d(),e[70](null),e[72](null),e[74](null),mn.d(),~Lt&&hn[Lt].d(),~Ht&&vn[Ht].d(),~Bt&&wn[Bt].d(),~Jt&&Cn[Jt].d(),Sn&&Sn.d(),Tn&&Tn.d(),qn&&qn.d(),jn&&jn.d(),en=!1,r(tn)}}}function na(e){let t,n,s,l,a,o,i,d,g,$,w,k,x=e[25]?"Show all matches":"Show only my matches",C=e[26]?"Hide past matches":"Show past matches",_=[],S=new Yl,T=e[7];const q=e=>e[110].id;for(let t=0;t<T.length;t+=1){let n=ea(e,T,t),r=q(n);S.set(r,_[t]=Wa(r,n))}return{c(){t=m("a"),n=f(x),s=f("\r\n   \r\n"),l=m("a"),a=f(C),o=h(),i=m("div"),d=m("center"),d.textContent="Select a match",g=h();for(let e=0;e<_.length;e+=1)_[e].c();v(t,"href","#/referee!helper"),v(l,"href","#/referee!helper"),v(i,"class","matches svelte-htbg4y")},m(r,p){u(r,t,p),c(t,n),u(r,s,p),u(r,l,p),c(l,a),u(r,o,p),u(r,i,p),c(i,d),c(i,g);for(let e=0;e<_.length;e+=1)_[e].m(i,null);$=!0,w||(k=[y(t,"click",e[51]),y(l,"click",e[52])],w=!0)},p(e,t){(!$||33554432&t[0])&&x!==(x=e[25]?"Show all matches":"Show only my matches")&&b(n,x),(!$||67108864&t[0])&&C!==(C=e[26]?"Hide past matches":"Show past matches")&&b(a,C),100663490&t[0]|32&t[1]&&(T=e[7],U(),_=Y(_,t,q,1,e,T,S,i,I,Wa,null,ea),E())},i(e){if(!$){for(let e=0;e<T.length;e+=1)B(_[e]);$=!0}},o(e){for(let e=0;e<_.length;e+=1)z(_[e]);$=!1},d(e){e&&p(t),e&&p(s),e&&p(l),e&&p(o),e&&p(i);for(let e=0;e<_.length;e+=1)_[e].d();w=!1,r(k)}}}function ra(t){let n;return{c(){n=f("Loading matches...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function sa(t){let n;return{c(){n=m("a"),n.textContent="Login",v(n,"href","https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}function la(e){let t,n,s,l,a,o,i,d;return{c(){t=m("div"),n=f("Paste your MP link here\r\n    "),s=m("div"),l=m("input"),a=h(),o=m("button"),o.textContent="Save and send MP link",v(l,"placeholder","MP Link"),v(l,"class","svelte-htbg4y"),v(s,"class","values svelte-htbg4y"),v(t,"class","init svelte-htbg4y")},m(r,p){u(r,t,p),c(t,n),c(t,s),c(s,l),w(l,e[27]),c(t,a),c(t,o),i||(d=[y(l,"input",e[67]),y(o,"click",e[38])],i=!0)},p(e,t){134217728&t[0]&&l.value!==e[27]&&w(l,e[27])},d(e){e&&p(t),i=!1,r(d)}}}function aa(e){let t,n,r,s,l;return{c(){t=m("center"),n=m("h1"),r=m("a"),s=f("MP Link"),v(r,"href",l=e[3].link)},m(e,l){u(e,t,l),c(t,n),c(n,r),c(r,s)},p(e,t){8&t[0]&&l!==(l=e[3].link)&&v(r,"href",l)},d(e){e&&p(t)}}}function oa(e){let t,n,s,l,a,o,i,d;return{c(){t=m("div"),n=m("input"),s=h(),l=m("input"),a=h(),o=m("button"),o.textContent="Confirm rolls",v(n,"placeholder","Roll 1"),v(n,"type","number"),v(n,"class","svelte-htbg4y"),v(l,"placeholder","Roll 2"),v(l,"type","number"),v(l,"class","svelte-htbg4y"),v(t,"class","values svelte-htbg4y")},m(r,p){u(r,t,p),c(t,n),w(n,e[30]),c(t,s),c(t,l),w(l,e[31]),u(r,a,p),u(r,o,p),i||(d=[y(n,"input",e[76]),y(l,"input",e[77]),y(o,"click",e[39])],i=!0)},p(e,t){1073741824&t[0]&&$(n.value)!==e[30]&&w(n,e[30]),1&t[1]&&$(l.value)!==e[31]&&w(l,e[31])},d(e){e&&p(t),e&&p(a),e&&p(o),i=!1,r(d)}}}function ia(e){let t,n,r,s,l,a,o=e[3].rolls[0].value+"",i=e[3].rolls[1].value+"";return{c(){t=m("div"),n=m("b"),r=f(o),s=f(" vs.\r\n      "),l=m("b"),a=f(i),v(t,"class","values svelte-htbg4y")},m(e,o){u(e,t,o),c(t,n),c(n,r),c(t,s),c(t,l),c(l,a)},p(e,t){8&t[0]&&o!==(o=e[3].rolls[0].value+"")&&b(r,o),8&t[0]&&i!==(i=e[3].rolls[1].value+"")&&b(a,i)},d(e){e&&p(t)}}}function ca(e){let t,n,r,s,l,a,o,i,d,f,g,$,b,w=[],k=new Yl,x=e[8];const C=e=>e[113].id;for(let t=0;t<x.length;t+=1){let n=Zl(e,x,t),r=C(n);k.set(r,w[t]=da(r,n))}return{c(){t=m("div"),n=m("center"),n.innerHTML="Protects<br/>\n      Roll winner protects first",r=h(),s=m("div"),l=m("input"),o=h(),i=m("a"),i.textContent="📝 Copy",d=h(),f=m("div");for(let e=0;e<w.length;e+=1)w[e].c();l.readOnly=!0,l.value=a=`${e[44](e[3],"winner").username} wins the roll and protects first! Pick a map to protect: this map will not be able to be banned.`,v(l,"class","svelte-htbg4y"),v(i,"href","#/referee!helper"),v(i,"class","copy"),v(s,"class","call svelte-htbg4y"),v(f,"class","maps svelte-htbg4y"),v(t,"class","protects svelte-htbg4y")},m(a,p){u(a,t,p),c(t,n),c(t,r),c(t,s),c(s,l),e[79](l),c(s,o),c(s,i),c(t,d),c(t,f);for(let e=0;e<w.length;e+=1)w[e].m(f,null);g=!0,$||(b=y(i,"click",e[80]),$=!0)},p(e,t){(!g||8&t[0]&&a!==(a=`${e[44](e[3],"winner").username} wins the roll and protects first! Pick a map to protect: this map will not be able to be banned.`)&&l.value!==a)&&(l.value=a),264&t[0]|8704&t[1]&&(x=e[8],U(),w=Y(w,t,C,1,e,x,k,f,I,da,null,Zl),E())},i(e){if(!g){for(let e=0;e<x.length;e+=1)B(w[e]);g=!0}},o(e){for(let e=0;e<w.length;e+=1)z(w[e]);g=!1},d(n){n&&p(t),e[79](null);for(let e=0;e<w.length;e+=1)w[e].d();$=!1,b()}}}function ua(e){let t,n,r,s,l,a=e[44](e[3],"winner").username+"";return s=new Vt({props:{map:e[8].find(e[78])}}),{c(){t=m("div"),n=f(a),r=f("'s protect\r\n    "),F(s.$$.fragment),v(t,"class","protects svelte-htbg4y")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){(!l||8&t[0])&&a!==(a=e[44](e[3],"winner").username+"")&&b(n,a);const r={};264&t[0]&&(r.map=e[8].find(e[78])),s.$set(r)},i(e){l||(B(s.$$.fragment,e),l=!0)},o(e){z(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function pa(e){let t,n;return t=new Vt({props:{map:e[113]}}),t.$on("click",(function(...t){return e[81](e[113],...t)})),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};256&r[0]&&(s.map=e[113]),t.$set(s)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function da(e,t){let n,r,s,l=!t[113].category.startsWith("Tiebreaker"),a=l&&pa(t);return{key:e,first:null,c(){n=g(),a&&a.c(),r=g(),this.first=n},m(e,t){u(e,n,t),a&&a.m(e,t),u(e,r,t),s=!0},p(e,n){t=e,256&n[0]&&(l=!t[113].category.startsWith("Tiebreaker")),l?a?(a.p(t,n),256&n[0]&&B(a,1)):(a=pa(t),a.c(),B(a,1),a.m(r.parentNode,r)):a&&(U(),z(a,1,1,(()=>{a=null})),E())},i(e){s||(B(a),s=!0)},o(e){z(a),s=!1},d(e){e&&p(n),a&&a.d(e),e&&p(r)}}}function ma(e){let t,n,r,s,l,a,o,i,d,f,g,$=[],b=new Yl,w=e[8];const k=e=>e[113].id;for(let t=0;t<w.length;t+=1){let n=Xl(e,w,t),r=k(n);b.set(r,$[t]=ya(r,n))}return{c(){t=m("div"),n=m("div"),r=m("input"),l=h(),a=m("a"),a.textContent="📝 Copy",o=h(),i=m("div");for(let e=0;e<$.length;e+=1)$[e].c();r.readOnly=!0,r.value=s=`${e[44](e[3],"loser").username} protects second: pick a map to protect`,v(r,"class","svelte-htbg4y"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(n,"class","call svelte-htbg4y"),v(i,"class","maps svelte-htbg4y"),v(t,"class","protects svelte-htbg4y")},m(s,p){u(s,t,p),c(t,n),c(n,r),e[83](r),c(n,l),c(n,a),c(t,o),c(t,i);for(let e=0;e<$.length;e+=1)$[e].m(i,null);d=!0,f||(g=y(a,"click",e[84]),f=!0)},p(e,t){(!d||8&t[0]&&s!==(s=`${e[44](e[3],"loser").username} protects second: pick a map to protect`)&&r.value!==s)&&(r.value=s),264&t[0]|8704&t[1]&&(w=e[8],U(),$=Y($,t,k,1,e,w,b,i,I,ya,null,Xl),E())},i(e){if(!d){for(let e=0;e<w.length;e+=1)B($[e]);d=!0}},o(e){for(let e=0;e<$.length;e+=1)z($[e]);d=!1},d(n){n&&p(t),e[83](null);for(let e=0;e<$.length;e+=1)$[e].d();f=!1,g()}}}function fa(e){let t,n,r,s,l,a=e[44](e[3],"loser").username+"";return s=new Vt({props:{map:e[8].find(e[82])}}),{c(){t=m("div"),n=f(a),r=f("'s protect\r\n    "),F(s.$$.fragment),v(t,"class","protects svelte-htbg4y")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){(!l||8&t[0])&&a!==(a=e[44](e[3],"loser").username+"")&&b(n,a);const r={};264&t[0]&&(r.map=e[8].find(e[82])),s.$set(r)},i(e){l||(B(s.$$.fragment,e),l=!0)},o(e){z(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function ha(e){let t,n,r;return n=new Vt({props:{map:e[113]}}),{c(){t=m("div"),F(n.$$.fragment),v(t,"class","disabled svelte-htbg4y")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},p(e,t){const r={};256&t[0]&&(r.map=e[113]),n.$set(r)},i(e){r||(B(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function ga(e){let t,n;return t=new Vt({props:{map:e[113]}}),t.$on("click",(function(...t){return e[85](e[113],...t)})),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};256&r[0]&&(s.map=e[113]),t.$set(s)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function ya(e,t){let n,r,s,l,a,o;const i=[ga,ha],c=[];function d(e,t){return 264&t[0]&&(r=!(e[113].category.startsWith("Tiebreaker")||e[3].protects[0]?.map.id==e[113].id)),r?0:e[3].protects[0]?.map.id==e[113].id?1:-1}return~(s=d(t,[-1]))&&(l=c[s]=i[s](t)),{key:e,first:null,c(){n=g(),l&&l.c(),a=g(),this.first=n},m(e,t){u(e,n,t),~s&&c[s].m(e,t),u(e,a,t),o=!0},p(e,n){let r=s;s=d(t=e,n),s===r?~s&&c[s].p(t,n):(l&&(U(),z(c[r],1,1,(()=>{c[r]=null})),E()),~s?(l=c[s],l?l.p(t,n):(l=c[s]=i[s](t),l.c()),B(l,1),l.m(a.parentNode,a)):l=null)},i(e){o||(B(l),o=!0)},o(e){z(l),o=!1},d(e){e&&p(n),~s&&c[s].d(e),e&&p(a)}}}function va(e){let t,n,r,s,l,a,o,i,d,f,g,$,b,w=[],k=new Yl,x=e[8];const C=e=>e[113].id;for(let t=0;t<x.length;t+=1){let n=Vl(e,x,t),r=C(n);k.set(r,w[t]=ka(r,n))}return{c(){t=m("div"),n=m("center"),n.innerHTML="Bans<br/>\n      Roll loser bans first",r=h(),s=m("div"),l=m("input"),o=h(),i=m("a"),i.textContent="📝 Copy",d=h(),f=m("div");for(let e=0;e<w.length;e+=1)w[e].c();l.readOnly=!0,l.value=a=`${e[44](e[3],"loser").username} bans first! Pick a map to ban: this map will not be able to be picked in the match.`,v(l,"class","svelte-htbg4y"),v(i,"href","#/referee!helper"),v(i,"class","copy"),v(s,"class","call svelte-htbg4y"),v(f,"class","maps svelte-htbg4y"),v(t,"class","bans svelte-htbg4y")},m(a,p){u(a,t,p),c(t,n),c(t,r),c(t,s),c(s,l),e[87](l),c(s,o),c(s,i),c(t,d),c(t,f);for(let e=0;e<w.length;e+=1)w[e].m(f,null);g=!0,$||(b=y(i,"click",e[88]),$=!0)},p(e,t){(!g||8&t[0]&&a!==(a=`${e[44](e[3],"loser").username} bans first! Pick a map to ban: this map will not be able to be picked in the match.`)&&l.value!==a)&&(l.value=a),264&t[0]|9216&t[1]&&(x=e[8],U(),w=Y(w,t,C,1,e,x,k,f,I,ka,null,Vl),E())},i(e){if(!g){for(let e=0;e<x.length;e+=1)B(w[e]);g=!0}},o(e){for(let e=0;e<w.length;e+=1)z(w[e]);g=!1},d(n){n&&p(t),e[87](null);for(let e=0;e<w.length;e+=1)w[e].d();$=!1,b()}}}function $a(e){let t,n,r,s,l,a=e[44](e[3],"loser").username+"";return s=new Vt({props:{map:e[8].find(e[86])}}),{c(){t=m("div"),n=f(a),r=f("'s ban\r\n    "),F(s.$$.fragment),v(t,"class","bans svelte-htbg4y")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){(!l||8&t[0])&&a!==(a=e[44](e[3],"loser").username+"")&&b(n,a);const r={};264&t[0]&&(r.map=e[8].find(e[86])),s.$set(r)},i(e){l||(B(s.$$.fragment,e),l=!0)},o(e){z(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function ba(e){let t,n,r;return n=new Vt({props:{map:e[113]}}),{c(){t=m("div"),F(n.$$.fragment),v(t,"class","disabled svelte-htbg4y")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},p(e,t){const r={};256&t[0]&&(r.map=e[113]),n.$set(r)},i(e){r||(B(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function wa(e){let t,n;return t=new Vt({props:{map:e[113]}}),t.$on("click",(function(...t){return e[89](e[113],...t)})),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};256&r[0]&&(s.map=e[113]),t.$set(s)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function ka(e,t){let n,r,s,l,a,o;const i=[wa,ba],c=[];function d(e,t){return 264&t[0]&&(r=!(e[113].category.startsWith("Tiebreaker")||e[3].protects[0]?.map?.id==e[113].id||e[3].protects[1]?.map?.id==e[113].id)),r?0:e[3].protects[0]?.map?.id==e[113].id||e[3].protects[1]?.map?.id==e[113].id?1:-1}return~(s=d(t,[-1]))&&(l=c[s]=i[s](t)),{key:e,first:null,c(){n=g(),l&&l.c(),a=g(),this.first=n},m(e,t){u(e,n,t),~s&&c[s].m(e,t),u(e,a,t),o=!0},p(e,n){let r=s;s=d(t=e,n),s===r?~s&&c[s].p(t,n):(l&&(U(),z(c[r],1,1,(()=>{c[r]=null})),E()),~s?(l=c[s],l?l.p(t,n):(l=c[s]=i[s](t),l.c()),B(l,1),l.m(a.parentNode,a)):l=null)},i(e){o||(B(l),o=!0)},o(e){z(l),o=!1},d(e){e&&p(n),~s&&c[s].d(e),e&&p(a)}}}function xa(e){let t,n,r,s,l,a,o,i,d,f,g,$=[],b=new Yl,w=e[8];const k=e=>e[113].id;for(let t=0;t<w.length;t+=1){let n=Kl(e,w,t),r=k(n);b.set(r,$[t]=Ta(r,n))}return{c(){t=m("div"),n=m("div"),r=m("input"),l=h(),a=m("a"),a.textContent="📝 Copy",o=h(),i=m("div");for(let e=0;e<$.length;e+=1)$[e].c();r.readOnly=!0,r.value=s=`${e[44](e[3],"winner").username}'s turn to ban: pick a map to ban`,v(r,"class","svelte-htbg4y"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(n,"class","call svelte-htbg4y"),v(i,"class","maps svelte-htbg4y"),v(t,"class","bans svelte-htbg4y")},m(s,p){u(s,t,p),c(t,n),c(n,r),e[91](r),c(n,l),c(n,a),c(t,o),c(t,i);for(let e=0;e<$.length;e+=1)$[e].m(i,null);d=!0,f||(g=y(a,"click",e[92]),f=!0)},p(e,t){(!d||8&t[0]&&s!==(s=`${e[44](e[3],"winner").username}'s turn to ban: pick a map to ban`)&&r.value!==s)&&(r.value=s),264&t[0]|9216&t[1]&&(w=e[8],U(),$=Y($,t,k,1,e,w,b,i,I,Ta,null,Kl),E())},i(e){if(!d){for(let e=0;e<w.length;e+=1)B($[e]);d=!0}},o(e){for(let e=0;e<$.length;e+=1)z($[e]);d=!1},d(n){n&&p(t),e[91](null);for(let e=0;e<$.length;e+=1)$[e].d();f=!1,g()}}}function Ca(e){let t,n,r,s,l,a=e[44](e[3],"winner").username+"";return s=new Vt({props:{map:e[8].find(e[90])}}),{c(){t=m("div"),n=f(a),r=f("'s ban\r\n    "),F(s.$$.fragment),v(t,"class","bans svelte-htbg4y")},m(e,a){u(e,t,a),c(t,n),c(t,r),Q(s,t,null),l=!0},p(e,t){(!l||8&t[0])&&a!==(a=e[44](e[3],"winner").username+"")&&b(n,a);const r={};264&t[0]&&(r.map=e[8].find(e[90])),s.$set(r)},i(e){l||(B(s.$$.fragment,e),l=!0)},o(e){z(s.$$.fragment,e),l=!1},d(e){e&&p(t),K(s)}}}function _a(e){let t,n,r;return n=new Vt({props:{map:e[113]}}),{c(){t=m("div"),F(n.$$.fragment),v(t,"class","disabled svelte-htbg4y")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},p(e,t){const r={};256&t[0]&&(r.map=e[113]),n.$set(r)},i(e){r||(B(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function Sa(e){let t,n;return t=new Vt({props:{map:e[113]}}),t.$on("click",(function(...t){return e[93](e[113],...t)})),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};256&r[0]&&(s.map=e[113]),t.$set(s)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Ta(e,t){let n,r,s,l,a,o;const i=[Sa,_a],c=[];function d(e,t){return 264&t[0]&&(r=!(e[113].category.startsWith("Tiebreaker")||e[3].protects[0]?.map?.id==e[113].id||e[3].protects[1]?.map?.id==e[113].id||e[3].bans[0]?.map.id==e[113].id)),r?0:e[3].protects[0]?.map?.id==e[113].id||e[3].protects[1]?.map?.id==e[113].id||e[3].bans[0]?.map.id==e[113].id?1:-1}return~(s=d(t,[-1]))&&(l=c[s]=i[s](t)),{key:e,first:null,c(){n=g(),l&&l.c(),a=g(),this.first=n},m(e,t){u(e,n,t),~s&&c[s].m(e,t),u(e,a,t),o=!0},p(e,n){let r=s;s=d(t=e,n),s===r?~s&&c[s].p(t,n):(l&&(U(),z(c[r],1,1,(()=>{c[r]=null})),E()),~s?(l=c[s],l?l.p(t,n):(l=c[s]=i[s](t),l.c()),B(l,1),l.m(a.parentNode,a)):l=null)},i(e){o||(B(l),o=!0)},o(e){z(l),o=!1},d(e){e&&p(n),~s&&c[s].d(e),e&&p(a)}}}function qa(e){let t,n,r,s,l=[],a=new Yl,o=e[32];const i=e=>e[45].id;for(let t=0;t<o.length;t+=1){let n=Ql(e,o,t),r=i(n);a.set(r,l[t]=Pa(r,n))}let c=!e[35]&&e[4]<e[1]&&e[5]<e[1]&&!(e[4]==e[1]-1&&e[5]==e[1]-1)&&La(e);return{c(){t=m("div");for(let e=0;e<l.length;e+=1)l[e].c();n=h(),c&&c.c(),r=g(),v(t,"class","picks svelte-htbg4y")},m(e,a){u(e,t,a);for(let e=0;e<l.length;e+=1)l[e].m(t,null);u(e,n,a),c&&c.m(e,a),u(e,r,a),s=!0},p(e,n){4195080&n[0]|6210&n[1]&&(o=e[32],U(),l=Y(l,n,i,1,e,o,a,t,I,Pa,null,Ql),E()),!e[35]&&e[4]<e[1]&&e[5]<e[1]&&(e[4]!=e[1]-1||e[5]!=e[1]-1)?c?(c.p(e,n),50&n[0]|16&n[1]&&B(c,1)):(c=La(e),c.c(),B(c,1),c.m(r.parentNode,r)):c&&(U(),z(c,1,1,(()=>{c=null})),E())},i(e){if(!s){for(let e=0;e<o.length;e+=1)B(l[e]);B(c),s=!0}},o(e){for(let e=0;e<l.length;e+=1)z(l[e]);z(c),s=!1},d(e){e&&p(t);for(let e=0;e<l.length;e+=1)l[e].d();e&&p(n),c&&c.d(e),e&&p(r)}}}function ja(e){let t,n,s,l,a,o,i,d,g,$,w,k,x,C,_,S,T,q,j,O=e[3].players[0].player.username+"",N=e[3].players[1].player.username+"";function M(e,t){return e[9]?Ma:Na}let P=M(e),L=P(e);function A(){return e[98](e[45])}function R(){return e[99](e[45])}return{c(){t=m("div"),n=m("input"),l=h(),a=m("a"),a.textContent="📝 Copy",o=h(),i=m("div"),L.c(),d=h(),g=m("p"),g.textContent="If it doesn't work or lags (likely to happen if osu doesn't cooperate), bypass this thing by manually selecting the winner. If it's totally broken, refresh the page lol",$=h(),w=m("p"),k=m("button"),x=f(O),C=h(),_=m("button"),S=f(N),T=h(),n.readOnly=!0,n.value=s=`!mp map ${e[45].map.id} 3`,v(n,"class","svelte-htbg4y"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(t,"class","call svelte-htbg4y"),v(i,"class","fetcher svelte-htbg4y")},m(r,s){u(r,t,s),c(t,n),e[95](n),c(t,l),c(t,a),u(r,o,s),u(r,i,s),L.m(i,null),c(i,d),c(i,g),c(i,$),c(i,w),c(w,k),c(k,x),c(w,C),c(w,_),c(_,S),c(i,T),q||(j=[y(a,"click",e[96]),y(k,"click",A),y(_,"click",R)],q=!0)},p(t,r){e=t,2&r[1]&&s!==(s=`!mp map ${e[45].map.id} 3`)&&n.value!==s&&(n.value=s),P===(P=M(e))&&L?L.p(e,r):(L.d(1),L=P(e),L&&(L.c(),L.m(i,d))),8&r[0]&&O!==(O=e[3].players[0].player.username+"")&&b(x,O),8&r[0]&&N!==(N=e[3].players[1].player.username+"")&&b(S,N)},d(n){n&&p(t),e[95](null),n&&p(o),n&&p(i),L.d(),q=!1,r(j)}}}function Oa(e){let t,n,r,s,l,a,o,i=(e[45].scores[0].score>e[45].scores[1].score?e[3].players[0].player.username:e[3].players[1].player.username)+"",d=e[45].scores[0].score+"",h=e[45].scores[1].score+"";return{c(){t=m("div"),n=f(i),r=f("\r\n          won the pick! ("),s=f(d),l=f(" vs. "),a=f(h),o=f(")\r\n        "),v(t,"class","win svelte-htbg4y")},m(e,i){u(e,t,i),c(t,n),c(t,r),c(t,s),c(t,l),c(t,a),c(t,o)},p(e,t){8&t[0]|2&t[1]&&i!==(i=(e[45].scores[0].score>e[45].scores[1].score?e[3].players[0].player.username:e[3].players[1].player.username)+"")&&b(n,i),2&t[1]&&d!==(d=e[45].scores[0].score+"")&&b(s,d),2&t[1]&&h!==(h=e[45].scores[1].score+"")&&b(a,h)},d(e){e&&p(t)}}}function Na(e){let t,n,r;function s(){return e[97](e[45])}return{c(){t=m("button"),t.textContent="After the song is done (scores show up in chat), click to refresh the scores"},m(e,l){u(e,t,l),n||(r=y(t,"click",s),n=!0)},p(t,n){e=t},d(e){e&&p(t),n=!1,r()}}}function Ma(t){let n;return{c(){n=f("Fetching scores...")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Pa(e,t){let n,r,s,l,a,o,i=(t[45].player?.username||"Tiebreaker")+"";function c(...e){return t[94](t[45],...e)}function d(e,t){return e[45].scores.length?Oa:ja}s=new Vt({props:{map:t[8].find(c)}});let m=d(t),y=m(t);return{key:e,first:null,c(){n=f(i),r=f(" picked\r\n      "),F(s.$$.fragment),l=h(),y.c(),a=g(),this.first=n},m(e,t){u(e,n,t),u(e,r,t),Q(s,e,t),u(e,l,t),y.m(e,t),u(e,a,t),o=!0},p(e,r){t=e,(!o||2&r[1])&&i!==(i=(t[45].player?.username||"Tiebreaker")+"")&&b(n,i);const l={};256&r[0]|2&r[1]&&(l.map=t[8].find(c)),s.$set(l),m===(m=d(t))&&y?y.p(t,r):(y.d(1),y=m(t),y&&(y.c(),y.m(a.parentNode,a)))},i(e){o||(B(s.$$.fragment,e),o=!0)},o(e){z(s.$$.fragment,e),o=!1},d(e){e&&p(n),e&&p(r),K(s,e),e&&p(l),y.d(e),e&&p(a)}}}function La(e){let t,n,r,s,l,a,o,i,d,g,$,w,k,x,C,_,S,T,q=e[33]<e[34]?"Tiebreaker (rice)":"Tiebreaker (hybrid)",j=[],O=new Yl,N=e[8];const M=e=>e[113].id;for(let t=0;t<N.length;t+=1){let n=Fl(e,N,t),r=M(n);O.set(r,j[t]=Ha(r,n))}return{c(){t=m("div"),n=f("Picks (Picked: "),r=f(e[33]),s=f(" rice, "),l=f(e[34]),a=f(" LN/Hybrid; current TB = "),o=f(q),i=f(")\r\n    "),d=m("div"),g=m("input"),w=h(),k=m("a"),k.textContent="📝 Copy",x=h(),C=m("div");for(let e=0;e<j.length;e+=1)j[e].c();g.readOnly=!0,g.value=$=e[3].picks.length?`${e[3].players[0].player.username} ${e[4]} - ${e[5]} ${e[3].players[1].player.username} | Loser's turn to pick: ${e[2].username}, please pick a map!`:`${e[3].players[0].player.username} ${e[4]} - ${e[5]} ${e[3].players[1].player.username} | ${e[2].username} picks first: please pick a map!`,v(g,"class","svelte-htbg4y"),v(k,"href","#/referee!helper"),v(k,"class","copy"),v(d,"class","call svelte-htbg4y"),v(C,"class","maps svelte-htbg4y"),v(t,"class","picks svelte-htbg4y")},m(p,m){u(p,t,m),c(t,n),c(t,r),c(t,s),c(t,l),c(t,a),c(t,o),c(t,i),c(t,d),c(d,g),e[100](g),c(d,w),c(d,k),c(t,x),c(t,C);for(let e=0;e<j.length;e+=1)j[e].m(C,null);_=!0,S||(T=y(k,"click",e[101]),S=!0)},p(e,t){(!_||4&t[1])&&b(r,e[33]),(!_||8&t[1])&&b(l,e[34]),(!_||12&t[1])&&q!==(q=e[33]<e[34]?"Tiebreaker (rice)":"Tiebreaker (hybrid)")&&b(o,q),(!_||60&t[0]&&$!==($=e[3].picks.length?`${e[3].players[0].player.username} ${e[4]} - ${e[5]} ${e[3].players[1].player.username} | Loser's turn to pick: ${e[2].username}, please pick a map!`:`${e[3].players[0].player.username} ${e[4]} - ${e[5]} ${e[3].players[1].player.username} | ${e[2].username} picks first: please pick a map!`)&&g.value!==$)&&(g.value=$),264&t[0]|16386&t[1]&&(N=e[8],U(),j=Y(j,t,M,1,e,N,O,C,I,Ha,null,Fl),E())},i(e){if(!_){for(let e=0;e<N.length;e+=1)B(j[e]);_=!0}},o(e){for(let e=0;e<j.length;e+=1)z(j[e]);_=!1},d(n){n&&p(t),e[100](null);for(let e=0;e<j.length;e+=1)j[e].d();S=!1,T()}}}function Aa(e){let t,n,r;return n=new Vt({props:{map:e[113]}}),{c(){t=m("div"),F(n.$$.fragment),v(t,"class","disabled svelte-htbg4y")},m(e,s){u(e,t,s),Q(n,t,null),r=!0},p(e,t){const r={};256&t[0]&&(r.map=e[113]),n.$set(r)},i(e){r||(B(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){e&&p(t),K(n)}}}function Ra(e){let t,n;return t=new Vt({props:{map:e[113]}}),t.$on("click",(function(...t){return e[102](e[113],...t)})),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(n,r){e=n;const s={};256&r[0]&&(s.map=e[113]),t.$set(s)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Ha(e,t){let n,r,s,l,a,o,i;function c(...e){return t[49](t[113],...e)}function d(...e){return t[50](t[113],...e)}const m=[Ra,Aa],f=[];function h(e,t){return 264&t[0]|2&t[1]&&(r=!(e[113].category.startsWith("Tiebreaker")||e[3].bans[0]?.map?.id==e[113].id||e[3].bans[1]?.map?.id==e[113].id||e[32].find(c))),r?0:(264&t[0]|2&t[1]&&(s=!(e[3].bans[0]?.map?.id!=e[113].id&&e[3].bans[1]?.map?.id!=e[113].id&&!e[32].find(d))),s?1:-1)}return~(l=h(t,[-1]))&&(a=f[l]=m[l](t)),{key:e,first:null,c(){n=g(),a&&a.c(),o=g(),this.first=n},m(e,t){u(e,n,t),~l&&f[l].m(e,t),u(e,o,t),i=!0},p(e,n){let r=l;l=h(t=e,n),l===r?~l&&f[l].p(t,n):(a&&(U(),z(f[r],1,1,(()=>{f[r]=null})),E()),~l?(a=f[l],a?a.p(t,n):(a=f[l]=m[l](t),a.c()),B(a,1),a.m(o.parentNode,o)):a=null)},i(e){i||(B(a),i=!0)},o(e){z(a),i=!1},d(e){e&&p(n),~l&&f[l].d(e),e&&p(o)}}}function Da(e){let t,n,r,s,l,a,o,i,d,g,y,$,w,k,x,C=e[33]<e[34]?"Tiebreaker (rice)":"Tiebreaker (hybrid)";const _=[Ua,Ga],S=[];function T(e,t){return e[33]<e[34]?0:1}return w=T(e),k=S[w]=_[w](e),{c(){t=m("div"),n=m("center"),r=f("Woah, that's a tiebreaker situation! "),s=f(e[33]),l=f(" rice, "),a=f(e[34]),o=f(" LN/Hybrid, TB = "),i=f(C),d=m("br"),g=f("\r\n      (Click on the tiebreaker to confirm it)"),y=h(),$=m("div"),k.c(),v($,"class","maps svelte-htbg4y"),v(t,"class","picks svelte-htbg4y")},m(e,p){u(e,t,p),c(t,n),c(n,r),c(n,s),c(n,l),c(n,a),c(n,o),c(n,i),c(n,d),c(n,g),c(t,y),c(t,$),S[w].m($,null),x=!0},p(e,t){(!x||4&t[1])&&b(s,e[33]),(!x||8&t[1])&&b(a,e[34]),(!x||12&t[1])&&C!==(C=e[33]<e[34]?"Tiebreaker (rice)":"Tiebreaker (hybrid)")&&b(i,C);let n=w;w=T(e),w===n?S[w].p(e,t):(U(),z(S[n],1,1,(()=>{S[n]=null})),E(),k=S[w],k?k.p(e,t):(k=S[w]=_[w](e),k.c()),B(k,1),k.m($,null))},i(e){x||(B(k),x=!0)},o(e){z(k),x=!1},d(e){e&&p(t),S[w].d()}}}function Ga(e){let t,n;return t=new Vt({props:{map:e[24]}}),t.$on("click",e[104]),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};16777216&n[0]&&(r.map=e[24]),t.$set(r)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Ua(e){let t,n;return t=new Vt({props:{map:e[23]}}),t.$on("click",e[103]),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},p(e,n){const r={};8388608&n[0]&&(r.map=e[23]),t.$set(r)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Ea(e){let t,n,r,s,l,a,o,i;return{c(){t=m("div"),n=m("div"),r=m("input"),l=h(),a=m("a"),a.textContent="📝 Copy",r.readOnly=!0,r.value=s=`${e[3].players[0].player.username} ${e[4]} - ${e[5]} ${e[3].players[1].player.username} | ${e[3].players[0].player.username} wins the match! Congratulations!`,v(r,"class","svelte-htbg4y"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(n,"class","call svelte-htbg4y"),v(t,"class","winner svelte-htbg4y")},m(s,p){u(s,t,p),c(t,n),c(n,r),e[105](r),c(n,l),c(n,a),o||(i=y(a,"click",e[106]),o=!0)},p(e,t){56&t[0]&&s!==(s=`${e[3].players[0].player.username} ${e[4]} - ${e[5]} ${e[3].players[1].player.username} | ${e[3].players[0].player.username} wins the match! Congratulations!`)&&r.value!==s&&(r.value=s)},d(n){n&&p(t),e[105](null),o=!1,i()}}}function Ba(e){let t,n,r,s,l,a,o,i;return{c(){t=m("div"),n=m("div"),r=m("input"),l=h(),a=m("a"),a.textContent="📝 Copy",r.readOnly=!0,r.value=s=`${e[3].players[0].player.username} ${e[4]} - ${e[5]} ${e[3].players[1].player.username} | ${e[3].players[1].player.username} wins the match! Congratulations!`,v(r,"class","svelte-htbg4y"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(n,"class","call svelte-htbg4y"),v(t,"class","winner svelte-htbg4y")},m(s,p){u(s,t,p),c(t,n),c(n,r),e[107](r),c(n,l),c(n,a),o||(i=y(a,"click",e[108]),o=!0)},p(e,t){56&t[0]&&s!==(s=`${e[3].players[0].player.username} ${e[4]} - ${e[5]} ${e[3].players[1].player.username} | ${e[3].players[1].player.username} wins the match! Congratulations!`)&&r.value!==s&&(r.value=s)},d(n){n&&p(t),e[107](null),o=!1,i()}}}function za(e){let t,n,r,s;return n=new Hs({props:{match:e[110]}}),n.$on("click",(function(...t){return e[53](e[110],...t)})),{c(){t=m("div"),F(n.$$.fragment),r=h(),v(t,"class","match-container")},m(e,l){u(e,t,l),Q(n,t,null),c(t,r),s=!0},p(t,r){e=t;const s={};128&r[0]&&(s.match=e[110]),n.$set(s)},i(e){s||(B(n.$$.fragment,e),s=!0)},o(e){z(n.$$.fragment,e),s=!1},d(e){e&&p(t),K(n)}}}function Wa(e,t){let n,r,s,l=(!t[25]||t[110].referee?.id==t[6]?.id||t[110].streamer?.id==t[6]?.id||t[110].commentators.find(t[48]))&&(t[26]||t[110].points1<t[1]&&t[110].points2<t[1]&&!t[110].wbd),a=l&&za(t);return{key:e,first:null,c(){n=g(),a&&a.c(),r=g(),this.first=n},m(e,t){u(e,n,t),a&&a.m(e,t),u(e,r,t),s=!0},p(e,n){t=e,100663490&n[0]&&(l=(!t[25]||t[110].referee?.id==t[6]?.id||t[110].streamer?.id==t[6]?.id||t[110].commentators.find(t[48]))&&(t[26]||t[110].points1<t[1]&&t[110].points2<t[1]&&!t[110].wbd)),l?a?(a.p(t,n),100663490&n[0]&&B(a,1)):(a=za(t),a.c(),B(a,1),a.m(r.parentNode,r)):a&&(U(),z(a,1,1,(()=>{a=null})),E())},i(e){s||(B(a),s=!0)},o(e){z(a),s=!1},d(e){e&&p(n),a&&a.d(e),e&&p(r)}}}function Ja(e){let t,n,r,s;const l=[sa,ra,na,ta],a=[];function o(e,t){return e[6]?e[7]?e[3]?3:2:1:0}return n=o(e),r=a[n]=l[n](e),{c(){t=m("div"),r.c(),v(t,"class","container svelte-htbg4y")},m(e,r){u(e,t,r),a[n].m(t,null),s=!0},p(e,s){let i=n;n=o(e),n===i?a[n].p(e,s):(U(),z(a[i],1,1,(()=>{a[i]=null})),E(),r=a[n],r?r.p(e,s):(r=a[n]=l[n](e),r.c()),B(r,1),r.m(t,null))},i(e){s||(B(r),s=!0)},o(e){z(r),s=!1},d(e){e&&p(t),a[n].d()}}}function Ia(e,t,n){let r,s,l,o;a(e,re,(e=>n(6,r=e))),a(e,ie,(e=>n(47,s=e))),a(e,Gs,(e=>n(7,l=e))),a(e,Us,(e=>n(8,o=e)));var i,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{i(r.next(e))}catch(e){l(e)}}function o(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}i((r=r.apply(e,t||[])).next())}))};let u,p;const d=(e,t)=>{e.preventDefault(),n(3,k=t),t?localStorage.setItem("referee:match",String(t.id)):(localStorage.removeItem("referee:match"),Es(u.slug))},m=e=>{e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")},f=(e,t,r)=>c(void 0,void 0,void 0,(function*(){e.preventDefault(),n(3,k=Object.assign(Object.assign({},k),{protects:[...k.protects||[],{player:r,map:t}]}));const s=yield de("/items/protects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:k.id,player:r.id,map:t.id})});s.errors?alert(s.errors[0].message):n(3,k.protects[k.protects.length-1].id=s.data.id,k)})),h=(e,t,r)=>c(void 0,void 0,void 0,(function*(){e.preventDefault(),n(3,k=Object.assign(Object.assign({},k),{bans:[...k.bans||[],{player:r,map:t}]}));const s=yield de("/items/bans",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:k.id,player:r.id,map:t.id})});s.errors?alert(s.errors[0].message):n(3,k.bans[k.bans.length-1].id=s.data.id,k)})),g=(e,t)=>c(void 0,void 0,void 0,(function*(){e.preventDefault(),n(3,k=Object.assign(Object.assign({},k),{picks:[...k.picks||[],{player:w,map:t}]}));const r=yield de("/items/picks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:k.id,player:null==w?void 0:w.id,map:t.id})});r.errors?alert(r.errors[0].message):n(3,k.picks[k.picks.length-1].id=r.data.id,k)}));let y=!1;const v=e=>c(void 0,void 0,void 0,(function*(){n(9,y=!0);const t=yield de("/custom/matches/scores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:k.id,map:e.id})});n(9,y=!1),t.errors?alert(t.errors[0].message):n(3,k=Object.assign(Object.assign({},k),{scores:t}))})),b=(e,t)=>c(void 0,void 0,void 0,(function*(){const r=t.id==k.players[0].player.id?1:0;n(3,k=Object.assign(Object.assign({},k),{scores:[...k.scores,{map:e,player:t,score:1},{map:e,player:k.players[r].player,score:0}]}))}));let w,k,x,C,_,S,T,j,O,N,M,P,L,A,R,H,D,G,U,E,B=!0,z=!1,W="",J="",I="",Y=[],F=0,Q=0,K=0,V=0;const X=(e,t)=>{if(!e)return null;const[n,r]=e.rolls;if(!n||!r)return null;const[s,l]=e.players;return n.value>r.value?"winner"==t?s.player:l.player:"winner"==t?l.player:s.player};return e.$$.update=()=>{if(449&e.$$.dirty[0]|65536&e.$$.dirty[1]&&r&&s&&!l){let e=localStorage.getItem("referee:match");const t=new Date(Date.now()-864e5).toISOString();n(0,u=s.find((e=>e.date_end>t))),n(1,p=1+(u.best_of/2>>0)),Es(u.slug).then((()=>{n(3,k=l.find((t=>String(t.id)==e))),n(23,H=o.find((e=>"Tiebreaker (rice)"==e.category))),n(24,D=o.find((e=>"Tiebreaker (hybrid)"==e.category)))}))}62&e.$$.dirty[0]|32780&e.$$.dirty[1]&&(n(2,w=X(k,"winner")),n(4,F=0),n(5,Q=0),n(33,K=0),n(34,V=0),n(32,Y=null===n(46,i=null==k?void 0:k.picks)||void 0===i?void 0:i.map((e=>{var t,r,s;const l=Object.assign(Object.assign({},e),{scores:(null===(t=k.scores)||void 0===t?void 0:t.filter((t=>t.map.id==e.map.id)))||[]});1==l.scores.length&&l.scores.push(Object.assign(Object.assign({},l.scores[0]),{player:k.players[(null===(r=l.scores[0])||void 0===r?void 0:r.player.id)==k.players[0].player.id?1:0].player,score:0})),(null===(s=l.scores[0])||void 0===s?void 0:s.player.id)!=k.players[0].player.id&&(l.scores=l.scores.reverse());const[a,o]=l.scores;return a&&o?(n(35,E=!1),a.score>o.score?(n(4,F+=1),n(2,w=k.players[1].player)):(n(5,Q+=1),n(2,w=k.players[0].player))):n(35,E=!0),"Rice"==e.map.category?n(33,K+=e.map.weight):n(34,V+=e.map.weight),l}))))},[u,p,w,k,F,Q,r,l,o,y,x,C,_,S,T,j,O,N,M,P,L,A,R,H,D,B,z,W,J,I,G,U,Y,K,V,E,d,m,()=>c(void 0,void 0,void 0,(function*(){if(!W)return alert("Please fill the MP link!");const e=yield de(`/items/matches/${k.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({link:W})});e.errors?alert(e.errors[0].message):n(3,k=Object.assign(Object.assign({},k),{link:W}))})),()=>c(void 0,void 0,void 0,(function*(){if(!G||!U)return alert("Please set the rolls!");n(3,k=Object.assign(Object.assign({},k),{rolls:[{player:k.players[0].player,value:G},{player:k.players[1].player,value:U}]}));const e=yield de("/items/rolls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{match:k.id,player:k.players[0].player.id,value:G},{match:k.id,player:k.players[1].player.id,value:U}])});e.errors?alert(e.errors[0].message):n(3,k=Object.assign(Object.assign({},k),{rolls:e.data}))})),f,h,v,b,X,g,i,s,({commentator:e})=>e.id==r?.id,(e,t)=>t.map.id==e.id,(e,t)=>t.map.id==e.id,()=>n(25,B=!B),()=>n(26,z=!z),(e,t)=>d(t,e),e=>d(e),function(e){q[e?"unshift":"push"]((()=>{x=e,n(10,x)}))},()=>m(x),function(e){q[e?"unshift":"push"]((()=>{C=e,n(11,C)}))},()=>m(C),function(e){q[e?"unshift":"push"]((()=>{_=e,n(12,_)}))},()=>m(_),function(e){q[e?"unshift":"push"]((()=>{S=e,n(13,S)}))},()=>m(S),function(e){q[e?"unshift":"push"]((()=>{T=e,n(14,T)}))},()=>m(T),function(e){q[e?"unshift":"push"]((()=>{j=e,n(15,j)}))},()=>m(j),function(){W=this.value,n(27,W)},function(){J=this.value,n(28,J)},function(){I=this.value,n(29,I)},function(e){q[e?"unshift":"push"]((()=>{O=e,n(16,O)}))},()=>m(O),function(e){q[e?"unshift":"push"]((()=>{N=e,n(17,N)}))},()=>m(N),function(e){q[e?"unshift":"push"]((()=>{M=e,n(18,M)}))},()=>m(M),function(){G=$(this.value),n(30,G)},function(){U=$(this.value),n(31,U)},e=>e.id==k.protects[0].map.id,function(e){q[e?"unshift":"push"]((()=>{P=e,n(19,P)}))},()=>m(P),(e,t)=>f(t,e,X(k,"winner")),e=>e.id==k.protects[1].map.id,function(e){q[e?"unshift":"push"]((()=>{P=e,n(19,P)}))},()=>m(P),(e,t)=>f(t,e,X(k,"loser")),e=>e.id==k.bans[0].map.id,function(e){q[e?"unshift":"push"]((()=>{L=e,n(20,L)}))},()=>m(L),(e,t)=>h(t,e,X(k,"loser")),e=>e.id==k.bans[1].map.id,function(e){q[e?"unshift":"push"]((()=>{L=e,n(20,L)}))},()=>m(L),(e,t)=>h(t,e,X(k,"winner")),(e,t)=>t.id==e.map.id,function(e){q[e?"unshift":"push"]((()=>{R=e,n(22,R)}))},()=>m(R),e=>v(e.map),e=>b(e.map,k.players[0].player),e=>b(e.map,k.players[1].player),function(e){q[e?"unshift":"push"]((()=>{A=e,n(21,A)}))},()=>m(A),(e,t)=>g(t,e),e=>g(e,H),e=>g(e,D),function(e){q[e?"unshift":"push"]((()=>{R=e,n(22,R)}))},()=>m(R),function(e){q[e?"unshift":"push"]((()=>{R=e,n(22,R)}))},()=>m(R)]}class Ya extends Z{constructor(e){super(),X(this,e,Ia,Ja,l,{},[-1,-1,-1,-1,-1])}}function Fa(e){let t,n,r,s,l,a,o,i,d,f,g;t=new ke({}),s=new Me({}),a=new Ue({props:{stages:e[1]}});const y=[vo,yo,go,ho,fo,mo,po,uo,co,io,oo,ao,lo,so,ro,no,to,eo,Za,Xa,Va],$=[];function b(e,t){return"players"==e[0]?0:"countries"==e[0]?1:"qualifiers"==e[0]?2:"qualifiers!maps"==e[0]?3:"qualifiers!elite"==e[0]?4:"qualifiers!elite!maps"==e[0]?5:"qualifiers!lobbies"==e[0]?6:"groups"==e[0]?7:"groups!results"==e[0]?8:"groups!maps"==e[0]?9:"groups!rolls"==e[0]?10:"ro64"==e[0]?11:"ro64!maps"==e[0]?12:"ro64!rolls"==e[0]?13:"ro32"==e[0]?14:"ro32!maps"==e[0]?15:"ro32!rolls"==e[0]?16:"ro16"==e[0]?17:"ro16!maps"==e[0]?18:"ro16!rolls"==e[0]?19:20}return d=b(e),f=$[d]=y[d](e),{c(){F(t.$$.fragment),n=h(),r=m("div"),F(s.$$.fragment),l=h(),F(a.$$.fragment),o=h(),i=m("div"),f.c(),v(i,"class","page svelte-ucquck"),v(r,"class","body svelte-ucquck")},m(e,p){Q(t,e,p),u(e,n,p),u(e,r,p),Q(s,r,null),c(r,l),Q(a,r,null),c(r,o),c(r,i),$[d].m(i,null),g=!0},p(e,t){const n={};2&t&&(n.stages=e[1]),a.$set(n);let r=d;d=b(e),d!==r&&(U(),z($[r],1,1,(()=>{$[r]=null})),E(),f=$[d],f||(f=$[d]=y[d](e),f.c()),B(f,1),f.m(i,null))},i(e){g||(B(t.$$.fragment,e),B(s.$$.fragment,e),B(a.$$.fragment,e),B(f),g=!0)},o(e){z(t.$$.fragment,e),z(s.$$.fragment,e),z(a.$$.fragment,e),z(f),g=!1},d(e){K(t,e),e&&p(n),e&&p(r),K(s),K(a),$[d].d()}}}function Qa(t){let n,r;return n=new Ya({}),{c(){F(n.$$.fragment)},m(e,t){Q(n,e,t),r=!0},p:e,i(e){r||(B(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){K(n,e)}}}function Ka(t){let n,r;return n=new El({}),{c(){F(n.$$.fragment)},m(e,t){Q(n,e,t),r=!0},p:e,i(e){r||(B(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){K(n,e)}}}function Va(e){let t,n;return t=new nt({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Xa(e){let t,n;return t=new ql({props:{stage:"ro16"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function Za(e){let t,n;return t=new yl({props:{stage:"ro16"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function eo(e){let t,n;return t=new el({props:{stage:"ro16"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function to(e){let t,n;return t=new ql({props:{stage:"ro32"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function no(e){let t,n;return t=new yl({props:{stage:"ro32"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function ro(e){let t,n;return t=new el({props:{stage:"ro32"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function so(e){let t,n;return t=new ql({props:{stage:"ro64"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function lo(e){let t,n;return t=new yl({props:{stage:"ro64"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function ao(e){let t,n;return t=new el({props:{stage:"ro64"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function oo(e){let t,n;return t=new ql({props:{stage:"groups"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function io(e){let t,n;return t=new yl({props:{stage:"groups"}}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function co(e){let t,n;return t=new ns({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function uo(e){let t,n;return t=new Ir({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function po(e){let t,n;return t=new mn({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function mo(e){let t,n;return t=new pr({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function fo(e){let t,n;return t=new $r({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function ho(e){let t,n;return t=new An({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function go(e){let t,n;return t=new Zn({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function yo(e){let t,n;return t=new qt({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function vo(e){let t,n;return t=new vt({}),{c(){F(t.$$.fragment)},m(e,r){Q(t,e,r),n=!0},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){K(t,e)}}}function $o(e){let t,n,r,s;const l=[Ka,Qa,Fa],a=[];function o(e,t){return"scuffed!drawing"==e[0]?0:"referee!helper"==e[0]?1:2}return t=o(e),n=a[t]=l[t](e),{c(){n.c(),r=g()},m(e,n){a[t].m(e,n),u(e,r,n),s=!0},p(e,[s]){let i=t;t=o(e),t===i?a[t].p(e,s):(U(),z(a[i],1,1,(()=>{a[i]=null})),E(),n=a[t],n?n.p(e,s):(n=a[t]=l[t](e),n.c()),B(n,1),n.m(r.parentNode,r))},i(e){s||(B(n),s=!0)},o(e){z(n),s=!1},d(e){a[t].d(e),e&&p(r)}}}function bo(e,t,n){let r,s;return a(e,ce,(e=>n(0,r=e))),a(e,ie,(e=>n(1,s=e))),[r,s]}return new class extends Z{constructor(e){super(),X(this,e,bo,$o,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
