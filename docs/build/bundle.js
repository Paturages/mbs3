var app=function(e){"use strict";function t(){}function n(e){return e()}function r(){return Object.create(null)}function s(e){e.forEach(n)}function l(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function i(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function c(e,t,n,r,s,l,a){const o=function(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}(t,r,s,l);if(o){const s=i(t,n,r,a);e.p(s,o)}}function u(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode.removeChild(e)}function m(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function g(){return h(" ")}function $(){return h("")}function y(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e){return""===e?null:+e}function w(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function k(e,t){e.value=null==t?"":t}function x(e,t,n){e.classList[n?"add":"remove"](t)}let S;function T(e){S=e}function C(e){(function(){if(!S)throw new Error("Function called outside component initialization");return S})().$$.on_mount.push(e)}function _(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const q=[],O=[],j=[],M=[],N=Promise.resolve();let L=!1;function P(e){j.push(e)}let D=!1;const A=new Set;function E(){if(!D){D=!0;do{for(let e=0;e<q.length;e+=1){const t=q[e];T(t),z(t.$$)}for(T(null),q.length=0;O.length;)O.pop()();for(let e=0;e<j.length;e+=1){const t=j[e];A.has(t)||(A.add(t),t())}j.length=0}while(q.length);for(;M.length;)M.pop()();L=!1,D=!1,A.clear()}}function z(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(P)}}const H=new Set;let R;function G(){R={r:0,c:[],p:R}}function U(){R.r||s(R.c),R=R.p}function I(e,t){e&&e.i&&(H.delete(e),e.i(t))}function B(e,t,n,r){if(e&&e.o){if(H.has(e))return;H.add(e),R.c.push((()=>{H.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const W="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function J(e,t){e.d(1),t.delete(e.key)}function F(e,t){B(e,1,1,(()=>{t.delete(e.key)}))}function Y(e,t,n,r,s,l,a,o,i,c,u,p){let d=e.length,m=l.length,f=d;const h={};for(;f--;)h[e[f].key]=f;const g=[],$=new Map,y=new Map;for(f=m;f--;){const e=p(s,l,f),o=n(e);let i=a.get(o);i?r&&i.p(e,t):(i=c(o,e),i.c()),$.set(o,g[f]=i),o in h&&y.set(o,Math.abs(f-h[o]))}const v=new Set,b=new Set;function w(e){I(e,1),e.m(o,u),a.set(e.key,e),u=e.first,m--}for(;d&&m;){const t=g[m-1],n=e[d-1],r=t.key,s=n.key;t===n?(u=t.first,d--,m--):$.has(s)?!a.has(r)||v.has(r)?w(t):b.has(s)?d--:y.get(r)>y.get(s)?(b.add(r),w(t)):(v.add(s),d--):(i(n,a),d--)}for(;d--;){const t=e[d];$.has(t.key)||i(t,a)}for(;m;)w(g[m-1]);return g}function Q(e){e&&e.c()}function K(e,t,r,a){const{fragment:o,on_mount:i,on_destroy:c,after_update:u}=e.$$;o&&o.m(t,r),a||P((()=>{const t=i.map(n).filter(l);c?c.push(...t):s(t),e.$$.on_mount=[]})),u.forEach(P)}function V(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function X(e,t){-1===e.$$.dirty[0]&&(q.push(e),L||(L=!0,N.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Z(e,n,l,a,o,i,c=[-1]){const u=S;T(e);const p=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:o,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:c,skip_bound:!1};let m=!1;if(p.ctx=l?l(e,n.props||{},((t,n,...r)=>{const s=r.length?r[0]:n;return p.ctx&&o(p.ctx[t],p.ctx[t]=s)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](s),m&&X(e,t)),n})):[],p.update(),m=!0,s(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(d)}else p.fragment&&p.fragment.c();n.intro&&I(e.$$.fragment),K(e,n.target,n.anchor,n.customElement),E()}T(u)}class ee{$destroy(){V(this,1),this.$destroy=t}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const te=[];function ne(e,n=t){let r;const s=[];function l(t){if(a(e,t)&&(e=t,r)){const t=!te.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),te.push(n,e)}if(t){for(let e=0;e<te.length;e+=2)te[e][0](te[e+1]);te.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(a,o=t){const i=[a,o];return s.push(i),1===s.length&&(r=n(l)||t),a(e),()=>{const e=s.indexOf(i);-1!==e&&s.splice(e,1),0===s.length&&(r(),r=null)}}}}const{API_URL:re}={API_URL:"https://api.mbs3.fightthe.pw",UI_URL:"https://mbs3.fightthe.pw",isProd:!0},se=ne(null),le=ne(null),ae=ne([]),oe=ne([]),ie=ne([]),ce=ne([]),ue=ne(null),pe=new Set(["players","countries","qualifiers","qualifiers!maps","qualifiers!elite","qualifiers!elite!maps","qualifiers!lobbies","groups","groups!results","groups!maps","groups!rolls","ro64","ro64!maps","ro64!rolls","ro32","ro32!maps","ro32!rolls","ro16","ro16!maps","ro16!rolls","qf","qf!maps","qf!rolls","sf","sf!maps","sf!rolls","f","f!maps","f!rolls","scuffed!drawing","referee!helper"]),de=()=>{const{hash:e}=location,[,t]=e.split("/");pe.has(t)?ue.set(t):(ue.set("home"),"#/"!=e&&(location.hash="#/"))};window.addEventListener("hashchange",de),de();const me=(e,t={headers:{}},n)=>fetch(`${re}${e}`,Object.assign(Object.assign({},t),{headers:Object.assign({Authorization:fe?`Bearer ${fe}`:void 0},t.headers)})).then((async r=>{var s,l;const a=await r.json();if("Token expired."==(null===(l=null===(s=a.errors)||void 0===s?void 0:s[0])||void 0===l?void 0:l.message)&&!n){const n=await fetch(`${re}/auth/refresh`,{method:"POST",credentials:"include"});if(200==n.status){const r=await n.json();return fe=r.data.access_token,me(e,t,!0)}}return a}));let fe;function he(e){let n,r;return{c(){n=f("a"),r=h("Login"),v(n,"href",e[3])},m(e,t){p(e,n,t),u(n,r)},p:t,d(e){e&&d(n)}}}function ge(e){let t,n,r,s,l,a,o,i,c,m,$,b=e[0].username+"",k=e[0].player&&$e(),x=e[0].referee&&ye(),S=e[0].commentator&&ve(),T=e[0].streamer&&be();return{c(){t=h("Logged in as\n      "),n=f("b"),r=h(b),s=h(" -\n      "),k&&k.c(),l=g(),x&&x.c(),a=g(),S&&S.c(),o=g(),T&&T.c(),i=g(),c=f("a"),c.textContent="Log out",v(c,"href","#/")},m(d,f){p(d,t,f),p(d,n,f),u(n,r),p(d,s,f),k&&k.m(d,f),p(d,l,f),x&&x.m(d,f),p(d,a,f),S&&S.m(d,f),p(d,o,f),T&&T.m(d,f),p(d,i,f),p(d,c,f),m||($=y(c,"click",e[2]),m=!0)},p(e,t){1&t&&b!==(b=e[0].username+"")&&w(r,b),e[0].player?k||(k=$e(),k.c(),k.m(l.parentNode,l)):k&&(k.d(1),k=null),e[0].referee?x||(x=ye(),x.c(),x.m(a.parentNode,a)):x&&(x.d(1),x=null),e[0].commentator?S||(S=ve(),S.c(),S.m(o.parentNode,o)):S&&(S.d(1),S=null),e[0].streamer?T||(T=be(),T.c(),T.m(i.parentNode,i)):T&&(T.d(1),T=null)},d(e){e&&d(t),e&&d(n),e&&d(s),k&&k.d(e),e&&d(l),x&&x.d(e),e&&d(a),S&&S.d(e),e&&d(o),T&&T.d(e),e&&d(i),e&&d(c),m=!1,$()}}}function $e(e){let t;return{c(){t=h("Player -")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function ye(e){let t;return{c(){t=h("Referee -")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function ve(e){let t;return{c(){t=h("Commentator -")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function be(e){let t;return{c(){t=h("Streamer -")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function we(e){let n,r,s,l,a,o;function i(e,t){return e[0]?ge:e[1].length?he:void 0}let c=i(e),m=c&&c(e);return{c(){n=f("div"),r=f("a"),r.innerHTML='<div class="logo svelte-swbai7"><img alt="" src="/images/logo.png" class="svelte-swbai7"/></div> \n    <h1 class="svelte-swbai7"><img alt="Mania Beginner&#39;s Showdown" src="/images/title.png" class="svelte-swbai7"/> \n      <div class="three svelte-swbai7"><span class="svelte-swbai7">3</span></div></h1>',s=g(),l=f("div"),l.innerHTML='<div class="host-title svelte-swbai7">Hosted by</div>\n    Paturages &amp; Davvy',a=g(),o=f("div"),m&&m.c(),v(r,"href","#/"),v(l,"class","hosts svelte-swbai7"),v(o,"class","me svelte-swbai7"),v(n,"class","banner svelte-swbai7")},m(e,t){p(e,n,t),u(n,r),u(n,s),u(n,l),u(n,a),u(n,o),m&&m.m(o,null)},p(e,[t]){c===(c=i(e))&&m?m.p(e,t):(m&&m.d(1),m=c&&c(e),m&&(m.c(),m.m(o,null)))},i:t,o:t,d(e){e&&d(n),m&&m.d()}}}function ke(e,t,n){let r,s;o(e,se,(e=>n(0,r=e))),o(e,ae,(e=>n(1,s=e)));var l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{i(r.next(e))}catch(e){l(e)}}function o(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}i((r=r.apply(e,t||[])).next())}))};return[r,s,()=>l(void 0,void 0,void 0,(function*(){yield fetch("https://api.mbs3.fightthe.pw/auth/logout",{method:"POST",credentials:"include"}),location.reload()})),"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw"]}(async()=>{const{data:e}=await me("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  stages(sort: "sort") {\n    slug\n    name\n    date_start\n    date_end\n    link\n    best_of\n  }\n  players(sort: ["-elite", "seed", "ranking"], limit: -1) {\n    id\n    seed\n    group {\n      id\n    }\n    alive\n    elite\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n    ranking\n    pp\n    qualifier {\n      name\n      link\n      time\n    }\n    matches {\n      match: matches_id {\n        id\n        stage {\n          name\n        }\n      }\n    }\n  }\n  referees {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n  commentators {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n  streamers {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n}'})});ce.set(e.stages),le.set(e.players);const t=new Map(e.players.map((e=>[e.id,e])));ae.set(e.referees);const n=new Map(e.referees.map((e=>[e.id,e])));oe.set(e.commentators);const r=new Map(e.commentators.map((e=>[e.id,e])));ie.set(e.streamers);const s=new Map(e.streamers.map((e=>[e.id,e]))),l=await fetch(`${re}/auth/refresh`,{method:"POST",credentials:"include"});if(200==l.status){const e=await l.json();fe=e.data.access_token;const{data:{first_name:a,email:o,avatar:i}}=await me("/users/me?fields=first_name,email"),c=t.get(o),u=n.get(o),p=r.get(o),d=s.get(o);let m=!1;const f=-(new Date).getTimezoneOffset()/60;c&&(m=!c.timezone||!c.timezone.endsWith(String(f))),u&&!m&&(m=!u.timezone||!u.timezone.endsWith(String(f))),p&&!m&&(m=!p.timezone||!p.timezone.endsWith(String(f))),d&&!m&&(m=!d.timezone||!d.timezone.endsWith(String(f))),se.set({avatar:i,username:a,id:o,player:c,referee:u,commentator:p,streamer:d,qualifier:null==c?void 0:c.qualifier})}})();class xe extends ee{constructor(e){super(),Z(this,e,ke,we,a,{})}}function Se(e){let t,n,r,s,l,a,o,m;const h=e[3].default,g=function(e,t,n,r){if(e){const s=i(e,t,n,r);return e[0](s)}}(h,e,e[2],null);return{c(){t=f("span"),n=f("a"),r=f("div"),g&&g.c(),v(r,"class","text svelte-hih935"),v(n,"href",s=e[0]||"javascript:void(0)"),v(n,"target",e[1]),v(n,"rel",l="_blank"===e[1]?"noopener":void 0),v(n,"class","link svelte-hih935"),v(t,"class","button")},m(s,l){p(s,t,l),u(t,n),u(n,r),g&&g.m(r,null),a=!0,o||(m=y(n,"click",e[4]),o=!0)},p(e,[t]){g&&g.p&&4&t&&c(g,h,e,e[2],t,null,null),(!a||1&t&&s!==(s=e[0]||"javascript:void(0)"))&&v(n,"href",s),(!a||2&t)&&v(n,"target",e[1]),(!a||2&t&&l!==(l="_blank"===e[1]?"noopener":void 0))&&v(n,"rel",l)},i(e){a||(I(g,e),a=!0)},o(e){B(g,e),a=!1},d(e){e&&d(t),g&&g.d(e),o=!1,m()}}}function Te(e,t,n){let{$$slots:r={},$$scope:s}=t,{href:l}=t,{target:a=""}=t;return e.$$set=e=>{"href"in e&&n(0,l=e.href),"target"in e&&n(1,a=e.target),"$$scope"in e&&n(2,s=e.$$scope)},[l,a,s,r,function(t){_(e,t)}]}class Ce extends ee{constructor(e){super(),Z(this,e,Te,Se,a,{href:0,target:1})}}function _e(e){let t;return{c(){t=h("Forum post")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function qe(e){let t;return{c(){t=h("Challonge")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Oe(e){let t;return{c(){t=h("Discord")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function je(e){let t;return{c(){t=h("Players")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Me(e){let t;return{c(){t=h("Countries")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Ne(e){let t,n,r,s,l,a,o,i,c,m,h,$,y,b,w,k,x;return s=new Ce({props:{href:"https://osu.ppy.sh/community/forums/topics/1280306",target:"_blank",$$slots:{default:[_e]},$$scope:{ctx:e}}}),o=new Ce({props:{href:"https://challonge.com/osumbs3",target:"_blank",$$slots:{default:[qe]},$$scope:{ctx:e}}}),m=new Ce({props:{href:"https://discord.gg/uNSqksR",target:"_blank",$$slots:{default:[Oe]},$$scope:{ctx:e}}}),y=new Ce({props:{href:"#/players",$$slots:{default:[je]},$$scope:{ctx:e}}}),k=new Ce({props:{href:"#/countries",$$slots:{default:[Me]},$$scope:{ctx:e}}}),{c(){t=f("nav"),n=f("ul"),r=f("li"),Q(s.$$.fragment),l=g(),a=f("li"),Q(o.$$.fragment),i=g(),c=f("li"),Q(m.$$.fragment),h=g(),$=f("li"),Q(y.$$.fragment),b=g(),w=f("li"),Q(k.$$.fragment),v(r,"class","svelte-rtylg"),v(a,"class","svelte-rtylg"),v(c,"class","svelte-rtylg"),v($,"class","svelte-rtylg"),v(w,"class","svelte-rtylg"),v(n,"class","svelte-rtylg")},m(e,d){p(e,t,d),u(t,n),u(n,r),K(s,r,null),u(n,l),u(n,a),K(o,a,null),u(n,i),u(n,c),K(m,c,null),u(n,h),u(n,$),K(y,$,null),u(n,b),u(n,w),K(k,w,null),x=!0},p(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const r={};1&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r);const l={};1&t&&(l.$$scope={dirty:t,ctx:e}),m.$set(l);const a={};1&t&&(a.$$scope={dirty:t,ctx:e}),y.$set(a);const i={};1&t&&(i.$$scope={dirty:t,ctx:e}),k.$set(i)},i(e){x||(I(s.$$.fragment,e),I(o.$$.fragment,e),I(m.$$.fragment,e),I(y.$$.fragment,e),I(k.$$.fragment,e),x=!0)},o(e){B(s.$$.fragment,e),B(o.$$.fragment,e),B(m.$$.fragment,e),B(y.$$.fragment,e),B(k.$$.fragment,e),x=!1},d(e){e&&d(t),V(s),V(o),V(m),V(y),V(k)}}}class Le extends ee{constructor(e){super(),Z(this,e,null,Ne,a,{})}}function Pe(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function De(e){let t;return{c(){t=h("Loading...")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Ae(e){let t,n=e[3].name+"";return{c(){t=h(n)},m(e,n){p(e,t,n)},p(e,r){1&r&&n!==(n=e[3].name+"")&&w(t,n)},d(e){e&&d(t)}}}function Ee(e){let t,n,r,s=e[3].name+"";return{c(){t=f("a"),n=h(s),v(t,"href",r=e[3].link)},m(e,r){p(e,t,r),u(t,n)},p(e,l){1&l&&s!==(s=e[3].name+"")&&w(n,s),1&l&&r!==(r=e[3].link)&&v(t,"href",r)},d(e){e&&d(t)}}}function ze(e,t){let n,r,s,l,a,o,i,c,m,$=t[2](t[3].date_start)+"",y=t[2](t[3].date_end)+"";function b(e,t){return e[3].link?Ee:Ae}let k=b(t),S=k(t);return{key:e,first:null,c(){n=f("div"),r=f("div"),S.c(),s=g(),l=f("div"),a=h($),o=g(),i=f("div"),c=h(y),m=g(),v(r,"class","stage-name svelte-1xzsd"),v(l,"class","stage-date svelte-1xzsd"),v(i,"class","stage-date svelte-1xzsd"),v(n,"class","stage svelte-1xzsd"),x(n,"active",!t[5]||t[0][t[5]-1].date_end<t[1]),this.first=n},m(e,t){p(e,n,t),u(n,r),S.m(r,null),u(n,s),u(n,l),u(l,a),u(n,o),u(n,i),u(i,c),u(n,m)},p(e,s){k===(k=b(t=e))&&S?S.p(t,s):(S.d(1),S=k(t),S&&(S.c(),S.m(r,null))),1&s&&$!==($=t[2](t[3].date_start)+"")&&w(a,$),1&s&&y!==(y=t[2](t[3].date_end)+"")&&w(c,y),3&s&&x(n,"active",!t[5]||t[0][t[5]-1].date_end<t[1])},d(e){e&&d(n),S.d()}}}function He(e){let n,r=[],s=new Map,l=e[0];const a=e=>e[3].slug;for(let t=0;t<l.length;t+=1){let n=Pe(e,l,t),o=a(n);s.set(o,r[t]=ze(o,n))}let o=null;return l.length||(o=De()),{c(){n=f("div");for(let e=0;e<r.length;e+=1)r[e].c();o&&o.c(),v(n,"class","schedule svelte-1xzsd")},m(e,t){p(e,n,t);for(let e=0;e<r.length;e+=1)r[e].m(n,null);o&&o.m(n,null)},p(e,[t]){7&t&&(l=e[0],r=Y(r,t,a,1,e,l,s,n,J,ze,null,Pe),l.length?o&&(o.d(1),o=null):o||(o=De(),o.c(),o.m(n,null)))},i:t,o:t,d(e){e&&d(n);for(let e=0;e<r.length;e+=1)r[e].d();o&&o.d()}}}function Re(e,t,n){let{stages:r=[]}=t;const s=(new Date).toISOString();return e.$$set=e=>{"stages"in e&&n(0,r=e.stages)},[r,s,e=>new Date(e).toUTCString().replace(" 00:00:00 GMT","")]}class Ge extends ee{constructor(e){super(),Z(this,e,Re,He,a,{stages:0})}}function Ue(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function Ie(e,t,n){const r=e.slice();return r[6]=t[n],r[5]=n,r}function Be(e,t,n){const r=e.slice();return r[8]=t[n],r[5]=n,r}function We(e){let t;return{c(){t=h("Hosts")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Je(e){let t;return{c(){t=h("Graphic Designer")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Fe(e){let t;return{c(){t=h("Mappool selectors")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Ye(e){let t;return{c(){t=h("Donators")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Qe(e){let t;return{c(){t=h("Referees")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Ke(e){let t,n,r,s,l=e[8].username+"";return{c(){t=f("a"),n=h(l),s=g(),v(t,"href",r=`https://osu.ppy.sh/users/${e[8].id}`),v(t,"target","_blank"),v(t,"rel","noopener"),v(t,"class","svelte-1psdwt3")},m(e,r){p(e,t,r),u(t,n),p(e,s,r)},p(e,s){1&s&&l!==(l=e[8].username+"")&&w(n,l),1&s&&r!==(r=`https://osu.ppy.sh/users/${e[8].id}`)&&v(t,"href",r)},d(e){e&&d(t),e&&d(s)}}}function Ve(e){let t;return{c(){t=h("Streamers")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Xe(e){let t,n,r,s,l=e[6].username+"";return{c(){t=f("a"),n=h(l),s=g(),v(t,"href",r=`https://osu.ppy.sh/users/${e[6].id}`),v(t,"target","_blank"),v(t,"rel","noopener"),v(t,"class","svelte-1psdwt3")},m(e,r){p(e,t,r),u(t,n),p(e,s,r)},p(e,s){2&s&&l!==(l=e[6].username+"")&&w(n,l),2&s&&r!==(r=`https://osu.ppy.sh/users/${e[6].id}`)&&v(t,"href",r)},d(e){e&&d(t),e&&d(s)}}}function Ze(e){let t;return{c(){t=h("Commentators")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function et(e){let t,n,r,s,l=e[3].username+"";return{c(){t=f("a"),n=h(l),s=g(),v(t,"href",r=`https://osu.ppy.sh/users/${e[3].id}`),v(t,"target","_blank"),v(t,"rel","noopener"),v(t,"class","svelte-1psdwt3")},m(e,r){p(e,t,r),u(t,n),p(e,s,r)},p(e,s){4&s&&l!==(l=e[3].username+"")&&w(n,l),4&s&&r!==(r=`https://osu.ppy.sh/users/${e[3].id}`)&&v(t,"href",r)},d(e){e&&d(t),e&&d(s)}}}function tt(e){let t,n,r,s,l,a,o,i,c,h,$,y,b,w,k,x,S,T,C,_,q,O,j,M,N,L,P,D,A,E,z,H,R,G,U;n=new Ce({props:{$$slots:{default:[We]},$$scope:{ctx:e}}}),o=new Ce({props:{$$slots:{default:[Je]},$$scope:{ctx:e}}}),y=new Ce({props:{$$slots:{default:[Fe]},$$scope:{ctx:e}}}),S=new Ce({props:{$$slots:{default:[Ye]},$$scope:{ctx:e}}}),O=new Ce({props:{$$slots:{default:[Qe]},$$scope:{ctx:e}}});let W=e[0],J=[];for(let t=0;t<W.length;t+=1)J[t]=Ke(Be(e,W,t));P=new Ce({props:{$$slots:{default:[Ve]},$$scope:{ctx:e}}});let F=e[1],Y=[];for(let t=0;t<F.length;t+=1)Y[t]=Xe(Ie(e,F,t));H=new Ce({props:{$$slots:{default:[Ze]},$$scope:{ctx:e}}});let X=e[2],Z=[];for(let t=0;t<X.length;t+=1)Z[t]=et(Ue(e,X,t));return{c(){t=f("div"),Q(n.$$.fragment),r=g(),s=f("div"),s.innerHTML='<a href="https://osu.ppy.sh/users/1375479" target="_blank" rel="noopener" class="svelte-1psdwt3">Paturages</a>  \n    <a href="https://osu.ppy.sh/users/10047413" target="_blank" rel="noopener" class="svelte-1psdwt3">Davvy</a>',l=g(),a=f("div"),Q(o.$$.fragment),i=g(),c=f("div"),c.innerHTML='<a href="https://osu.ppy.sh/users/9148286" target="_blank" rel="noopener" class="svelte-1psdwt3">E-M-i</a>',h=g(),$=f("div"),Q(y.$$.fragment),b=g(),w=f("div"),w.innerHTML='<a href="https://osu.ppy.sh/users/1375479" target="_blank" rel="noopener" class="svelte-1psdwt3">Paturages</a>  \n    <a href="https://osu.ppy.sh/users/10047413" target="_blank" rel="noopener" class="svelte-1psdwt3">Davvy</a>  \n    <a href="https://osu.ppy.sh/users/11253722" target="_blank" rel="noopener" class="svelte-1psdwt3">DannyPX</a>  \n    <a href="https://osu.ppy.sh/users/11626065" target="_blank" rel="noopener" class="svelte-1psdwt3">guden</a>  \n    <a href="https://osu.ppy.sh/users/2124783" target="_blank" rel="noopener" class="svelte-1psdwt3">Kamikaze</a>  \n    <a href="https://osu.ppy.sh/users/8976576" target="_blank" rel="noopener" class="svelte-1psdwt3">-mint-</a>  \n    <a href="https://osu.ppy.sh/users/8642224" target="_blank" rel="noopener" class="svelte-1psdwt3">Konohana Lucia</a>',k=g(),x=f("div"),Q(S.$$.fragment),T=g(),C=f("div"),C.innerHTML='<a href="https://osu.ppy.sh/users/8642224" target="_blank" rel="noopener" class="svelte-1psdwt3">Konohana Lucia</a>  \n    <a href="https://osu.ppy.sh/users/8184715" target="_blank" rel="noopener" class="svelte-1psdwt3">Syako</a>',_=g(),q=f("div"),Q(O.$$.fragment),j=g(),M=f("div");for(let e=0;e<J.length;e+=1)J[e].c();N=g(),L=f("div"),Q(P.$$.fragment),D=g(),A=f("div");for(let e=0;e<Y.length;e+=1)Y[e].c();E=g(),z=f("div"),Q(H.$$.fragment),R=g(),G=f("div");for(let e=0;e<Z.length;e+=1)Z[e].c();v(s,"class","container svelte-1psdwt3"),v(t,"class","section svelte-1psdwt3"),v(c,"class","container svelte-1psdwt3"),v(a,"class","section svelte-1psdwt3"),v(w,"class","container svelte-1psdwt3"),v($,"class","section svelte-1psdwt3"),v(C,"class","container svelte-1psdwt3"),v(x,"class","section svelte-1psdwt3"),v(M,"class","container svelte-1psdwt3"),v(q,"class","section svelte-1psdwt3"),v(A,"class","container svelte-1psdwt3"),v(L,"class","section svelte-1psdwt3"),v(G,"class","container svelte-1psdwt3"),v(z,"class","section svelte-1psdwt3")},m(e,d){p(e,t,d),K(n,t,null),u(t,r),u(t,s),p(e,l,d),p(e,a,d),K(o,a,null),u(a,i),u(a,c),p(e,h,d),p(e,$,d),K(y,$,null),u($,b),u($,w),p(e,k,d),p(e,x,d),K(S,x,null),u(x,T),u(x,C),p(e,_,d),p(e,q,d),K(O,q,null),u(q,j),u(q,M);for(let e=0;e<J.length;e+=1)J[e].m(M,null);p(e,N,d),p(e,L,d),K(P,L,null),u(L,D),u(L,A);for(let e=0;e<Y.length;e+=1)Y[e].m(A,null);p(e,E,d),p(e,z,d),K(H,z,null),u(z,R),u(z,G);for(let e=0;e<Z.length;e+=1)Z[e].m(G,null);U=!0},p(e,[t]){const r={};1024&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};1024&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s);const l={};1024&t&&(l.$$scope={dirty:t,ctx:e}),y.$set(l);const a={};1024&t&&(a.$$scope={dirty:t,ctx:e}),S.$set(a);const i={};if(1024&t&&(i.$$scope={dirty:t,ctx:e}),O.$set(i),1&t){let n;for(W=e[0],n=0;n<W.length;n+=1){const r=Be(e,W,n);J[n]?J[n].p(r,t):(J[n]=Ke(r),J[n].c(),J[n].m(M,null))}for(;n<J.length;n+=1)J[n].d(1);J.length=W.length}const c={};if(1024&t&&(c.$$scope={dirty:t,ctx:e}),P.$set(c),2&t){let n;for(F=e[1],n=0;n<F.length;n+=1){const r=Ie(e,F,n);Y[n]?Y[n].p(r,t):(Y[n]=Xe(r),Y[n].c(),Y[n].m(A,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=F.length}const u={};if(1024&t&&(u.$$scope={dirty:t,ctx:e}),H.$set(u),4&t){let n;for(X=e[2],n=0;n<X.length;n+=1){const r=Ue(e,X,n);Z[n]?Z[n].p(r,t):(Z[n]=et(r),Z[n].c(),Z[n].m(G,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=X.length}},i(e){U||(I(n.$$.fragment,e),I(o.$$.fragment,e),I(y.$$.fragment,e),I(S.$$.fragment,e),I(O.$$.fragment,e),I(P.$$.fragment,e),I(H.$$.fragment,e),U=!0)},o(e){B(n.$$.fragment,e),B(o.$$.fragment,e),B(y.$$.fragment,e),B(S.$$.fragment,e),B(O.$$.fragment,e),B(P.$$.fragment,e),B(H.$$.fragment,e),U=!1},d(e){e&&d(t),V(n),e&&d(l),e&&d(a),V(o),e&&d(h),e&&d($),V(y),e&&d(k),e&&d(x),V(S),e&&d(_),e&&d(q),V(O),m(J,e),e&&d(N),e&&d(L),V(P),m(Y,e),e&&d(E),e&&d(z),V(H),m(Z,e)}}}function nt(e,t,n){let r,s,l;return o(e,ae,(e=>n(0,r=e))),o(e,ie,(e=>n(1,s=e))),o(e,oe,(e=>n(2,l=e))),[r,s,l]}class rt extends ee{constructor(e){super(),Z(this,e,nt,tt,a,{})}}function st(e){let t,n,r=e[0].seed+"";return{c(){t=h("Seed #"),n=h(r)},m(e,r){p(e,t,r),p(e,n,r)},p(e,t){1&t&&r!==(r=e[0].seed+"")&&w(n,r)},d(e){e&&d(t),e&&d(n)}}}function lt(e){let t;return{c(){t=h("- Elite bracket")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function at(e){let t,n,r=e[0].matches[e[0].matches.length-1].match.stage.name+"";return{c(){t=h("- "),n=h(r)},m(e,r){p(e,t,r),p(e,n,r)},p(e,t){1&t&&r!==(r=e[0].matches[e[0].matches.length-1].match.stage.name+"")&&w(n,r)},d(e){e&&d(t),e&&d(n)}}}function ot(e){let n,r,s,l,a,o,i,c,m,$,y,b,k,S,T,C,_,q,O,j,M,N,L,P,D,A,E=e[0].username+"",z=e[0].country+"",H=e[0].ranking+"",R=Number(e[0].pp).toFixed(2)+"",G=e[0].seed&&st(e),U=e[0].elite&&lt(),I=e[0].matches.length&&at(e);return{c(){n=f("a"),r=f("div"),s=f("img"),a=g(),o=f("div"),i=h(E),c=g(),m=f("div"),$=f("img"),b=g(),k=h(z),S=g(),T=f("div"),G&&G.c(),C=g(),U&&U.c(),_=g(),I&&I.c(),q=g(),O=f("div"),j=h(H),M=g(),N=f("div"),L=h("("),P=h(R),D=h(" pp)"),v(s,"class","avatar svelte-19ib21r"),s.src!==(l=e[0].avatar)&&v(s,"src",l),v(s,"alt",""),v(r,"class","avatar svelte-19ib21r"),$.src!==(y=`https://osu.ppy.sh/images/flags/${e[0].country_code}.png`)&&v($,"src",y),v($,"alt",""),v($,"class","svelte-19ib21r"),v(m,"class","country svelte-19ib21r"),v(T,"class","stats svelte-19ib21r"),v(o,"class","name svelte-19ib21r"),v(N,"class","pp svelte-19ib21r"),v(O,"class","ranking svelte-19ib21r"),v(n,"class","player svelte-19ib21r"),v(n,"href",A=`https://osu.ppy.sh/users/${e[0].id}`),v(n,"target","_blank"),v(n,"rel","noopener"),x(n,"dead",!e[0].alive)},m(e,t){p(e,n,t),u(n,r),u(r,s),u(n,a),u(n,o),u(o,i),u(o,c),u(o,m),u(m,$),u(m,b),u(m,k),u(o,S),u(o,T),G&&G.m(T,null),u(T,C),U&&U.m(T,null),u(T,_),I&&I.m(T,null),u(n,q),u(n,O),u(O,j),u(O,M),u(O,N),u(N,L),u(N,P),u(N,D)},p(e,[t]){1&t&&s.src!==(l=e[0].avatar)&&v(s,"src",l),1&t&&E!==(E=e[0].username+"")&&w(i,E),1&t&&$.src!==(y=`https://osu.ppy.sh/images/flags/${e[0].country_code}.png`)&&v($,"src",y),1&t&&z!==(z=e[0].country+"")&&w(k,z),e[0].seed?G?G.p(e,t):(G=st(e),G.c(),G.m(T,C)):G&&(G.d(1),G=null),e[0].elite?U||(U=lt(),U.c(),U.m(T,_)):U&&(U.d(1),U=null),e[0].matches.length?I?I.p(e,t):(I=at(e),I.c(),I.m(T,null)):I&&(I.d(1),I=null),1&t&&H!==(H=e[0].ranking+"")&&w(j,H),1&t&&R!==(R=Number(e[0].pp).toFixed(2)+"")&&w(P,R),1&t&&A!==(A=`https://osu.ppy.sh/users/${e[0].id}`)&&v(n,"href",A),1&t&&x(n,"dead",!e[0].alive)},i:t,o:t,d(e){e&&d(n),G&&G.d(),U&&U.d(),I&&I.d()}}}function it(e,t,n){let{player:r}=t;return e.$$set=e=>{"player"in e&&n(0,r=e.player)},[r]}class ct extends ee{constructor(e){super(),Z(this,e,it,ot,a,{player:0})}}function ut(e,t,n){const r=e.slice();return r[4]=t[n],r}function pt(e){let t,n,r;return n=new Ce({props:{href:"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw",$$slots:{default:[dt]},$$scope:{ctx:e}}}),{c(){t=f("p"),Q(n.$$.fragment),v(t,"class","register svelte-g74cd1")},m(e,s){p(e,t,s),K(n,t,null),r=!0},i(e){r||(I(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){e&&d(t),V(n)}}}function dt(e){let t;return{c(){t=h("Register")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function mt(e){let t,n,r,s,l,a,o=e[1].length+"",i=[],c=new Map,m=e[1];const y=e=>e[4].id;for(let t=0;t<m.length;t+=1){let n=ut(e,m,t),r=y(n);c.set(r,i[t]=gt(r,n))}let b=null;return m.length||(b=ht()),{c(){t=f("div"),n=h("Total players: "),r=h(o),s=g();for(let e=0;e<i.length;e+=1)i[e].c();l=$(),b&&b.c(),v(t,"class","stats")},m(e,o){p(e,t,o),u(t,n),u(t,r),p(e,s,o);for(let t=0;t<i.length;t+=1)i[t].m(e,o);p(e,l,o),b&&b.m(e,o),a=!0},p(e,t){(!a||2&t)&&o!==(o=e[1].length+"")&&w(r,o),2&t&&(m=e[1],G(),i=Y(i,t,y,1,e,m,c,l.parentNode,F,gt,l,ut),U(),m.length?b&&(b.d(1),b=null):b||(b=ht(),b.c(),b.m(l.parentNode,l)))},i(e){if(!a){for(let e=0;e<m.length;e+=1)I(i[e]);a=!0}},o(e){for(let e=0;e<i.length;e+=1)B(i[e]);a=!1},d(e){e&&d(t),e&&d(s);for(let t=0;t<i.length;t+=1)i[t].d(e);e&&d(l),b&&b.d(e)}}}function ft(e){let n;return{c(){n=h("Loading players...")},m(e,t){p(e,n,t)},p:t,i:t,o:t,d(e){e&&d(n)}}}function ht(e){let t;return{c(){t=h("No players registered yet!")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function gt(e,t){let n,r,s;return r=new ct({props:{player:t[4]}}),{key:e,first:null,c(){n=$(),Q(r.$$.fragment),this.first=n},m(e,t){p(e,n,t),K(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.player=t[4]),r.$set(s)},i(e){s||(I(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&d(n),V(r,e)}}}function $t(e){let t,n,r,s,l,a=!e[0]&&pt(e);const o=[ft,mt],i=[];function c(e,t){return e[1]?1:0}return r=c(e),s=i[r]=o[r](e),{c(){a&&a.c(),t=g(),n=f("p"),s.c(),v(n,"class","players svelte-g74cd1")},m(e,s){a&&a.m(e,s),p(e,t,s),p(e,n,s),i[r].m(n,null),l=!0},p(e,[l]){e[0]?a&&(G(),B(a,1,1,(()=>{a=null})),U()):a?1&l&&I(a,1):(a=pt(e),a.c(),I(a,1),a.m(t.parentNode,t));let u=r;r=c(e),r===u?i[r].p(e,l):(G(),B(i[u],1,1,(()=>{i[u]=null})),U(),s=i[r],s?s.p(e,l):(s=i[r]=o[r](e),s.c()),I(s,1),s.m(n,null))},i(e){l||(I(a),I(s),l=!0)},o(e){B(a),B(s),l=!1},d(e){a&&a.d(e),e&&d(t),e&&d(n),i[r].d()}}}function yt(e,t,n){let r,s;return o(e,se,(e=>n(0,r=e))),o(e,le,(e=>n(1,s=e))),[r,s]}class vt extends ee{constructor(e){super(),Z(this,e,yt,$t,a,{})}}function bt(e,t,n){const r=e.slice();return r[5]=t[n].players,r[6]=t[n].country,r[7]=t[n].aliveCount,r}function wt(e,t,n){const r=e.slice();return r[10]=t[n],r}function kt(e){let t;return{c(){t=h("Loading...")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function xt(e){let t,n,r,s=e[7]+"";return{c(){t=h("("),n=h(s),r=h(" alive)")},m(e,s){p(e,t,s),p(e,n,s),p(e,r,s)},p(e,t){2&t&&s!==(s=e[7]+"")&&w(n,s)},d(e){e&&d(t),e&&d(n),e&&d(r)}}}function St(e){let t,n,r,s=e[5],l=[];for(let t=0;t<s.length;t+=1)l[t]=Tt(wt(e,s,t));const a=e=>B(l[e],1,1,(()=>{l[e]=null}));return{c(){t=f("div");for(let e=0;e<l.length;e+=1)l[e].c();n=g(),v(t,"class","players svelte-1q27u36")},m(e,s){p(e,t,s);for(let e=0;e<l.length;e+=1)l[e].m(t,null);u(t,n),r=!0},p(e,r){if(2&r){let o;for(s=e[5],o=0;o<s.length;o+=1){const a=wt(e,s,o);l[o]?(l[o].p(a,r),I(l[o],1)):(l[o]=Tt(a),l[o].c(),I(l[o],1),l[o].m(t,n))}for(G(),o=s.length;o<l.length;o+=1)a(o);U()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)I(l[e]);r=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)B(l[e]);r=!1},d(e){e&&d(t),m(l,e)}}}function Tt(e){let t,n;return t=new ct({props:{player:e[10]}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.player=e[10]),t.$set(r)},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Ct(e,t){let n,r,s,l,a,o,i,c,m,b,k,x,S,T,C,_,q=t[6]+"",O=t[5].length+"",j=1==t[5].length?"":"s",M=t[0]==t[6]?"▼":"►",N=t[7]&&xt(t);function L(){return t[4](t[6])}let P=t[0]==t[6]&&St(t);return{key:e,first:null,c(){n=f("div"),r=f("div"),s=h(q),l=h(": "),a=h(O),o=h(" player"),i=h(j),c=g(),N&&N.c(),m=g(),b=f("div"),k=h(M),x=g(),P&&P.c(),S=$(),v(r,"class","label svelte-1q27u36"),v(b,"class","pointer"),v(n,"class","country svelte-1q27u36"),this.first=n},m(e,t){p(e,n,t),u(n,r),u(r,s),u(r,l),u(r,a),u(r,o),u(r,i),u(r,c),N&&N.m(r,null),u(n,m),u(n,b),u(b,k),p(e,x,t),P&&P.m(e,t),p(e,S,t),T=!0,C||(_=y(n,"click",L),C=!0)},p(e,n){t=e,(!T||2&n)&&q!==(q=t[6]+"")&&w(s,q),(!T||2&n)&&O!==(O=t[5].length+"")&&w(a,O),(!T||2&n)&&j!==(j=1==t[5].length?"":"s")&&w(i,j),t[7]?N?N.p(t,n):(N=xt(t),N.c(),N.m(r,null)):N&&(N.d(1),N=null),(!T||3&n)&&M!==(M=t[0]==t[6]?"▼":"►")&&w(k,M),t[0]==t[6]?P?(P.p(t,n),3&n&&I(P,1)):(P=St(t),P.c(),I(P,1),P.m(S.parentNode,S)):P&&(G(),B(P,1,1,(()=>{P=null})),U())},i(e){T||(I(P),T=!0)},o(e){B(P),T=!1},d(e){e&&d(n),N&&N.d(),e&&d(x),P&&P.d(e),e&&d(S),C=!1,_()}}}function _t(e){let t,n,r=[],s=new Map,l=e[1];const a=e=>e[6];for(let t=0;t<l.length;t+=1){let n=bt(e,l,t),o=a(n);s.set(o,r[t]=Ct(o,n))}let o=null;return l.length||(o=kt()),{c(){t=f("div");for(let e=0;e<r.length;e+=1)r[e].c();o&&o.c(),v(t,"class","countries svelte-1q27u36")},m(e,s){p(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);o&&o.m(t,null),n=!0},p(e,[n]){7&n&&(l=e[1],G(),r=Y(r,n,a,1,e,l,s,t,F,Ct,null,bt),U(),l.length?o&&(o.d(1),o=null):o||(o=kt(),o.c(),o.m(t,null)))},i(e){if(!n){for(let e=0;e<l.length;e+=1)I(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){e&&d(t);for(let e=0;e<r.length;e+=1)r[e].d();o&&o.d()}}}function qt(e,t,n){let r,s,l;o(e,le,(e=>n(3,s=e)));const a=e=>n(0,l=l==e?null:e);return e.$$.update=()=>{8&e.$$.dirty&&n(1,r=Object.values((null==s?void 0:s.reduce(((e,t)=>(e[t.country]||(e[t.country]={country:t.country,players:[],aliveCount:0}),e[t.country].players.push(t),t.alive&&(e[t.country].aliveCount+=1),e)),{}))||{}).sort(((e,t)=>e.players.length<t.players.length?1:-1)))},[l,r,a,s,e=>a(e)]}class Ot extends ee{constructor(e){super(),Z(this,e,qt,_t,a,{})}}function jt(e,t,n){const r=e.slice();return r[11]=t[n],r}function Mt(e){let t,n,r,s,l=e[0].name+"",a=e[2]&&Lt(e);return{c(){t=h(l),n=g(),a&&a.c(),r=$()},m(e,l){p(e,t,l),p(e,n,l),a&&a.m(e,l),p(e,r,l),s=!0},p(e,n){(!s||1&n)&&l!==(l=e[0].name+"")&&w(t,l),e[2]?a?(a.p(e,n),4&n&&I(a,1)):(a=Lt(e),a.c(),I(a,1),a.m(r.parentNode,r)):a&&(G(),B(a,1,1,(()=>{a=null})),U())},i(e){s||(I(a),s=!0)},o(e){B(a),s=!1},d(e){e&&d(t),e&&d(n),a&&a.d(e),e&&d(r)}}}function Nt(e){let n,r,s,l=e[0].name+"";return{c(){n=f("a"),r=h(l),v(n,"href",s=e[0].link),v(n,"target","_blank"),v(n,"rel","noopener")},m(e,t){p(e,n,t),u(n,r)},p(e,t){1&t&&l!==(l=e[0].name+"")&&w(r,l),1&t&&s!==(s=e[0].link)&&v(n,"href",s)},i:t,o:t,d(e){e&&d(n)}}}function Lt(e){let t,n,r,s;const l=[Dt,Pt],a=[];function o(e,t){return e[4]?0:1}return t=o(e),n=a[t]=l[t](e),{c(){n.c(),r=$()},m(e,n){a[t].m(e,n),p(e,r,n),s=!0},p(e,s){let i=t;t=o(e),t===i?a[t].p(e,s):(G(),B(a[i],1,1,(()=>{a[i]=null})),U(),n=a[t],n?n.p(e,s):(n=a[t]=l[t](e),n.c()),I(n,1),n.m(r.parentNode,r))},i(e){s||(I(n),s=!0)},o(e){B(n),s=!1},d(e){a[t].d(e),e&&d(r)}}}function Pt(e){let t,n;return t=new Ce({props:{$$slots:{default:[At]},$$scope:{ctx:e}}}),t.$on("click",e[8]),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},p(e,n){const r={};16384&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Dt(e){let n;return{c(){n=h("...")},m(e,t){p(e,n,t)},p:t,i:t,o:t,d(e){e&&d(n)}}}function At(e){let t;return{c(){t=h("Sign up")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Et(e){let n;return{c(){n=h("To be defined")},m(e,t){p(e,n,t)},p:t,d(e){e&&d(n)}}}function zt(e){let t,n,r,s=e[0].referee.username+"";return{c(){t=f("a"),n=h(s),v(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){p(e,t,r),u(t,n)},p(e,l){1&l&&s!==(s=e[0].referee.username+"")&&w(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&v(t,"href",r)},d(e){e&&d(t)}}}function Ht(e){let t,n,r,s,l,a,o,i=(e[0].available_referees.map(Ft).join(", ")||"None")+"";function c(e,t){return e[3]?Ut:e[6]?Gt:Rt}let u=c(e),m=u(e);return{c(){t=f("br"),n=g(),r=f("b"),r.textContent="Available referees",s=h(":\n        "),l=h(i),a=h(" -\n        "),m.c(),o=$()},m(e,i){p(e,t,i),p(e,n,i),p(e,r,i),p(e,s,i),p(e,l,i),p(e,a,i),m.m(e,i),p(e,o,i)},p(e,t){1&t&&i!==(i=(e[0].available_referees.map(Ft).join(", ")||"None")+"")&&w(l,i),u===(u=c(e))&&m?m.p(e,t):(m.d(1),m=u(e),m&&(m.c(),m.m(o.parentNode,o)))},d(e){e&&d(t),e&&d(n),e&&d(r),e&&d(s),e&&d(l),e&&d(a),m.d(e),e&&d(o)}}}function Rt(e){let n,r,s;return{c(){n=f("a"),n.textContent="Add yourself as available",v(n,"href","javascript:void(0)")},m(t,l){p(t,n,l),r||(s=y(n,"click",e[7]),r=!0)},p:t,d(e){e&&d(n),r=!1,s()}}}function Gt(e){let n,r,s;return{c(){n=f("a"),n.textContent="Remove yourself",v(n,"href","javascript:void(0)")},m(t,l){p(t,n,l),r||(s=y(n,"click",e[7]),r=!0)},p:t,d(e){e&&d(n),r=!1,s()}}}function Ut(e){let n;return{c(){n=h("Processing...")},m(e,t){p(e,n,t)},p:t,d(e){e&&d(n)}}}function It(e){let n;return{c(){n=f("a"),n.textContent="Free spot!",v(n,"class","free-spot svelte-mwswut")},m(e,t){p(e,n,t)},p:t,d(e){e&&d(n)}}}function Bt(e){let t,n,r,s=e[0].players[e[11]].username+"";return{c(){t=f("a"),n=h(s),v(t,"href",r=`https://osu.ppy.sh/users/${e[0].players[e[11]].id}`),v(t,"class","svelte-mwswut")},m(e,r){p(e,t,r),u(t,n)},p(e,l){1&l&&s!==(s=e[0].players[e[11]].username+"")&&w(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].players[e[11]].id}`)&&v(t,"href",r)},d(e){e&&d(t)}}}function Wt(e){let t;function n(e,t){return e[0].players[e[11]]?Bt:e[0].link?void 0:It}let r=n(e),s=r&&r(e);return{c(){s&&s.c(),t=$()},m(e,n){s&&s.m(e,n),p(e,t,n)},p(e,l){r===(r=n(e))&&s?s.p(e,l):(s&&s.d(1),s=r&&r(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s&&s.d(e),e&&d(t)}}}function Jt(e){let t,n,r,s,l,a,o,i,c,$,y,b,k,x,S,T,C,_,q,O,j,M=e[5].toUTCString().replace(":00 GMT"," UTC+0")+"",N=e[5].toTimeString().replace(":00 GMT"," UTC")+"";const L=[Nt,Mt],P=[];function D(e,t){return e[0].link?0:1}function A(e,t){return e[0].referee?zt:Et}r=D(e),s=P[r]=L[r](e);let E=A(e),z=E(e),H=e[1]&&Ht(e),R=[0,1,2,3,4,5,6,7],W=[];for(let t=0;t<8;t+=1)W[t]=Wt(jt(e,R,t));return{c(){t=f("div"),n=f("div"),s.c(),l=g(),a=f("div"),o=f("div"),i=h(M),c=g(),$=f("div"),y=h("Your local time: "),b=f("b"),k=h(N),x=g(),S=f("div"),T=f("b"),T.textContent="Referee",C=h(":\n      "),z.c(),_=g(),H&&H.c(),q=g(),O=f("div");for(let e=0;e<8;e+=1)W[e].c();v(n,"class","name svelte-mwswut"),v(o,"class","utc svelte-mwswut"),v($,"class","time svelte-mwswut"),v(S,"class","referee svelte-mwswut"),v(O,"class","players svelte-mwswut"),v(a,"class","body"),v(t,"class","lobby svelte-mwswut")},m(e,s){p(e,t,s),u(t,n),P[r].m(n,null),u(t,l),u(t,a),u(a,o),u(o,i),u(a,c),u(a,$),u($,y),u($,b),u(b,k),u(a,x),u(a,S),u(S,T),u(S,C),z.m(S,null),u(S,_),H&&H.m(S,null),u(a,q),u(a,O);for(let e=0;e<8;e+=1)W[e].m(O,null);j=!0},p(e,[t]){let l=r;if(r=D(e),r===l?P[r].p(e,t):(G(),B(P[l],1,1,(()=>{P[l]=null})),U(),s=P[r],s?s.p(e,t):(s=P[r]=L[r](e),s.c()),I(s,1),s.m(n,null)),(!j||32&t)&&M!==(M=e[5].toUTCString().replace(":00 GMT"," UTC+0")+"")&&w(i,M),(!j||32&t)&&N!==(N=e[5].toTimeString().replace(":00 GMT"," UTC")+"")&&w(k,N),E===(E=A(e))&&z?z.p(e,t):(z.d(1),z=E(e),z&&(z.c(),z.m(S,_))),e[1]?H?H.p(e,t):(H=Ht(e),H.c(),H.m(S,null)):H&&(H.d(1),H=null),1&t){let n;for(R=[0,1,2,3,4,5,6,7],n=0;n<8;n+=1){const r=jt(e,R,n);W[n]?W[n].p(r,t):(W[n]=Wt(r),W[n].c(),W[n].m(O,null))}for(;n<8;n+=1)W[n].d(1)}},i(e){j||(I(s),j=!0)},o(e){B(s),j=!1},d(e){e&&d(t),P[r].d(),z.d(),H&&H.d(),m(W,e)}}}const Ft=({referee:e})=>e.username;function Yt(e,t,n){let r,s,l;o(e,se,(e=>n(9,l=e)));var a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{i(r.next(e))}catch(e){l(e)}}function o(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}i((r=r.apply(e,t||[])).next())}))};let i,{lobby:c}=t,{toggleAvailable:u}=t,{setSchedule:p}=t;let d;return e.$$set=e=>{"lobby"in e&&n(0,c=e.lobby),"toggleAvailable"in e&&n(1,u=e.toggleAvailable),"setSchedule"in e&&n(2,p=e.setSchedule)},e.$$.update=()=>{1&e.$$.dirty&&n(5,r=new Date(c.time)),515&e.$$.dirty&&n(6,s=u&&c.available_referees.find((({referee:e})=>e.id==l.id)))},[c,u,p,i,d,r,s,()=>a(void 0,void 0,void 0,(function*(){n(3,i=!0),yield u(),n(3,i=!1)})),()=>a(void 0,void 0,void 0,(function*(){n(4,d=!0),yield p(),n(4,d=!1)})),l]}class Qt extends ee{constructor(e){super(),Z(this,e,Yt,Jt,a,{lobby:0,toggleAvailable:1,setSchedule:2})}}function Kt(e){let n,r,s,l,a,o,i,c,m,$,b,k,S,T,C,_,q,O,j,M,N,L,P,D,A,E,z,H,R,G,U,I,B,W,J,F,Y,Q,K,V,X,Z,ee,te,ne,re,se,le,ae,oe=e[0].artist+"",ie=e[0].name+"",ce=e[0].difficulty+"",ue=e[0].category+"",pe=e[0].charter+"",de=e[0].sr+"",me=e[0].length+"",fe=e[0].bpm+"",he=e[0].od+"",ge=e[0].hp+"",$e=e[0].weight+"";return{c(){n=f("div"),r=f("div"),s=f("div"),l=f("a"),a=h(oe),o=h(" - "),i=h(ie),c=f("br"),m=h(ce),b=g(),k=f("div"),S=h(ue),T=g(),C=f("div"),_=f("div"),q=h("Mapset by "),O=f("a"),j=h(pe),N=g(),L=f("div"),P=f("span"),D=h("⭐ "),A=h(de),E=g(),z=f("span"),H=h("⏰ "),R=h(me),G=g(),U=f("span"),I=h("🎵 "),B=h(fe),W=h(" BPM"),J=g(),F=f("span"),Y=h("🎯 OD "),Q=h(he),K=g(),V=f("span"),X=h("❤️ HP "),Z=h(ge),ee=g(),te=f("span"),ne=h("⚖️ Weight "),re=h($e),v(l,"class","name svelte-ttf8w6"),v(l,"href",$=`https://osu.ppy.sh/beatmaps/${e[0].id}`),v(l,"target","_blank"),v(l,"rel","noopener"),v(k,"class","category svelte-ttf8w6"),v(s,"class","header svelte-ttf8w6"),v(O,"href",M=`https://osu.ppy.sh/users/${e[0].charter_id}`),v(O,"class","svelte-ttf8w6"),v(_,"class","mapper"),v(P,"class","stat-item svelte-ttf8w6"),v(z,"class","stat-item svelte-ttf8w6"),v(U,"class","stat-item svelte-ttf8w6"),v(F,"class","stat-item svelte-ttf8w6"),v(V,"class","stat-item svelte-ttf8w6"),v(te,"class","stat-item svelte-ttf8w6"),v(L,"class","stats svelte-ttf8w6"),v(C,"class","body svelte-ttf8w6"),v(r,"class","container svelte-ttf8w6"),v(n,"class","map svelte-ttf8w6"),v(n,"style",se=`background-image:url(${e[0].cover})`),x(n,"rice",e[0].category.toLowerCase().match(/rice|tech/)),x(n,"ln",e[0].category.toLowerCase().includes("ln")),x(n,"hybrid",e[0].category.toLowerCase().includes("hybrid")),x(n,"tiebreaker",e[0].category.toLowerCase().includes("tiebreaker"))},m(t,d){p(t,n,d),u(n,r),u(r,s),u(s,l),u(l,a),u(l,o),u(l,i),u(l,c),u(l,m),u(s,b),u(s,k),u(k,S),u(r,T),u(r,C),u(C,_),u(_,q),u(_,O),u(O,j),u(C,N),u(C,L),u(L,P),u(P,D),u(P,A),u(L,E),u(L,z),u(z,H),u(z,R),u(L,G),u(L,U),u(U,I),u(U,B),u(U,W),u(L,J),u(L,F),u(F,Y),u(F,Q),u(L,K),u(L,V),u(V,X),u(V,Z),u(L,ee),u(L,te),u(te,ne),u(te,re),le||(ae=y(n,"click",e[1]),le=!0)},p(e,[t]){1&t&&oe!==(oe=e[0].artist+"")&&w(a,oe),1&t&&ie!==(ie=e[0].name+"")&&w(i,ie),1&t&&ce!==(ce=e[0].difficulty+"")&&w(m,ce),1&t&&$!==($=`https://osu.ppy.sh/beatmaps/${e[0].id}`)&&v(l,"href",$),1&t&&ue!==(ue=e[0].category+"")&&w(S,ue),1&t&&pe!==(pe=e[0].charter+"")&&w(j,pe),1&t&&M!==(M=`https://osu.ppy.sh/users/${e[0].charter_id}`)&&v(O,"href",M),1&t&&de!==(de=e[0].sr+"")&&w(A,de),1&t&&me!==(me=e[0].length+"")&&w(R,me),1&t&&fe!==(fe=e[0].bpm+"")&&w(B,fe),1&t&&he!==(he=e[0].od+"")&&w(Q,he),1&t&&ge!==(ge=e[0].hp+"")&&w(Z,ge),1&t&&$e!==($e=e[0].weight+"")&&w(re,$e),1&t&&se!==(se=`background-image:url(${e[0].cover})`)&&v(n,"style",se),1&t&&x(n,"rice",e[0].category.toLowerCase().match(/rice|tech/)),1&t&&x(n,"ln",e[0].category.toLowerCase().includes("ln")),1&t&&x(n,"hybrid",e[0].category.toLowerCase().includes("hybrid")),1&t&&x(n,"tiebreaker",e[0].category.toLowerCase().includes("tiebreaker"))},i:t,o:t,d(e){e&&d(n),le=!1,ae()}}}function Vt(e,t,n){let{map:r}=t;return e.$$set=e=>{"map"in e&&n(0,r=e.map)},[r,function(t){_(e,t)}]}class Xt extends ee{constructor(e){super(),Z(this,e,Vt,Kt,a,{map:0})}}const Zt=ne(null),en=ne(null),{Map:tn}=W;function nn(e,t,n){const r=e.slice();return r[8]=t[n],r}function rn(e,t,n){const r=e.slice();return r[11]=t[n],r}function sn(e){let t;function n(e,t){return e[0].qualifier?an:ln}let r=n(e),s=r(e);return{c(){t=f("p"),s.c(),v(t,"class","intro svelte-1pt4gyt")},m(e,n){p(e,t,n),s.m(t,null)},p(e,l){r===(r=n(e))&&s?s.p(e,l):(s.d(1),s=r(e),s&&(s.c(),s.m(t,null)))},d(e){e&&d(t),s.d()}}}function ln(e){let t,n,r,s,l,a,o,i,c,u,m,g=e[0].username+"";return{c(){t=h("Welcome, player "),n=h(g),r=h("!"),s=f("br"),l=f("br"),a=h("\n    You can feel free to put yourself in any qualifier with a free spot in it."),o=f("br"),i=f("br"),c=h("\n    If there is no lobby that suits you, please specify a time in the #reschedules channel in the Discord:"),u=f("br"),m=h("\n    we will try to organize a special extra lobby.")},m(e,d){p(e,t,d),p(e,n,d),p(e,r,d),p(e,s,d),p(e,l,d),p(e,a,d),p(e,o,d),p(e,i,d),p(e,c,d),p(e,u,d),p(e,m,d)},p(e,t){1&t&&g!==(g=e[0].username+"")&&w(n,g)},d(e){e&&d(t),e&&d(n),e&&d(r),e&&d(s),e&&d(l),e&&d(a),e&&d(o),e&&d(i),e&&d(c),e&&d(u),e&&d(m)}}}function an(e){let t,n,r,s,l,a,o,i,c,m,g,$,y,v,b,k,x,S,T,C,_,q,O,j,M,N,L,P,D,A,E=e[0].qualifier.name+"",z=e[2].toUTCString().replace(":00 GMT"," UTC+0")+"",H=e[2].toTimeString().replace(":00 GMT"," UTC")+"";return{c(){t=h("You are in "),n=f("b"),r=h("Lobby "),s=h(E),l=h(" happening on\n    "),a=f("b"),o=h(z),i=f("br"),c=h("\n    (converted to your local time: "),m=f("b"),g=h(H),$=h(").\n    "),y=f("br"),v=f("br"),b=h("\n    The referee will ping you on Discord (make sure you are in our Discord) "),k=f("b"),k.textContent="15 minutes",x=h(" before the time"),S=f("br"),T=h("\n    and will invite you in the multiplayer lobby "),C=f("b"),C.textContent="5 minutes",_=h(" before the time. Make sure you are logged in the game by then!\n    "),q=f("br"),O=f("br"),j=h("\n    Once you are in the game, you will play all maps "),M=f("b"),M.textContent="2 times",N=h(":"),L=f("br"),P=h("\n    the best score on each map will count in the final qualifiers leaderboard and determine your seed.\n    "),D=f("br"),A=f("br")},m(e,d){p(e,t,d),p(e,n,d),u(n,r),u(n,s),p(e,l,d),p(e,a,d),u(a,o),p(e,i,d),p(e,c,d),p(e,m,d),u(m,g),p(e,$,d),p(e,y,d),p(e,v,d),p(e,b,d),p(e,k,d),p(e,x,d),p(e,S,d),p(e,T,d),p(e,C,d),p(e,_,d),p(e,q,d),p(e,O,d),p(e,j,d),p(e,M,d),p(e,N,d),p(e,L,d),p(e,P,d),p(e,D,d),p(e,A,d)},p(e,t){1&t&&E!==(E=e[0].qualifier.name+"")&&w(s,E),4&t&&z!==(z=e[2].toUTCString().replace(":00 GMT"," UTC+0")+"")&&w(o,z),4&t&&H!==(H=e[2].toTimeString().replace(":00 GMT"," UTC")+"")&&w(g,H)},d(e){e&&d(t),e&&d(n),e&&d(l),e&&d(a),e&&d(i),e&&d(c),e&&d(m),e&&d($),e&&d(y),e&&d(v),e&&d(b),e&&d(k),e&&d(x),e&&d(S),e&&d(T),e&&d(C),e&&d(_),e&&d(q),e&&d(O),e&&d(j),e&&d(M),e&&d(N),e&&d(L),e&&d(P),e&&d(D),e&&d(A)}}}function on(e){let t,n,r,s,l=[],a=new tn,o=[],i=new tn,c=e[3];const u=e=>e[11].id;for(let t=0;t<c.length;t+=1){let n=rn(e,c,t),r=u(n);a.set(r,l[t]=un(r,n))}let m=e[1];const h=e=>e[8].name;for(let t=0;t<m.length;t+=1){let n=nn(e,m,t),r=h(n);i.set(r,o[t]=pn(r,n))}return{c(){t=f("p");for(let e=0;e<l.length;e+=1)l[e].c();n=g(),r=f("p");for(let e=0;e<o.length;e+=1)o[e].c();v(t,"class","maps svelte-1pt4gyt"),v(r,"class","lobbies svelte-1pt4gyt")},m(e,a){p(e,t,a);for(let e=0;e<l.length;e+=1)l[e].m(t,null);p(e,n,a),p(e,r,a);for(let e=0;e<o.length;e+=1)o[e].m(r,null);s=!0},p(e,n){8&n&&(c=e[3],G(),l=Y(l,n,u,1,e,c,a,t,F,un,null,rn),U()),51&n&&(m=e[1],G(),o=Y(o,n,h,1,e,m,i,r,F,pn,null,nn),U())},i(e){if(!s){for(let e=0;e<c.length;e+=1)I(l[e]);for(let e=0;e<m.length;e+=1)I(o[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)B(l[e]);for(let e=0;e<o.length;e+=1)B(o[e]);s=!1},d(e){e&&d(t);for(let e=0;e<l.length;e+=1)l[e].d();e&&d(n),e&&d(r);for(let e=0;e<o.length;e+=1)o[e].d()}}}function cn(e){let n;return{c(){n=f("p"),n.textContent="Loading qualifier lobbies...",v(n,"class","lobbies svelte-1pt4gyt")},m(e,t){p(e,n,t)},p:t,i:t,o:t,d(e){e&&d(n)}}}function un(e,t){let n,r,s;return r=new Xt({props:{map:t[11]}}),{key:e,first:null,c(){n=$(),Q(r.$$.fragment),this.first=n},m(e,t){p(e,n,t),K(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.map=t[11]),r.$set(s)},i(e){s||(I(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&d(n),V(r,e)}}}function pn(e,t){let n,r,s;return r=new Qt({props:{lobby:t[8],toggleAvailable:t[0]?.referee&&t[4](t[8]),setSchedule:t[0]?.player&&!t[0]?.qualifier?.link&&t[5](t[8])}}),{key:e,first:null,c(){n=$(),Q(r.$$.fragment),this.first=n},m(e,t){p(e,n,t),K(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.lobby=t[8]),3&n&&(s.toggleAvailable=t[0]?.referee&&t[4](t[8])),3&n&&(s.setSchedule=t[0]?.player&&!t[0]?.qualifier?.link&&t[5](t[8])),r.$set(s)},i(e){s||(I(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&d(n),V(r,e)}}}function dn(e){let t,n,r,s,l,a,o,i=e[0]?.player&&sn(e);const c=[cn,on],u=[];function m(e,t){return e[1]?1:0}return s=m(e),l=u[s]=c[s](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers">Player ranking</a>',n=g(),i&&i.c(),r=g(),l.c(),a=$(),v(t,"class","links svelte-1pt4gyt")},m(e,l){p(e,t,l),p(e,n,l),i&&i.m(e,l),p(e,r,l),u[s].m(e,l),p(e,a,l),o=!0},p(e,[t]){e[0]?.player?i?i.p(e,t):(i=sn(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null);let n=s;s=m(e),s===n?u[s].p(e,t):(G(),B(u[n],1,1,(()=>{u[n]=null})),U(),l=u[s],l?l.p(e,t):(l=u[s]=c[s](e),l.c()),I(l,1),l.m(a.parentNode,a))},i(e){o||(I(l),o=!0)},o(e){B(l),o=!1},d(e){e&&d(t),e&&d(n),i&&i.d(e),e&&d(r),u[s].d(e),e&&d(a)}}}function mn(e,t,n){let r,s,l,a;o(e,Zt,(e=>n(1,s=e))),o(e,se,(e=>n(0,l=e))),o(e,en,(e=>n(3,a=e)));var i,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{i(r.next(e))}catch(e){l(e)}}function o(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}i((r=r.apply(e,t||[])).next())}))};s||(async()=>{const{data:e}=await me("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "qualifiers"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  qualifier_lobbies(sort: "time") {\n    name\n    link\n    players {\n      id\n      username\n    }\n    time\n    referee {\n      id\n      username\n    }\n    available_referees {\n      rel_id: id\n      referee: referees_id {\n        id\n        username\n      }\n    }\n  }\n}'})});Zt.set(e.qualifier_lobbies),en.set(e.maps)})();return e.$$.update=()=>{65&e.$$.dirty&&n(2,r=new Date(null===n(6,i=null==l?void 0:l.qualifier)||void 0===i?void 0:i.time))},[l,s,r,a,e=>()=>c(void 0,void 0,void 0,(function*(){const t=e.available_referees.find((({referee:e})=>e.id==l.id)),n=yield me(`/items/qualifier_lobbies/${e.name}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({available_referees:t?{delete:[t.rel_id]}:{create:[{referees_id:l.id}]}})});n.errors?alert(n.errors[0].message):Zt.set(s.map((r=>(r.name!=e.name||(t?r.available_referees=r.available_referees.filter((({referee:e})=>e.id!=l.id)):r.available_referees.push({rel_id:n.data.available_referees.pop(),referee:l.referee})),r))))})),e=>()=>c(void 0,void 0,void 0,(function*(){const t=yield me("/custom/qualifiers/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qualifier:e.name})});t.errors&&alert(t.errors[0].message),location.reload()})),i]}class fn extends ee{constructor(e){super(),Z(this,e,mn,dn,a,{})}}function hn(e){let n,r,s,l,a,o,i,c,m,$,y,b,k,S,T,C,_,q,O,j,M,N,L,P,D,A,E,z,H,R,G,U,I,B,W,J,F=e[1].position+"",Y=e[0].username+"",Q=e[1].score+"",K=e[3].toFixed(2)+"",V=e[1].combo+"",X=e[1].c320+"",Z=e[1].c300+"",ee=e[1].c200+"",te=e[1].c100+"",ne=e[1].c50+"",re=e[1].c0+"";return{c(){n=f("div"),r=f("div"),s=h(F),l=h("."),a=g(),o=f("div"),i=f("a"),c=h(Y),$=g(),y=f("div"),b=h(Q),k=g(),S=f("div"),T=h(K),C=h("%, x"),_=h(V),q=g(),O=f("div"),j=f("div"),M=h(X),N=g(),L=f("div"),P=h(Z),D=g(),A=f("div"),E=h(ee),z=g(),H=f("div"),R=h(te),G=g(),U=f("div"),I=h(ne),B=g(),W=f("div"),J=h(re),v(r,"class","position svelte-1m6wbdm"),v(i,"href",m=`https://osu.ppy.sh/users/${e[0].id}`),v(i,"target","_blank"),v(i,"rel","noopener"),v(o,"class","player svelte-1m6wbdm"),v(S,"class","details svelte-1m6wbdm"),v(y,"class","value svelte-1m6wbdm"),v(j,"class","judgement svelte-1m6wbdm"),v(L,"class","judgement svelte-1m6wbdm"),v(A,"class","judgement svelte-1m6wbdm"),v(H,"class","judgement svelte-1m6wbdm"),v(U,"class","judgement svelte-1m6wbdm"),v(W,"class","judgement svelte-1m6wbdm"),v(O,"class","judgements svelte-1m6wbdm"),v(n,"class","score svelte-1m6wbdm"),x(n,"me",e[2]?.id==e[0].id)},m(e,t){p(e,n,t),u(n,r),u(r,s),u(r,l),u(n,a),u(n,o),u(o,i),u(i,c),u(n,$),u(n,y),u(y,b),u(y,k),u(y,S),u(S,T),u(S,C),u(S,_),u(n,q),u(n,O),u(O,j),u(j,M),u(O,N),u(O,L),u(L,P),u(O,D),u(O,A),u(A,E),u(O,z),u(O,H),u(H,R),u(O,G),u(O,U),u(U,I),u(O,B),u(O,W),u(W,J)},p(e,[t]){2&t&&F!==(F=e[1].position+"")&&w(s,F),1&t&&Y!==(Y=e[0].username+"")&&w(c,Y),1&t&&m!==(m=`https://osu.ppy.sh/users/${e[0].id}`)&&v(i,"href",m),2&t&&Q!==(Q=e[1].score+"")&&w(b,Q),2&t&&V!==(V=e[1].combo+"")&&w(_,V),2&t&&X!==(X=e[1].c320+"")&&w(M,X),2&t&&Z!==(Z=e[1].c300+"")&&w(P,Z),2&t&&ee!==(ee=e[1].c200+"")&&w(E,ee),2&t&&te!==(te=e[1].c100+"")&&w(R,te),2&t&&ne!==(ne=e[1].c50+"")&&w(I,ne),2&t&&re!==(re=e[1].c0+"")&&w(J,re),5&t&&x(n,"me",e[2]?.id==e[0].id)},i:t,o:t,d(e){e&&d(n)}}}function gn(e,t,n){let r;o(e,se,(e=>n(2,r=e)));let{player:s}=t,{score:l}=t;const a=l.c320+l.c300+l.c200+l.c100+l.c50+l.c0,i=(305*l.c320+300*l.c300+200*l.c200+100*l.c100+50*l.c50)/(3.05*a);return e.$$set=e=>{"player"in e&&n(0,s=e.player),"score"in e&&n(1,l=e.score)},[s,l,r,i]}class $n extends ee{constructor(e){super(),Z(this,e,gn,hn,a,{player:0,score:1})}}const yn=ne(null),vn=ne(null),bn=ne(null),wn=ne(null),kn=ne(null),xn=async e=>{var t,n;const r=e.filter((e=>!e.elite)),s=e.filter((e=>e.elite)),{data:l}=await me("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "qualifiers"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  qualifier_scores(sort: "-score", limit: -1) {\n    player {\n      id\n    }\n    map {\n      id\n    }\n    lobby {\n      name\n      link\n    }\n    score\n    combo\n    c320\n    c300\n    c200\n    c100\n    c50\n    c0\n  }\n}'})}),a=e=>[e.id,Object.assign(Object.assign({},e),{players:new Map})],o=new Map(l.maps.map(a)),i=new Map(l.maps.map(a)),c=t=>[t.id,Object.assign(Object.assign({},t),{totalScore:0,sumOfPositions:e.length*l.maps.length,mapScores:new Map(l.maps.map((e=>[e.id,[]])))})],u=new Map(r.map(c)),p=new Map(s.map(c));l.qualifier_scores.forEach((e=>{var t,n;let r;if(r=u.get(null===(t=e.player)||void 0===t?void 0:t.id)){if(!o.has(e.map.id))return;r.mapScores.get(e.map.id).push(e);const t=o.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,r)}else if(r=p.get(null===(n=e.player)||void 0===n?void 0:n.id)){if(!i.has(e.map.id))return;r.mapScores.get(e.map.id).push(e);const t=i.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,r)}}));for(const e of o.values()){const n=Array.from(e.players.values());for(let r=0;r<n.length;++r){const s=n[r].mapScores.get(e.id)[0],l=null===(t=n[r-1])||void 0===t?void 0:t.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}for(const e of i.values()){const t=Array.from(e.players.values());for(let r=0;r<t.length;++r){const s=t[r].mapScores.get(e.id)[0],l=null===(n=t[r-1])||void 0===n?void 0:n.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}for(const t of u.values())t.sumOfPositions=l.maps.reduce(((n,r)=>{var s,l;return t.totalScore+=null===(s=t.mapScores.get(r.id)[0])||void 0===s?void 0:s.score,n+((null===(l=t.mapScores.get(r.id)[0])||void 0===l?void 0:l.position)||e.length)}),0);for(const t of p.values())t.sumOfPositions=l.maps.reduce(((n,r)=>{var s,l;return t.totalScore+=null===(s=t.mapScores.get(r.id)[0])||void 0===s?void 0:s.score,n+((null===(l=t.mapScores.get(r.id)[0])||void 0===l?void 0:l.position)||e.length)}),0);const d=(e,t)=>e.sumOfPositions==t.sumOfPositions?e.totalScore<t.totalScore?1:-1:e.sumOfPositions<t.sumOfPositions?-1:1,m=Array.from(u.values()).sort(d),f=Array.from(p.values()).sort(d);m.forEach(((e,t)=>e.position=t+1)),f.forEach(((e,t)=>e.position=t+1)),yn.set(Array.from(o.values())),bn.set(Array.from(i.values())),vn.set(m),wn.set(f)},Sn=(e,t)=>{const n=e.findIndex((e=>e.id==(null==t?void 0:t.id)));n>-1&&kn.set(Object.assign(Object.assign({},e[n]),{position:n+1}))},{Map:Tn}=W;function Cn(e,t,n){const r=e.slice();return r[8]=t[n],r}function _n(e,t,n){const r=e.slice();return r[11]=t[n],r}function qn(e){let t,n,r=[],s=new Tn,l=e[0];const a=e=>e[8].id;for(let t=0;t<l.length;t+=1){let n=Cn(e,l,t),o=a(n);s.set(o,r[t]=Ln(o,n))}return{c(){t=f("p");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","maps svelte-1pnvguw")},m(e,s){p(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){15&n&&(l=e[0],G(),r=Y(r,n,a,1,e,l,s,t,F,Ln,null,Cn),U())},i(e){if(!n){for(let e=0;e<l.length;e+=1)I(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){e&&d(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function On(e){let n;return{c(){n=f("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){p(e,n,t)},p:t,i:t,o:t,d(e){e&&d(n)}}}function jn(e){let t,n,r;return n=new $n({props:{player:e[1],score:e[1].mapScores.get(e[8].id)[0]}}),{c(){t=f("div"),Q(n.$$.fragment),v(t,"class","my-qualifier svelte-1pnvguw")},m(e,s){p(e,t,s),K(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.player=e[1]),3&t&&(r.score=e[1].mapScores.get(e[8].id)[0]),n.$set(r)},i(e){r||(I(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){e&&d(t),V(n)}}}function Mn(e){let t,n,r=[],s=new Tn,l=Array.from(e[8].players.values());const a=e=>e[11].id;for(let t=0;t<l.length;t+=1){let n=_n(e,l,t),o=a(n);s.set(o,r[t]=Nn(o,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);p(e,t,s),n=!0},p(e,n){1&n&&(l=Array.from(e[8].players.values()),G(),r=Y(r,n,a,1,e,l,s,t.parentNode,F,Nn,t,_n),U())},i(e){if(!n){for(let e=0;e<l.length;e+=1)I(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&d(t)}}}function Nn(e,t){let n,r,s;return r=new $n({props:{player:t[11],score:t[11].mapScores.get(t[8].id)[0]}}),{key:e,first:null,c(){n=$(),Q(r.$$.fragment),this.first=n},m(e,t){p(e,n,t),K(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.player=t[11]),1&n&&(s.score=t[11].mapScores.get(t[8].id)[0]),r.$set(s)},i(e){s||(I(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&d(n),V(r,e)}}}function Ln(e,t){let n,r,s,l,a,o,i,c,m,b,k,x,S=t[2][t[8].id]?"Show":"Hide";r=new Xt({props:{map:t[8]}});let T=t[1]&&jn(t);function C(){return t[7](t[8])}let _=!t[2][t[8].id]&&Mn(t);return{key:e,first:null,c(){n=$(),Q(r.$$.fragment),s=g(),T&&T.c(),l=g(),a=f("a"),o=h(S),i=h(" scores"),c=g(),_&&_.c(),m=$(),v(a,"href","javascript:void(0)"),this.first=n},m(e,t){p(e,n,t),K(r,e,t),p(e,s,t),T&&T.m(e,t),p(e,l,t),p(e,a,t),u(a,o),u(a,i),p(e,c,t),_&&_.m(e,t),p(e,m,t),b=!0,k||(x=y(a,"click",C),k=!0)},p(e,n){t=e;const s={};1&n&&(s.map=t[8]),r.$set(s),t[1]?T?(T.p(t,n),2&n&&I(T,1)):(T=jn(t),T.c(),I(T,1),T.m(l.parentNode,l)):T&&(G(),B(T,1,1,(()=>{T=null})),U()),(!b||5&n)&&S!==(S=t[2][t[8].id]?"Show":"Hide")&&w(o,S),t[2][t[8].id]?_&&(G(),B(_,1,1,(()=>{_=null})),U()):_?(_.p(t,n),5&n&&I(_,1)):(_=Mn(t),_.c(),I(_,1),_.m(m.parentNode,m))},i(e){b||(I(r.$$.fragment,e),I(T),I(_),b=!0)},o(e){B(r.$$.fragment,e),B(T),B(_),b=!1},d(e){e&&d(n),V(r,e),e&&d(s),T&&T.d(e),e&&d(l),e&&d(a),e&&d(c),_&&_.d(e),e&&d(m),k=!1,x()}}}function Pn(e){let t,n,r,s,l,a;const o=[On,qn],i=[];function c(e,t){return e[0]?1:0}return r=c(e),s=i[r]=o[r](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers">Player rankings</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!elite!maps">Elite players</a>',n=g(),s.c(),l=$(),v(t,"class","links svelte-1pnvguw")},m(e,s){p(e,t,s),p(e,n,s),i[r].m(e,s),p(e,l,s),a=!0},p(e,[t]){let n=r;r=c(e),r===n?i[r].p(e,t):(G(),B(i[n],1,1,(()=>{i[n]=null})),U(),s=i[r],s?s.p(e,t):(s=i[r]=o[r](e),s.c()),I(s,1),s.m(l.parentNode,l))},i(e){a||(I(s),a=!0)},o(e){B(s),a=!1},d(e){e&&d(t),e&&d(n),i[r].d(e),e&&d(l)}}}function Dn(e,t,n){let r,s,l,a,i;o(e,yn,(e=>n(0,r=e))),o(e,le,(e=>n(4,s=e))),o(e,kn,(e=>n(1,l=e))),o(e,vn,(e=>n(5,a=e))),o(e,se,(e=>n(6,i=e)));let c={};const u=e=>{n(2,c=Object.assign(Object.assign({},c),{[e.id]:!c[e.id]}))};return e.$$.update=()=>{17&e.$$.dirty&&!r&&s&&xn(s),98&e.$$.dirty&&!l&&a&&i&&Sn(a,i)},[r,l,c,u,s,a,i,e=>u(e)]}class An extends ee{constructor(e){super(),Z(this,e,Dn,Pn,a,{})}}function En(e,t,n){const r=e.slice();return r[4]=t[n],r}function zn(e,t){let n,r,s,l,a,o,i=(t[1].mapScores.get(t[4].id)[0]?.score||"N/A")+"",c=(t[1].mapScores.get(t[4].id)[0]?.position||"-")+"";return{key:e,first:null,c(){n=f("div"),r=h(i),s=f("br"),l=h("\n      ("),a=h(c),o=h(")\n    "),v(n,"class","score svelte-nyb024"),this.first=n},m(e,t){p(e,n,t),u(n,r),u(n,s),u(n,l),u(n,a),u(n,o)},p(e,n){t=e,6&n&&i!==(i=(t[1].mapScores.get(t[4].id)[0]?.score||"N/A")+"")&&w(r,i),6&n&&c!==(c=(t[1].mapScores.get(t[4].id)[0]?.position||"-")+"")&&w(a,c)},d(e){e&&d(n)}}}function Hn(e){let n,r,s,l,a,o,i,c,m,$,y,b,k,x,S,T,C,_,q,O,j,M,N,L,P,D,A,E=e[1].username+"",z=e[1].ranking+"",H=e[1].country+"",R=e[2].map(e[3]).join(" + ")+"",G=e[1].sumOfPositions+"",U=e[1].totalScore+"",I=[],B=new Map,W=e[2];const F=e=>e[4].id;for(let t=0;t<W.length;t+=1){let n=En(e,W,t),r=F(n);B.set(r,I[t]=zn(r,n))}return{c(){n=f("a"),r=f("div"),s=f("img"),a=g(),o=f("div"),i=h(e[0]),c=h(". "),m=h(E),$=h(" (#"),y=h(z),b=h(")\n    "),k=f("div"),x=h(H),S=g(),T=f("div"),C=h(R),_=h("\n    =\n    "),q=f("b"),O=h(G),j=g(),M=f("div"),N=h("Total score: "),L=h(U),D=g(),A=f("div");for(let e=0;e<I.length;e+=1)I[e].c();v(s,"class","avatar svelte-nyb024"),s.src!==(l=e[1].avatar)&&v(s,"src",l),v(s,"alt",""),v(r,"class","avatar svelte-nyb024"),v(k,"class","country svelte-nyb024"),v(o,"class","name svelte-nyb024"),v(M,"class","total-score svelte-nyb024"),v(T,"class","positions svelte-nyb024"),v(n,"class","player svelte-nyb024"),v(n,"href",P=`https://osu.ppy.sh/users/${e[1].id}`),v(n,"target","_blank"),v(n,"rel","noopener"),v(A,"class","scores svelte-nyb024")},m(e,t){p(e,n,t),u(n,r),u(r,s),u(n,a),u(n,o),u(o,i),u(o,c),u(o,m),u(o,$),u(o,y),u(o,b),u(o,k),u(k,x),u(n,S),u(n,T),u(T,C),u(T,_),u(T,q),u(q,O),u(T,j),u(T,M),u(M,N),u(M,L),p(e,D,t),p(e,A,t);for(let e=0;e<I.length;e+=1)I[e].m(A,null)},p(e,[t]){2&t&&s.src!==(l=e[1].avatar)&&v(s,"src",l),1&t&&w(i,e[0]),2&t&&E!==(E=e[1].username+"")&&w(m,E),2&t&&z!==(z=e[1].ranking+"")&&w(y,z),2&t&&H!==(H=e[1].country+"")&&w(x,H),6&t&&R!==(R=e[2].map(e[3]).join(" + ")+"")&&w(C,R),2&t&&G!==(G=e[1].sumOfPositions+"")&&w(O,G),2&t&&U!==(U=e[1].totalScore+"")&&w(L,U),2&t&&P!==(P=`https://osu.ppy.sh/users/${e[1].id}`)&&v(n,"href",P),6&t&&(W=e[2],I=Y(I,t,F,1,e,W,B,A,J,zn,null,En))},i:t,o:t,d(e){e&&d(n),e&&d(D),e&&d(A);for(let e=0;e<I.length;e+=1)I[e].d()}}}function Rn(e,t,n){let{position:r}=t,{player:s}=t,{maps:l}=t;return e.$$set=e=>{"position"in e&&n(0,r=e.position),"player"in e&&n(1,s=e.player),"maps"in e&&n(2,l=e.maps)},[r,s,l,e=>s.mapScores.get(e.id)[0]?.position||"N/A"]}class Gn extends ee{constructor(e){super(),Z(this,e,Rn,Hn,a,{position:0,player:1,maps:2})}}function Un(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function In(e){let t,n,r,s,l;return s=new Gn({props:{position:e[1].position,player:e[1],maps:e[2]}}),{c(){t=f("div"),n=f("h1"),n.textContent="Your placement",r=g(),Q(s.$$.fragment),v(t,"class","my-qualifier svelte-buidrs")},m(e,a){p(e,t,a),u(t,n),u(t,r),K(s,t,null),l=!0},p(e,t){const n={};2&t&&(n.position=e[1].position),2&t&&(n.player=e[1]),4&t&&(n.maps=e[2]),s.$set(n)},i(e){l||(I(s.$$.fragment,e),l=!0)},o(e){B(s.$$.fragment,e),l=!1},d(e){e&&d(t),V(s)}}}function Bn(e){let t,n,r=[],s=new Map,l=e[0];const a=e=>e[5].id;for(let t=0;t<l.length;t+=1){let n=Un(e,l,t),o=a(n);s.set(o,r[t]=Vn(o,n))}return{c(){t=f("div");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","players svelte-buidrs")},m(e,s){p(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){5&n&&(l=e[0],G(),r=Y(r,n,a,1,e,l,s,t,F,Vn,null,Un),U())},i(e){if(!n){for(let e=0;e<l.length;e+=1)I(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){e&&d(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Wn(e){let n;return{c(){n=f("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){p(e,n,t)},p:t,i:t,o:t,d(e){e&&d(n)}}}function Jn(e){let t;return{c(){t=f("h1"),t.textContent="Not qualified"},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Fn(e){let t;return{c(){t=f("h1"),t.textContent="Bottom seed"},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Yn(e){let t;return{c(){t=f("h1"),t.textContent="Low seed"},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Qn(e){let t;return{c(){t=f("h1"),t.textContent="High seed"},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Kn(e){let t;return{c(){t=f("h1"),t.textContent="Top seed"},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Vn(e,t){let n,r,s,l;function a(e,t){return 0==e[7]?Kn:32==e[7]?Qn:64==e[7]?Yn:96==e[7]?Fn:128==e[7]?Jn:void 0}let o=a(t),i=o&&o(t);return s=new Gn({props:{position:t[7]+1,player:t[5],maps:t[2]}}),{key:e,first:null,c(){n=$(),i&&i.c(),r=g(),Q(s.$$.fragment),this.first=n},m(e,t){p(e,n,t),i&&i.m(e,t),p(e,r,t),K(s,e,t),l=!0},p(e,n){o!==(o=a(t=e))&&(i&&i.d(1),i=o&&o(t),i&&(i.c(),i.m(r.parentNode,r)));const l={};1&n&&(l.position=t[7]+1),1&n&&(l.player=t[5]),4&n&&(l.maps=t[2]),s.$set(l)},i(e){l||(I(s.$$.fragment,e),l=!0)},o(e){B(s.$$.fragment,e),l=!1},d(e){e&&d(n),i&&i.d(e),e&&d(r),V(s,e)}}}function Xn(e){let t,n,r,s,l,a,o,i=e[1]&&In(e);const c=[Wn,Bn],u=[];function m(e,t){return e[0]?1:0}return s=m(e),l=u[s]=c[s](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!elite">Elite players</a>',n=g(),i&&i.c(),r=g(),l.c(),a=$(),v(t,"class","links svelte-buidrs")},m(e,l){p(e,t,l),p(e,n,l),i&&i.m(e,l),p(e,r,l),u[s].m(e,l),p(e,a,l),o=!0},p(e,[t]){e[1]?i?(i.p(e,t),2&t&&I(i,1)):(i=In(e),i.c(),I(i,1),i.m(r.parentNode,r)):i&&(G(),B(i,1,1,(()=>{i=null})),U());let n=s;s=m(e),s===n?u[s].p(e,t):(G(),B(u[n],1,1,(()=>{u[n]=null})),U(),l=u[s],l?l.p(e,t):(l=u[s]=c[s](e),l.c()),I(l,1),l.m(a.parentNode,a))},i(e){o||(I(i),I(l),o=!0)},o(e){B(i),B(l),o=!1},d(e){e&&d(t),e&&d(n),i&&i.d(e),e&&d(r),u[s].d(e),e&&d(a)}}}function Zn(e,t,n){let r,s,l,a,i;return o(e,vn,(e=>n(0,r=e))),o(e,le,(e=>n(3,s=e))),o(e,kn,(e=>n(1,l=e))),o(e,se,(e=>n(4,a=e))),o(e,yn,(e=>n(2,i=e))),e.$$.update=()=>{9&e.$$.dirty&&!r&&s&&xn(s),19&e.$$.dirty&&!l&&r&&a&&Sn(r,a)},[r,l,i,s,a]}class er extends ee{constructor(e){super(),Z(this,e,Zn,Xn,a,{})}}const{Map:tr}=W;function nr(e,t,n){const r=e.slice();return r[8]=t[n],r}function rr(e,t,n){const r=e.slice();return r[11]=t[n],r}function sr(e){let t,n,r=[],s=new tr,l=e[0];const a=e=>e[8].id;for(let t=0;t<l.length;t+=1){let n=nr(e,l,t),o=a(n);s.set(o,r[t]=cr(o,n))}return{c(){t=f("p");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","maps svelte-1pnvguw")},m(e,s){p(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){15&n&&(l=e[0],G(),r=Y(r,n,a,1,e,l,s,t,F,cr,null,nr),U())},i(e){if(!n){for(let e=0;e<l.length;e+=1)I(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){e&&d(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function lr(e){let n;return{c(){n=f("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){p(e,n,t)},p:t,i:t,o:t,d(e){e&&d(n)}}}function ar(e){let t,n,r;return n=new $n({props:{player:e[1],score:e[1].mapScores.get(e[8].id)[0]}}),{c(){t=f("div"),Q(n.$$.fragment),v(t,"class","my-qualifier svelte-1pnvguw")},m(e,s){p(e,t,s),K(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.player=e[1]),3&t&&(r.score=e[1].mapScores.get(e[8].id)[0]),n.$set(r)},i(e){r||(I(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){e&&d(t),V(n)}}}function or(e){let t,n,r=[],s=new tr,l=Array.from(e[8].players.values());const a=e=>e[11].id;for(let t=0;t<l.length;t+=1){let n=rr(e,l,t),o=a(n);s.set(o,r[t]=ir(o,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);p(e,t,s),n=!0},p(e,n){1&n&&(l=Array.from(e[8].players.values()),G(),r=Y(r,n,a,1,e,l,s,t.parentNode,F,ir,t,rr),U())},i(e){if(!n){for(let e=0;e<l.length;e+=1)I(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&d(t)}}}function ir(e,t){let n,r,s;return r=new $n({props:{player:t[11],score:t[11].mapScores.get(t[8].id)[0]}}),{key:e,first:null,c(){n=$(),Q(r.$$.fragment),this.first=n},m(e,t){p(e,n,t),K(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.player=t[11]),1&n&&(s.score=t[11].mapScores.get(t[8].id)[0]),r.$set(s)},i(e){s||(I(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&d(n),V(r,e)}}}function cr(e,t){let n,r,s,l,a,o,i,c,m,b,k,x,S=t[2][t[8].id]?"Show":"Hide";r=new Xt({props:{map:t[8]}});let T=t[1]&&ar(t);function C(){return t[7](t[8])}let _=!t[2][t[8].id]&&or(t);return{key:e,first:null,c(){n=$(),Q(r.$$.fragment),s=g(),T&&T.c(),l=g(),a=f("a"),o=h(S),i=h(" scores"),c=g(),_&&_.c(),m=$(),v(a,"href","javascript:void(0)"),this.first=n},m(e,t){p(e,n,t),K(r,e,t),p(e,s,t),T&&T.m(e,t),p(e,l,t),p(e,a,t),u(a,o),u(a,i),p(e,c,t),_&&_.m(e,t),p(e,m,t),b=!0,k||(x=y(a,"click",C),k=!0)},p(e,n){t=e;const s={};1&n&&(s.map=t[8]),r.$set(s),t[1]?T?(T.p(t,n),2&n&&I(T,1)):(T=ar(t),T.c(),I(T,1),T.m(l.parentNode,l)):T&&(G(),B(T,1,1,(()=>{T=null})),U()),(!b||5&n)&&S!==(S=t[2][t[8].id]?"Show":"Hide")&&w(o,S),t[2][t[8].id]?_&&(G(),B(_,1,1,(()=>{_=null})),U()):_?(_.p(t,n),5&n&&I(_,1)):(_=or(t),_.c(),I(_,1),_.m(m.parentNode,m))},i(e){b||(I(r.$$.fragment,e),I(T),I(_),b=!0)},o(e){B(r.$$.fragment,e),B(T),B(_),b=!1},d(e){e&&d(n),V(r,e),e&&d(s),T&&T.d(e),e&&d(l),e&&d(a),e&&d(c),_&&_.d(e),e&&d(m),k=!1,x()}}}function ur(e){let t,n,r,s,l,a;const o=[lr,sr],i=[];function c(e,t){return e[0]?1:0}return r=c(e),s=i[r]=o[r](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers">Player rankings</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!maps">Regular players</a>',n=g(),s.c(),l=$(),v(t,"class","links svelte-1pnvguw")},m(e,s){p(e,t,s),p(e,n,s),i[r].m(e,s),p(e,l,s),a=!0},p(e,[t]){let n=r;r=c(e),r===n?i[r].p(e,t):(G(),B(i[n],1,1,(()=>{i[n]=null})),U(),s=i[r],s?s.p(e,t):(s=i[r]=o[r](e),s.c()),I(s,1),s.m(l.parentNode,l))},i(e){a||(I(s),a=!0)},o(e){B(s),a=!1},d(e){e&&d(t),e&&d(n),i[r].d(e),e&&d(l)}}}function pr(e,t,n){let r,s,l,a,i;o(e,bn,(e=>n(0,r=e))),o(e,le,(e=>n(4,s=e))),o(e,kn,(e=>n(1,l=e))),o(e,wn,(e=>n(5,a=e))),o(e,se,(e=>n(6,i=e)));let c={};const u=e=>{n(2,c=Object.assign(Object.assign({},c),{[e.id]:!c[e.id]}))};return e.$$.update=()=>{17&e.$$.dirty&&!r&&s&&xn(s),98&e.$$.dirty&&!l&&a&&i&&Sn(a,i)},[r,l,c,u,s,a,i,e=>u(e)]}class dr extends ee{constructor(e){super(),Z(this,e,pr,ur,a,{})}}function mr(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function fr(e){let t,n,r,s,l;return s=new Gn({props:{position:e[1].position,player:e[1],maps:e[2]}}),{c(){t=f("div"),n=f("h1"),n.textContent="Your placement",r=g(),Q(s.$$.fragment),v(t,"class","my-qualifier svelte-buidrs")},m(e,a){p(e,t,a),u(t,n),u(t,r),K(s,t,null),l=!0},p(e,t){const n={};2&t&&(n.position=e[1].position),2&t&&(n.player=e[1]),4&t&&(n.maps=e[2]),s.$set(n)},i(e){l||(I(s.$$.fragment,e),l=!0)},o(e){B(s.$$.fragment,e),l=!1},d(e){e&&d(t),V(s)}}}function hr(e){let t,n,r,s,l=[],a=new Map,o=e[0];const i=e=>e[5].id;for(let t=0;t<o.length;t+=1){let n=mr(e,o,t),r=i(n);a.set(r,l[t]=$r(r,n))}return{c(){t=f("div"),n=f("h1"),n.textContent="Elite players",r=g();for(let e=0;e<l.length;e+=1)l[e].c();v(t,"class","players svelte-buidrs")},m(e,a){p(e,t,a),u(t,n),u(t,r);for(let e=0;e<l.length;e+=1)l[e].m(t,null);s=!0},p(e,n){5&n&&(o=e[0],G(),l=Y(l,n,i,1,e,o,a,t,F,$r,null,mr),U())},i(e){if(!s){for(let e=0;e<o.length;e+=1)I(l[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)B(l[e]);s=!1},d(e){e&&d(t);for(let e=0;e<l.length;e+=1)l[e].d()}}}function gr(e){let n;return{c(){n=f("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){p(e,n,t)},p:t,i:t,o:t,d(e){e&&d(n)}}}function $r(e,t){let n,r,s;return r=new Gn({props:{position:t[7]+1,player:t[5],maps:t[2]}}),{key:e,first:null,c(){n=$(),Q(r.$$.fragment),this.first=n},m(e,t){p(e,n,t),K(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.position=t[7]+1),1&n&&(s.player=t[5]),4&n&&(s.maps=t[2]),r.$set(s)},i(e){s||(I(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&d(n),V(r,e)}}}function yr(e){let t,n,r,s,l,a,o,i=e[1]&&fr(e);const c=[gr,hr],u=[];function m(e,t){return e[0]?1:0}return s=m(e),l=u[s]=c[s](e),{c(){t=f("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers">Regular players</a>',n=g(),i&&i.c(),r=g(),l.c(),a=$(),v(t,"class","links svelte-buidrs")},m(e,l){p(e,t,l),p(e,n,l),i&&i.m(e,l),p(e,r,l),u[s].m(e,l),p(e,a,l),o=!0},p(e,[t]){e[1]?i?(i.p(e,t),2&t&&I(i,1)):(i=fr(e),i.c(),I(i,1),i.m(r.parentNode,r)):i&&(G(),B(i,1,1,(()=>{i=null})),U());let n=s;s=m(e),s===n?u[s].p(e,t):(G(),B(u[n],1,1,(()=>{u[n]=null})),U(),l=u[s],l?l.p(e,t):(l=u[s]=c[s](e),l.c()),I(l,1),l.m(a.parentNode,a))},i(e){o||(I(i),I(l),o=!0)},o(e){B(i),B(l),o=!1},d(e){e&&d(t),e&&d(n),i&&i.d(e),e&&d(r),u[s].d(e),e&&d(a)}}}function vr(e,t,n){let r,s,l,a,i;return o(e,wn,(e=>n(0,r=e))),o(e,le,(e=>n(3,s=e))),o(e,kn,(e=>n(1,l=e))),o(e,se,(e=>n(4,a=e))),o(e,bn,(e=>n(2,i=e))),e.$$.update=()=>{9&e.$$.dirty&&!r&&s&&xn(s),19&e.$$.dirty&&!l&&r&&a&&Sn(r,a)},[r,l,i,s,a]}class br extends ee{constructor(e){super(),Z(this,e,vr,yr,a,{})}}function wr(e,t,n){const r=e.slice();return r[6]=t[n].commentator,r[8]=n,r}function kr(e){let t,n,r,s,l=e[3].group.id+"",a=e[0].id+"";return{c(){t=h("G"),n=h(l),r=h("-"),s=h(a)},m(e,l){p(e,t,l),p(e,n,l),p(e,r,l),p(e,s,l)},p(e,t){1&t&&a!==(a=e[0].id+"")&&w(s,a)},d(e){e&&d(t),e&&d(n),e&&d(r),e&&d(s)}}}function xr(e){let t,n,r,s,l,a,o=e[3].group.id+"",i=e[0].id+"";return{c(){t=f("a"),n=h("G"),r=h(o),s=h("-"),l=h(i),v(t,"href",a=e[0].link),v(t,"target","_blank"),v(t,"rel","noopener")},m(e,a){p(e,t,a),u(t,n),u(t,r),u(t,s),u(t,l)},p(e,n){1&n&&i!==(i=e[0].id+"")&&w(l,i),1&n&&a!==(a=e[0].link)&&v(t,"href",a)},d(e){e&&d(t)}}}function Sr(e){let n;return{c(){n=h("To be defined")},m(e,t){p(e,n,t)},p:t,d(e){e&&d(n)}}}function Tr(e){let t,n,r,s=e[0].referee.username+"";return{c(){t=f("a"),n=h(s),v(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){p(e,t,r),u(t,n)},p(e,l){1&l&&s!==(s=e[0].referee.username+"")&&w(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&v(t,"href",r)},d(e){e&&d(t)}}}function Cr(e){let t,n,r,s,l,a,o=e[0].streamer.username+"";return{c(){t=h("-\n        "),n=f("b"),n.textContent="Streamer",r=h(":\n        "),s=f("a"),l=h(o),v(s,"href",a=`https://osu.ppy.sh/users/${e[0].streamer.id}`)},m(e,a){p(e,t,a),p(e,n,a),p(e,r,a),p(e,s,a),u(s,l)},p(e,t){1&t&&o!==(o=e[0].streamer.username+"")&&w(l,o),1&t&&a!==(a=`https://osu.ppy.sh/users/${e[0].streamer.id}`)&&v(s,"href",a)},d(e){e&&d(t),e&&d(n),e&&d(r),e&&d(s)}}}function _r(e){let t,n,r,s,l=e[0].commentators,a=[];for(let t=0;t<l.length;t+=1)a[t]=qr(wr(e,l,t));return{c(){t=h("-\n        "),n=f("b"),n.textContent="Commentators",r=h(":\n        ");for(let e=0;e<a.length;e+=1)a[e].c();s=$()},m(e,l){p(e,t,l),p(e,n,l),p(e,r,l);for(let t=0;t<a.length;t+=1)a[t].m(e,l);p(e,s,l)},p(e,t){if(1&t){let n;for(l=e[0].commentators,n=0;n<l.length;n+=1){const r=wr(e,l,n);a[n]?a[n].p(r,t):(a[n]=qr(r),a[n].c(),a[n].m(s.parentNode,s))}for(;n<a.length;n+=1)a[n].d(1);a.length=l.length}},d(e){e&&d(t),e&&d(n),e&&d(r),m(a,e),e&&d(s)}}}function qr(e){let t,n,r,s,l=e[6].username+"",a=e[8]&&function(e){let t;return{c(){t=h(",")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}();return{c(){a&&a.c(),t=g(),n=f("a"),r=h(l),v(n,"href",s=`https://osu.ppy.sh/users/${e[6].id}`)},m(e,s){a&&a.m(e,s),p(e,t,s),p(e,n,s),u(n,r)},p(e,t){1&t&&l!==(l=e[6].username+"")&&w(r,l),1&t&&s!==(s=`https://osu.ppy.sh/users/${e[6].id}`)&&v(n,"href",s)},d(e){a&&a.d(e),e&&d(t),e&&d(n)}}}function Or(e){let n,r,s,l,a,o,i,c,m,$,b,k,S,T,C,_,q,O,j,M,N,L,P,D,A,E,z,H,R,G,U,I,B,W,J,F,Y,Q,K,V,X,Z,ee,te,ne,re,se,le,ae=e[1].toDateString()+"",oe=e[1].toTimeString().replace(":00 GMT"," UTC")+"",ie=e[1].toUTCString().replace(":00 GMT"," UTC+0")+"",ce=e[3].username+"",ue=e[3].seed+"",pe=e[4].username+"",de=e[4].seed+"",me=(e[0].points1||0)+"",fe=(e[0].points2||0)+"";function he(e,t){return e[0].link?xr:kr}let ge=he(e),$e=ge(e);function ye(e,t){return e[0].referee?Tr:Sr}let ve=ye(e),be=ve(e),we=e[0].streamer&&Cr(e),ke=e[0].commentators.length&&_r(e);return{c(){n=f("div"),r=f("div"),$e.c(),s=g(),l=f("div"),a=f("div"),o=f("b"),i=h(ae),c=g(),m=h(oe),$=g(),b=f("div"),k=h(ie),S=g(),T=f("div"),C=f("b"),C.textContent="Referee",_=h(":\n      "),be.c(),q=g(),we&&we.c(),O=g(),ke&&ke.c(),j=g(),M=f("div"),N=f("div"),L=f("img"),D=g(),A=f("a"),E=h(ce),z=h(" (#"),H=h(ue),R=h(")"),G=g(),U=f("div"),U.textContent="vs.",I=g(),B=f("div"),W=f("img"),F=g(),Y=f("a"),Q=h(pe),K=h(" (#"),V=h(de),X=h(")"),Z=g(),ee=f("div"),te=h(me),ne=h(" - "),re=h(fe),v(r,"class","name svelte-1tuxpxq"),v(b,"class","utc svelte-1tuxpxq"),v(a,"class","time svelte-1tuxpxq"),v(T,"class","staff svelte-1tuxpxq"),v(L,"alt",""),L.src!==(P=e[3].avatar)&&v(L,"src",P),v(L,"class","svelte-1tuxpxq"),v(A,"href",`https://osu.ppy.sh/users/${e[3].id}`),v(N,"class","player svelte-1tuxpxq"),v(U,"class","vs svelte-1tuxpxq"),v(W,"alt",""),W.src!==(J=e[4].avatar)&&v(W,"src",J),v(W,"class","svelte-1tuxpxq"),v(Y,"href",`https://osu.ppy.sh/users/${e[4].id}`),v(B,"class","player svelte-1tuxpxq"),v(M,"class","players svelte-1tuxpxq"),v(l,"class","body svelte-1tuxpxq"),v(ee,"class","score svelte-1tuxpxq"),v(n,"class","match svelte-1tuxpxq"),x(n,"my-match",e[2]?.id==e[3].id||e[2]?.id==e[4].id)},m(t,d){p(t,n,d),u(n,r),$e.m(r,null),u(n,s),u(n,l),u(l,a),u(a,o),u(o,i),u(o,c),u(o,m),u(a,$),u(a,b),u(b,k),u(l,S),u(l,T),u(T,C),u(T,_),be.m(T,null),u(T,q),we&&we.m(T,null),u(T,O),ke&&ke.m(T,null),u(l,j),u(l,M),u(M,N),u(N,L),u(N,D),u(N,A),u(A,E),u(A,z),u(A,H),u(A,R),u(M,G),u(M,U),u(M,I),u(M,B),u(B,W),u(B,F),u(B,Y),u(Y,Q),u(Y,K),u(Y,V),u(Y,X),u(n,Z),u(n,ee),u(ee,te),u(ee,ne),u(ee,re),se||(le=y(n,"click",e[5]),se=!0)},p(e,[t]){ge===(ge=he(e))&&$e?$e.p(e,t):($e.d(1),$e=ge(e),$e&&($e.c(),$e.m(r,null))),2&t&&ae!==(ae=e[1].toDateString()+"")&&w(i,ae),2&t&&oe!==(oe=e[1].toTimeString().replace(":00 GMT"," UTC")+"")&&w(m,oe),2&t&&ie!==(ie=e[1].toUTCString().replace(":00 GMT"," UTC+0")+"")&&w(k,ie),ve===(ve=ye(e))&&be?be.p(e,t):(be.d(1),be=ve(e),be&&(be.c(),be.m(T,q))),e[0].streamer?we?we.p(e,t):(we=Cr(e),we.c(),we.m(T,O)):we&&(we.d(1),we=null),e[0].commentators.length?ke?ke.p(e,t):(ke=_r(e),ke.c(),ke.m(T,null)):ke&&(ke.d(1),ke=null),1&t&&me!==(me=(e[0].points1||0)+"")&&w(te,me),1&t&&fe!==(fe=(e[0].points2||0)+"")&&w(re,fe),28&t&&x(n,"my-match",e[2]?.id==e[3].id||e[2]?.id==e[4].id)},i:t,o:t,d(e){e&&d(n),$e.d(),be.d(),we&&we.d(),ke&&ke.d(),se=!1,le()}}}function jr(e,t,n){let r,s;o(e,se,(e=>n(2,s=e)));let{match:l}=t;const[a,i]=l.players.map((({player:e})=>e));return e.$$set=e=>{"match"in e&&n(0,l=e.match)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=new Date(l.time))},[l,r,s,a,i,function(t){_(e,t)}]}class Mr extends ee{constructor(e){super(),Z(this,e,jr,Or,a,{match:0})}}const Nr=ne(null),Lr=ne(null),{Map:Pr}=W;function Dr(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function Ar(e,t,n){const r=e.slice();return r[12]=t[n],r}function Er(e,t,n){const r=e.slice();return r[9]=t[n],r}function zr(e){let t,n,r,s,l,a,o,i,c,m,$,y,b,k,x=e[0].player.group.id+"",S=[],T=new Pr,C=e[3];const _=e=>e[9].id;for(let t=0;t<C.length;t+=1){let n=Er(e,C,t),r=_(n);T.set(r,S[t]=Hr(r,n))}return{c(){t=f("div"),n=h("Welcome to the Group Stage!"),r=f("br"),s=f("br"),l=h("\n  You will be facing every other player of your group once ("),a=f("b"),o=h("Group "),i=h(x),c=h(")!"),m=f("br"),$=h("\n  You can find the list of your own matches just below."),y=g(),b=f("div");for(let e=0;e<S.length;e+=1)S[e].c();v(t,"class","intro svelte-14l0ba5"),v(b,"class","matches svelte-14l0ba5")},m(e,d){p(e,t,d),u(t,n),u(t,r),u(t,s),u(t,l),u(t,a),u(a,o),u(a,i),u(t,c),u(t,m),u(t,$),p(e,y,d),p(e,b,d);for(let e=0;e<S.length;e+=1)S[e].m(b,null);k=!0},p(e,t){(!k||1&t)&&x!==(x=e[0].player.group.id+"")&&w(i,x),8&t&&(C=e[3],G(),S=Y(S,t,_,1,e,C,T,b,F,Hr,null,Er),U())},i(e){if(!k){for(let e=0;e<C.length;e+=1)I(S[e]);k=!0}},o(e){for(let e=0;e<S.length;e+=1)B(S[e]);k=!1},d(e){e&&d(t),e&&d(y),e&&d(b);for(let e=0;e<S.length;e+=1)S[e].d()}}}function Hr(e,t){let n,r,s;return r=new Mr({props:{match:t[9]}}),{key:e,first:null,c(){n=$(),Q(r.$$.fragment),this.first=n},m(e,t){p(e,n,t),K(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.match=t[9]),r.$set(s)},i(e){s||(I(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&d(n),V(r,e)}}}function Rr(e){let t,n,r,l,a,o,i,c,m,h,$,b=[],w=new Pr,k=[],x=new Pr,S=e[4];const T=e=>e[12].id;for(let t=0;t<S.length;t+=1){let n=Ar(e,S,t),r=T(n);w.set(r,b[t]=Ur(r,n))}let C=e[2];const _=e=>e[9].id;for(let t=0;t<C.length;t+=1){let n=Dr(e,C,t),r=_(n);x.set(r,k[t]=Br(r,n))}return{c(){t=f("div");for(let e=0;e<b.length;e+=1)b[e].c();n=g(),r=f("div"),l=f("div"),a=f("a"),a.textContent="Sort chronologically",o=g(),i=f("a"),i.textContent="Sort by group",c=g();for(let e=0;e<k.length;e+=1)k[e].c();v(t,"class","maps svelte-14l0ba5"),v(a,"href","javascript:void(0)"),v(i,"href","javascript:void(0)"),v(l,"class","matches-links svelte-14l0ba5"),v(r,"class","matches svelte-14l0ba5")},m(s,d){p(s,t,d);for(let e=0;e<b.length;e+=1)b[e].m(t,null);p(s,n,d),p(s,r,d),u(r,l),u(l,a),u(l,o),u(l,i),u(r,c);for(let e=0;e<k.length;e+=1)k[e].m(r,null);m=!0,h||($=[y(a,"click",e[6]),y(i,"click",e[5])],h=!0)},p(e,n){16&n&&(S=e[4],G(),b=Y(b,n,T,1,e,S,w,t,F,Ur,null,Ar),U()),6&n&&(C=e[2],G(),k=Y(k,n,_,1,e,C,x,r,F,Br,null,Dr),U())},i(e){if(!m){for(let e=0;e<S.length;e+=1)I(b[e]);for(let e=0;e<C.length;e+=1)I(k[e]);m=!0}},o(e){for(let e=0;e<b.length;e+=1)B(b[e]);for(let e=0;e<k.length;e+=1)B(k[e]);m=!1},d(e){e&&d(t);for(let e=0;e<b.length;e+=1)b[e].d();e&&d(n),e&&d(r);for(let e=0;e<k.length;e+=1)k[e].d();h=!1,s($)}}}function Gr(e){let n;return{c(){n=f("div"),n.textContent="Loading groups matches...",v(n,"class","matches svelte-14l0ba5")},m(e,t){p(e,n,t)},p:t,i:t,o:t,d(e){e&&d(n)}}}function Ur(e,t){let n,r,s;return r=new Xt({props:{map:t[12]}}),{key:e,first:null,c(){n=$(),Q(r.$$.fragment),this.first=n},m(e,t){p(e,n,t),K(r,e,t),s=!0},p(e,n){t=e;const s={};16&n&&(s.map=t[12]),r.$set(s)},i(e){s||(I(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&d(n),V(r,e)}}}function Ir(e){let t;return{c(){t=f("div"),v(t,"class","group-spacer svelte-14l0ba5")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Br(e,t){let n,r,s,l,a;r=new Mr({props:{match:t[9]}});let o=t[1]&&t[2][t[11]+1]?.players[0].player.group.id>t[9].players[0].player.group.id&&Ir();return{key:e,first:null,c(){n=$(),Q(r.$$.fragment),s=g(),o&&o.c(),l=$(),this.first=n},m(e,t){p(e,n,t),K(r,e,t),p(e,s,t),o&&o.m(e,t),p(e,l,t),a=!0},p(e,n){t=e;const s={};4&n&&(s.match=t[9]),r.$set(s),t[1]&&t[2][t[11]+1]?.players[0].player.group.id>t[9].players[0].player.group.id?o||(o=Ir(),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},i(e){a||(I(r.$$.fragment,e),a=!0)},o(e){B(r.$$.fragment,e),a=!1},d(e){e&&d(n),V(r,e),e&&d(s),o&&o.d(e),e&&d(l)}}}function Wr(e){let t,n,r,s,l,a,o,i=e[0]?.player?.group&&zr(e);const c=[Gr,Rr],u=[];function m(e,t){return e[2]?1:0}return s=m(e),l=u[s]=c[s](e),{c(){t=f("div"),t.innerHTML='<a href="#/groups!maps">Rankings per map</a> \n  <a href="#/groups!results">Groups results</a> \n  <a href="#/groups!rolls">Roll leaderboard</a>',n=g(),i&&i.c(),r=g(),l.c(),a=$(),v(t,"class","links svelte-14l0ba5")},m(e,l){p(e,t,l),p(e,n,l),i&&i.m(e,l),p(e,r,l),u[s].m(e,l),p(e,a,l),o=!0},p(e,[t]){e[0]?.player?.group?i?(i.p(e,t),1&t&&I(i,1)):(i=zr(e),i.c(),I(i,1),i.m(r.parentNode,r)):i&&(G(),B(i,1,1,(()=>{i=null})),U());let n=s;s=m(e),s===n?u[s].p(e,t):(G(),B(u[n],1,1,(()=>{u[n]=null})),U(),l=u[s],l?l.p(e,t):(l=u[s]=c[s](e),l.c()),I(l,1),l.m(a.parentNode,a))},i(e){o||(I(i),I(l),o=!0)},o(e){B(i),B(l),o=!1},d(e){e&&d(t),e&&d(n),i&&i.d(e),e&&d(r),u[s].d(e),e&&d(a)}}}function Jr(e,t,n){let r,s,l;var a;o(e,Nr,(e=>n(8,r=e))),o(e,se,(e=>n(0,s=e))),o(e,Lr,(e=>n(4,l=e))),r||(async()=>{const{data:e}=await me("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "groups"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  matches(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "groups"\n        }\n      }\n    }\n    sort: "time"\n    limit: -1\n  ) {\n    id\n    link\n    players {\n      player: players_id {\n        id\n        username\n        avatar\n        seed\n        timezone\n        country\n        country_code\n        group {\n          id\n        }\n      }\n    }\n    time\n    referee {\n      id\n      username\n    }\n    streamer {\n      id\n      username\n    }\n    commentators {\n      commentator: commentators_id {\n        id\n        username\n      }\n    }\n\n    rolls {\n      id\n      player { id username }\n      value\n    }\n    protects {\n      id\n      player { id username }\n      map { id name category }\n    }\n    bans {\n      id\n      player { id username }\n      map { id name category }\n    }\n    picks {\n      id\n      player { id username }\n      map { id name category }\n    }\n\n    scores {\n      id\n      player { id }\n      map { id }\n      score\n    }\n    wbd {\n      id\n    }\n  }\n}'})});e.matches.forEach((e=>{e.players=e.players[0].player.seed<e.players[1].player.seed?e.players:e.players.reverse(),e.wbd?(e.points1=e.wbd.id==e.players[0].player.id?"WBD":0,e.points2=e.wbd.id==e.players[1].player.id?"WBD":0):(e.points1=0,e.points2=0,e.picks.forEach((t=>{var n,r;let s=e.scores.filter((e=>e.map.id==t.map.id))||[];1==s.length&&s.push(Object.assign(Object.assign({},s[0]),{player:e.players[(null===(n=s[0])||void 0===n?void 0:n.player.id)==e.players[0].player.id?1:0].player,score:0})),(null===(r=s[0])||void 0===r?void 0:r.player.id)!=e.players[0].player.id&&(s=s.reverse());const[l,a]=s;l&&a&&(l.score>a.score?e.points1+=1:e.points2+=1)})))})),Nr.set(e.matches),Lr.set(e.maps)})();let i=!1;let c,u;return e.$$.update=()=>{385&e.$$.dirty&&r&&(null===n(7,a=null==s?void 0:s.player)||void 0===a?void 0:a.group)&&n(3,u=r.filter((e=>e.players.find((({player:e})=>e.id==s.id))))),256&e.$$.dirty&&n(2,c=r)},[s,i,c,u,l,()=>{n(1,i=!0),n(2,c=c.sort(((e,t)=>{if(e.players[0].player.group.id!=t.players[0].player.group.id)return e.players[0].player.group.id<t.players[0].player.group.id?-1:1;const[n,r]=e.players.map((({player:e})=>e)),[s,l]=t.players.map((({player:e})=>e));return n.seed!=s.seed?n.seed<s.seed?-1:1:r.seed<l.seed?-1:1})))},()=>{n(1,i=!1),n(2,c=c.sort(((e,t)=>e.time<t.time?-1:1)))},a,r]}class Fr extends ee{constructor(e){super(),Z(this,e,Jr,Wr,a,{})}}const Yr=ne(null);function Qr(e,t,n){const r=e.slice();return r[1]=t[n],r[3]=n,r}function Kr(e){let t,n,r,s=e[0],l=[];for(let t=0;t<s.length;t+=1)l[t]=es(Qr(e,s,t));return{c(){t=f("div"),t.innerHTML='<div class="group svelte-10wq7a2">Group</div> \n    <div class="player svelte-10wq7a2">Player</div> \n    <div class="cell svelte-10wq7a2">Victories</div> \n    <div class="points svelte-10wq7a2">pts won - pts lost</div> \n    <div class="cell svelte-10wq7a2">WBDs</div> \n    <div class="cell svelte-10wq7a2">LBDs</div> \n    <div class="cell svelte-10wq7a2">Seed</div>',n=g();for(let e=0;e<l.length;e+=1)l[e].c();r=$(),v(t,"class","row header svelte-10wq7a2")},m(e,s){p(e,t,s),p(e,n,s);for(let t=0;t<l.length;t+=1)l[t].m(e,s);p(e,r,s)},p(e,t){if(1&t){let n;for(s=e[0],n=0;n<s.length;n+=1){const a=Qr(e,s,n);l[n]?l[n].p(a,t):(l[n]=es(a),l[n].c(),l[n].m(r.parentNode,r))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}},d(e){e&&d(t),e&&d(n),m(l,e),e&&d(r)}}}function Vr(e){let n;return{c(){n=h("Loading groups results...")},m(e,t){p(e,n,t)},p:t,d(e){e&&d(n)}}}function Xr(e){let t;return{c(){t=f("div"),t.textContent="⭐",v(t,"class","qualified svelte-10wq7a2")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Zr(e){let t,n,r;return{c(){t=f("div"),n=g(),r=f("div"),r.innerHTML='<div class="group svelte-10wq7a2">Group</div> \n      <div class="player svelte-10wq7a2">Player</div> \n      <div class="cell svelte-10wq7a2">Victories</div> \n      <div class="points svelte-10wq7a2">pts won - pts lost</div> \n      <div class="cell svelte-10wq7a2">WBDs</div> \n      <div class="cell svelte-10wq7a2">LBDs</div> \n      <div class="cell svelte-10wq7a2">Seed</div> \n    ',v(t,"class","spacer svelte-10wq7a2"),v(r,"class","row header svelte-10wq7a2")},m(e,s){p(e,t,s),p(e,n,s),p(e,r,s)},d(e){e&&d(t),e&&d(n),e&&d(r)}}}function es(e){let t,n,r,s,l,a,o,i,c,m,y,b,k,x,S,T,C,_,q,O,j,M,N,L,P,D,A,E,z,H,R,G=e[1].group+"",U=e[1].username+"",I=e[1].victories+"",B=e[1].points_won+"",W=e[1].points_lost+"",J=e[1].won_minus_lost+"",F=e[1].wbds+"",Y=e[1].lbds+"",Q=e[1].seed+"",K=e[1].qualified&&Xr(),V=e[0][e[3]+1]&&e[0][e[3]+1].group!=e[1].group&&Zr();return{c(){t=f("div"),K&&K.c(),n=g(),r=f("div"),s=h("G"),l=h(G),a=g(),o=f("div"),i=f("a"),c=h(U),y=g(),b=f("div"),k=h(I),x=g(),S=f("div"),T=h(B),C=h(" - "),_=h(W),q=h(" = "),O=h(J),j=g(),M=f("div"),N=h(F),L=g(),P=f("div"),D=h(Y),A=g(),E=f("div"),z=h(Q),H=g(),V&&V.c(),R=$(),v(r,"class","group svelte-10wq7a2"),v(i,"href",m=`https://osu.ppy.sh/users/${e[1].id}`),v(i,"target","_blank"),v(i,"rel","noopener"),v(o,"class","player svelte-10wq7a2"),v(b,"class","cell svelte-10wq7a2"),v(S,"class","points svelte-10wq7a2"),v(M,"class","cell svelte-10wq7a2"),v(P,"class","cell svelte-10wq7a2"),v(E,"class","cell svelte-10wq7a2"),v(t,"class","row svelte-10wq7a2")},m(e,d){p(e,t,d),K&&K.m(t,null),u(t,n),u(t,r),u(r,s),u(r,l),u(t,a),u(t,o),u(o,i),u(i,c),u(t,y),u(t,b),u(b,k),u(t,x),u(t,S),u(S,T),u(S,C),u(S,_),u(S,q),u(S,O),u(t,j),u(t,M),u(M,N),u(t,L),u(t,P),u(P,D),u(t,A),u(t,E),u(E,z),p(e,H,d),V&&V.m(e,d),p(e,R,d)},p(e,r){e[1].qualified?K||(K=Xr(),K.c(),K.m(t,n)):K&&(K.d(1),K=null),1&r&&G!==(G=e[1].group+"")&&w(l,G),1&r&&U!==(U=e[1].username+"")&&w(c,U),1&r&&m!==(m=`https://osu.ppy.sh/users/${e[1].id}`)&&v(i,"href",m),1&r&&I!==(I=e[1].victories+"")&&w(k,I),1&r&&B!==(B=e[1].points_won+"")&&w(T,B),1&r&&W!==(W=e[1].points_lost+"")&&w(_,W),1&r&&J!==(J=e[1].won_minus_lost+"")&&w(O,J),1&r&&F!==(F=e[1].wbds+"")&&w(N,F),1&r&&Y!==(Y=e[1].lbds+"")&&w(D,Y),1&r&&Q!==(Q=e[1].seed+"")&&w(z,Q),e[0][e[3]+1]&&e[0][e[3]+1].group!=e[1].group?V||(V=Zr(),V.c(),V.m(R.parentNode,R)):V&&(V.d(1),V=null)},d(e){e&&d(t),K&&K.d(),e&&d(H),V&&V.d(e),e&&d(R)}}}function ts(e){let n,r,s;function l(e,t){return e[0]?Kr:Vr}let a=l(e),o=a(e);return{c(){n=f("div"),n.innerHTML='<a href="#/groups">Groups matches</a> \n  <a href="#/groups!maps">Rankings per map</a> \n  <a href="#/groups!rolls">Roll leaderboard</a>',r=g(),o.c(),s=$(),v(n,"class","links svelte-10wq7a2")},m(e,t){p(e,n,t),p(e,r,t),o.m(e,t),p(e,s,t)},p(e,[t]){a===(a=l(e))&&o?o.p(e,t):(o.d(1),o=a(e),o&&(o.c(),o.m(s.parentNode,s)))},i:t,o:t,d(e){e&&d(n),e&&d(r),o.d(e),e&&d(s)}}}function ns(e,t,n){let r;return o(e,Yr,(e=>n(0,r=e))),r||(async()=>{const e=await fetch("/data/groups-results.json"),t=await e.json();let n=1;t.forEach(((e,r)=>{var s;n<3&&(e.qualified=!0),n=(null===(s=t[r+1])||void 0===s?void 0:s.group)!=e.group?1:n+1})),Yr.set(t)})(),[r]}class rs extends ee{constructor(e){super(),Z(this,e,ns,ts,a,{})}}function ss(e){let n,r,s,l,a,o,i,c,m,$,y,b,k,x,S,T,C,_,q,O=e[0].username+"",j=e[0].seed+"",M=e[0].timezone+"";return{c(){n=f("a"),r=f("div"),s=f("img"),a=g(),o=f("div"),i=f("img"),$=g(),y=f("div"),b=h(O),k=g(),x=f("div"),S=h("#"),T=h(j),C=h(" - "),_=h(M),v(s,"class","avatar svelte-10fnd7c"),s.src!==(l=e[0].avatar)&&v(s,"src",l),v(s,"alt",""),v(r,"class","avatar svelte-10fnd7c"),i.src!==(c=`https://osu.ppy.sh/images/flags/${e[0].country_code}.png`)&&v(i,"src",c),v(i,"alt",m=e[0].country),v(i,"class","svelte-10fnd7c"),v(o,"class","flag svelte-10fnd7c"),v(x,"class","details svelte-10fnd7c"),v(y,"class","name"),v(n,"class","player svelte-10fnd7c"),v(n,"href",q=`https://osu.ppy.sh/users/${e[0].id}`),v(n,"target","_blank"),v(n,"rel","noopener")},m(e,t){p(e,n,t),u(n,r),u(r,s),u(n,a),u(n,o),u(o,i),u(n,$),u(n,y),u(y,b),u(y,k),u(y,x),u(x,S),u(x,T),u(x,C),u(x,_)},p(e,[t]){1&t&&s.src!==(l=e[0].avatar)&&v(s,"src",l),1&t&&i.src!==(c=`https://osu.ppy.sh/images/flags/${e[0].country_code}.png`)&&v(i,"src",c),1&t&&m!==(m=e[0].country)&&v(i,"alt",m),1&t&&O!==(O=e[0].username+"")&&w(b,O),1&t&&j!==(j=e[0].seed+"")&&w(T,j),1&t&&M!==(M=e[0].timezone+"")&&w(_,M),1&t&&q!==(q=`https://osu.ppy.sh/users/${e[0].id}`)&&v(n,"href",q)},i:t,o:t,d(e){e&&d(n)}}}function ls(e,t,n){let{player:r}=t;return e.$$set=e=>{"player"in e&&n(0,r=e.player)},[r]}class as extends ee{constructor(e){super(),Z(this,e,ls,ss,a,{player:0})}}function os(e,t,n){const r=e.slice();return r[10]=t[n].commentator,r[12]=n,r}function is(e,t,n){const r=e.slice();return r[13]=t[n],r[12]=n,r}function cs(e,t,n){const r=e.slice();return r[13]=t[n],r[12]=n,r}function us(e){let t,n,r=e[0].id+"";return{c(){t=h("M"),n=h(r)},m(e,r){p(e,t,r),p(e,n,r)},p(e,t){1&t&&r!==(r=e[0].id+"")&&w(n,r)},d(e){e&&d(t),e&&d(n)}}}function ps(e){let t,n,r,s,l=e[0].id+"";return{c(){t=f("a"),n=h("M"),r=h(l),v(t,"href",s=e[0].link),v(t,"target","_blank"),v(t,"rel","noopener")},m(e,s){p(e,t,s),u(t,n),u(t,r)},p(e,n){1&n&&l!==(l=e[0].id+"")&&w(r,l),1&n&&s!==(s=e[0].link)&&v(t,"href",s)},d(e){e&&d(t)}}}function ds(e){let t;return{c(){t=f("div"),t.textContent="(conditional)",v(t,"class","desc svelte-1v897zx")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function ms(e){let t,n,r=[],s=new Map,l=e[0].dependencies;const a=e=>e[13].id;for(let t=0;t<l.length;t+=1){let n=cs(e,l,t),o=a(n);s.set(o,r[t]=hs(o,n))}return{c(){t=f("div"),n=h("depends on");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","deps svelte-1v897zx")},m(e,s){p(e,t,s),u(t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,n){1&n&&(l=e[0].dependencies,r=Y(r,n,a,1,e,l,s,t,J,hs,null,cs))},d(e){e&&d(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function fs(e){let t;return{c(){t=h(",")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function hs(t,n){let r,s,l,a,o,i,c=n[13].id+"",u=e.DateTime.fromISO(n[13].time).toLocaleString(e.DateTime.DATETIME_FULL)+"",m=n[12]&&fs();return{key:t,first:null,c(){r=$(),m&&m.c(),s=h("\n        M"),l=h(c),a=h(" ("),o=h(u),i=h(")"),this.first=r},m(e,t){p(e,r,t),m&&m.m(e,t),p(e,s,t),p(e,l,t),p(e,a,t),p(e,o,t),p(e,i,t)},p(t,r){(n=t)[12]?m||(m=fs(),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null),1&r&&c!==(c=n[13].id+"")&&w(l,c),1&r&&u!==(u=e.DateTime.fromISO(n[13].time).toLocaleString(e.DateTime.DATETIME_FULL)+"")&&w(o,u)},d(e){e&&d(r),m&&m.d(e),e&&d(s),e&&d(l),e&&d(a),e&&d(o),e&&d(i)}}}function gs(e){let t,n,r=[],s=new Map,l=e[0].dependents;const a=e=>e[13].id;for(let t=0;t<l.length;t+=1){let n=is(e,l,t),o=a(n);s.set(o,r[t]=ys(o,n))}return{c(){t=f("div"),n=h("affects");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","deps svelte-1v897zx")},m(e,s){p(e,t,s),u(t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,n){1&n&&(l=e[0].dependents,r=Y(r,n,a,1,e,l,s,t,J,ys,null,is))},d(e){e&&d(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function $s(e){let t;return{c(){t=h(",")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function ys(t,n){let r,s,l,a,o,i,c=n[13].id+"",u=e.DateTime.fromISO(n[13].time).toLocaleString(e.DateTime.DATETIME_FULL)+"",m=n[12]&&$s();return{key:t,first:null,c(){r=$(),m&&m.c(),s=h("\n        M"),l=h(c),a=h(" ("),o=h(u),i=h(")"),this.first=r},m(e,t){p(e,r,t),m&&m.m(e,t),p(e,s,t),p(e,l,t),p(e,a,t),p(e,o,t),p(e,i,t)},p(t,r){(n=t)[12]?m||(m=$s(),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null),1&r&&c!==(c=n[13].id+"")&&w(l,c),1&r&&u!==(u=e.DateTime.fromISO(n[13].time).toLocaleString(e.DateTime.DATETIME_FULL)+"")&&w(o,u)},d(e){e&&d(r),m&&m.d(e),e&&d(s),e&&d(l),e&&d(a),e&&d(o),e&&d(i)}}}function vs(e){let n;return{c(){n=h("To be defined")},m(e,t){p(e,n,t)},p:t,d(e){e&&d(n)}}}function bs(e){let t,n,r,s=e[0].referee.username+"";return{c(){t=f("a"),n=h(s),v(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){p(e,t,r),u(t,n)},p(e,l){1&l&&s!==(s=e[0].referee.username+"")&&w(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&v(t,"href",r)},d(e){e&&d(t)}}}function ws(e){let t,n,r,s,l,a,o=e[0].streamer.username+"";return{c(){t=h("-\n        "),n=f("b"),n.textContent="Streamer",r=h(":\n        "),s=f("a"),l=h(o),v(s,"href",a=`https://osu.ppy.sh/users/${e[0].streamer.id}`)},m(e,a){p(e,t,a),p(e,n,a),p(e,r,a),p(e,s,a),u(s,l)},p(e,t){1&t&&o!==(o=e[0].streamer.username+"")&&w(l,o),1&t&&a!==(a=`https://osu.ppy.sh/users/${e[0].streamer.id}`)&&v(s,"href",a)},d(e){e&&d(t),e&&d(n),e&&d(r),e&&d(s)}}}function ks(e){let t,n,r,s,l=e[0].commentators,a=[];for(let t=0;t<l.length;t+=1)a[t]=xs(os(e,l,t));return{c(){t=h("-\n        "),n=f("b"),n.textContent="Commentators",r=h(":\n        ");for(let e=0;e<a.length;e+=1)a[e].c();s=$()},m(e,l){p(e,t,l),p(e,n,l),p(e,r,l);for(let t=0;t<a.length;t+=1)a[t].m(e,l);p(e,s,l)},p(e,t){if(1&t){let n;for(l=e[0].commentators,n=0;n<l.length;n+=1){const r=os(e,l,n);a[n]?a[n].p(r,t):(a[n]=xs(r),a[n].c(),a[n].m(s.parentNode,s))}for(;n<a.length;n+=1)a[n].d(1);a.length=l.length}},d(e){e&&d(t),e&&d(n),e&&d(r),m(a,e),e&&d(s)}}}function xs(e){let t,n,r,s,l=e[10].username+"",a=e[12]&&function(e){let t;return{c(){t=h(",")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}();return{c(){a&&a.c(),t=g(),n=f("a"),r=h(l),v(n,"href",s=`https://osu.ppy.sh/users/${e[10].id}`)},m(e,s){a&&a.m(e,s),p(e,t,s),p(e,n,s),u(n,r)},p(e,t){1&t&&l!==(l=e[10].username+"")&&w(r,l),1&t&&s!==(s=`https://osu.ppy.sh/users/${e[10].id}`)&&v(n,"href",s)},d(e){a&&a.d(e),e&&d(t),e&&d(n)}}}function Ss(n){let r,s,l,a,o,i,c,m,$,b,k,S,T,C,_,q,O,j,M,N,L,P,D,A,E,z,H,R,G,U,W,J,F,Y,X,Z,ee,te,ne,re=n[0].loser?"Losers":"Winners",se=n[5].toLocaleString(e.DateTime.DATETIME_FULL)+"",le=(n[0].points1||0)+"",ae=(n[0].points2||0)+"";function oe(e,t){return e[0].link?ps:us}let ie=oe(n),ce=ie(n),ue=n[2].elite&&function(e){let t;return{c(){t=f("div"),t.textContent="Elite",v(t,"class","desc svelte-1v897zx")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}(),pe=n[0].dependencies?.length&&ds(),de=!n[6]&&function(e){let n,r,s,l,a,o,i,c=e[7].days+"",u=e[7].hours+"",m=(e[7].minutes>>0)+"";return{c(){n=h(",\n        in "),r=h(c),s=h(" days, "),l=h(u),a=h(" hours and "),o=h(m),i=h(" minutes")},m(e,t){p(e,n,t),p(e,r,t),p(e,s,t),p(e,l,t),p(e,a,t),p(e,o,t),p(e,i,t)},p:t,d(e){e&&d(n),e&&d(r),e&&d(s),e&&d(l),e&&d(a),e&&d(o),e&&d(i)}}}(n),me=n[0].dependencies&&ms(n),fe=n[0].dependents&&gs(n);function he(e,t){return e[0].referee?bs:vs}let ge=he(n),$e=ge(n),ye=n[0].streamer&&ws(n),ve=n[0].commentators.length&&ks(n);return H=new as({props:{player:n[2]}}),W=new as({props:{player:n[3]}}),{c(){r=f("div"),s=f("div"),ce.c(),l=g(),ue&&ue.c(),a=g(),o=f("div"),i=h(re),c=g(),pe&&pe.c(),m=g(),$=f("div"),b=f("div"),k=f("b"),k.textContent=`${n[4].toLocaleString(e.DateTime.DATETIME_HUGE)}`,S=g(),T=f("div"),C=h("("),_=h(se),de&&de.c(),q=h(")"),O=g(),me&&me.c(),j=g(),fe&&fe.c(),M=g(),N=f("div"),L=f("b"),L.textContent="Referee",P=h(":\n      "),$e.c(),D=g(),ye&&ye.c(),A=g(),ve&&ve.c(),E=g(),z=f("div"),Q(H.$$.fragment),R=g(),G=f("div"),G.textContent="vs.",U=g(),Q(W.$$.fragment),J=g(),F=f("div"),Y=h(le),X=h(" - "),Z=h(ae),v(o,"class","desc svelte-1v897zx"),v(s,"class","name svelte-1v897zx"),v(T,"class","utc svelte-1v897zx"),v(b,"class","time svelte-1v897zx"),v(N,"class","staff svelte-1v897zx"),v(G,"class","vs svelte-1v897zx"),v(z,"class","players svelte-1v897zx"),v($,"class","body svelte-1v897zx"),v(F,"class","score svelte-1v897zx"),v(r,"class","match svelte-1v897zx"),x(r,"my-match",n[1]?.id==n[2].id||n[1]?.id==n[3].id)},m(e,t){p(e,r,t),u(r,s),ce.m(s,null),u(s,l),ue&&ue.m(s,null),u(s,a),u(s,o),u(o,i),u(s,c),pe&&pe.m(s,null),u(r,m),u(r,$),u($,b),u(b,k),u(b,S),u(b,T),u(T,C),u(T,_),de&&de.m(T,null),u(T,q),u($,O),me&&me.m($,null),u($,j),fe&&fe.m($,null),u($,M),u($,N),u(N,L),u(N,P),$e.m(N,null),u(N,D),ye&&ye.m(N,null),u(N,A),ve&&ve.m(N,null),u($,E),u($,z),K(H,z,null),u(z,R),u(z,G),u(z,U),K(W,z,null),u(r,J),u(r,F),u(F,Y),u(F,X),u(F,Z),ee=!0,te||(ne=y(r,"click",n[8]),te=!0)},p(e,[t]){ie===(ie=oe(e))&&ce?ce.p(e,t):(ce.d(1),ce=ie(e),ce&&(ce.c(),ce.m(s,l))),(!ee||1&t)&&re!==(re=e[0].loser?"Losers":"Winners")&&w(i,re),e[0].dependencies?.length?pe||(pe=ds(),pe.c(),pe.m(s,null)):pe&&(pe.d(1),pe=null),e[6]||de.p(e,t),e[0].dependencies?me?me.p(e,t):(me=ms(e),me.c(),me.m($,j)):me&&(me.d(1),me=null),e[0].dependents?fe?fe.p(e,t):(fe=gs(e),fe.c(),fe.m($,M)):fe&&(fe.d(1),fe=null),ge===(ge=he(e))&&$e?$e.p(e,t):($e.d(1),$e=ge(e),$e&&($e.c(),$e.m(N,D))),e[0].streamer?ye?ye.p(e,t):(ye=ws(e),ye.c(),ye.m(N,A)):ye&&(ye.d(1),ye=null),e[0].commentators.length?ve?ve.p(e,t):(ve=ks(e),ve.c(),ve.m(N,null)):ve&&(ve.d(1),ve=null),(!ee||1&t)&&le!==(le=(e[0].points1||0)+"")&&w(Y,le),(!ee||1&t)&&ae!==(ae=(e[0].points2||0)+"")&&w(Z,ae),14&t&&x(r,"my-match",e[1]?.id==e[2].id||e[1]?.id==e[3].id)},i(e){ee||(I(H.$$.fragment,e),I(W.$$.fragment,e),ee=!0)},o(e){B(H.$$.fragment,e),B(W.$$.fragment,e),ee=!1},d(e){e&&d(r),ce.d(),ue&&ue.d(),pe&&pe.d(),de&&de.d(),me&&me.d(),fe&&fe.d(),$e.d(),ye&&ye.d(),ve&&ve.d(),V(H),V(W),te=!1,ne()}}}function Ts(t,n,r){let s;o(t,se,(e=>r(1,s=e)));let{match:l}=n;const[a,i]=l.players.map((({player:e})=>e)),c=e.DateTime.now(),u=e.DateTime.fromISO(l.time),p=u.setZone("utc"),d=u<c,m=u.diff(c,["days","hours","minutes"]).toObject();return t.$$set=e=>{"match"in e&&r(0,l=e.match)},[l,s,a,i,u,p,d,m,function(e){_(t,e)}]}class Cs extends ee{constructor(e){super(),Z(this,e,Ts,Ss,a,{match:0})}}const _s=ne(null),qs=ne(null),Os=ne(null),js=async e=>{_s.set(e),qs.set(null),Os.set(null);const{data:t}=await me("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'query GetMatches($stage: String!) {\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: $stage\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  matches(\n    filter: {\n      stage: {\n        slug: {\n          _eq: $stage\n        }\n      }\n    }\n    sort: "time"\n    limit: -1\n  ) {\n    id\n    link\n    players {\n      player: players_id {\n        id\n        elite\n        username\n        avatar\n        seed\n        timezone\n        country\n        country_code\n      }\n    }\n    time\n    loser\n    dependencies\n    referee {\n      id\n      username\n    }\n    streamer {\n      id\n      username\n    }\n    commentators {\n      commentator: commentators_id {\n        id\n        username\n      }\n    }\n\n    available_referees {\n      rel_id: id\n      referee: referees_id {\n        id\n        avatar\n        username\n      }\n    }\n    available_streamers {\n      rel_id: id\n      streamer: streamers_id {\n        id\n        avatar\n        username\n      }\n    }\n    available_commentators {\n      rel_id: id\n      commentator: commentators_id {\n        id\n        avatar\n        username\n      }\n    }\n\n    rolls {\n      id\n      player { id username }\n      value\n    }\n    protects {\n      id\n      player { id username }\n      map { id name category }\n    }\n    bans {\n      id\n      player { id username }\n      map { id name category }\n    }\n    picks {\n      id\n      player { id username }\n      map { id name category weight }\n    }\n\n    scores {\n      id\n      player { id }\n      map { id }\n      score\n    }\n    wbd {\n      id\n    }\n  }\n}',variables:{stage:e}})});t.matches.forEach((e=>{e.players=e.players[0].player.seed<e.players[1].player.seed?e.players:e.players.reverse(),e.dependencies&&(e.dependencies=e.dependencies.split(",").map((e=>t.matches.find((t=>t.id==e)))).filter((e=>e)),e.dependencies.forEach((t=>{t.dependents||(t.dependents=[]),t.dependents.push(e)}))),e.wbd?(e.points1=e.wbd.id==e.players[0].player.id?"WBD":0,e.points2=e.wbd.id==e.players[1].player.id?"WBD":0):(e.points1=0,e.points2=0,e.picks.forEach((t=>{var n,r;let s=e.scores.filter((e=>e.map.id==t.map.id))||[];1==s.length&&s.push(Object.assign(Object.assign({},s[0]),{player:e.players[(null===(n=s[0])||void 0===n?void 0:n.player.id)==e.players[0].player.id?1:0].player,score:0})),(null===(r=s[0])||void 0===r?void 0:r.player.id)!=e.players[0].player.id&&(s=s.reverse());const[l,a]=s;l&&a&&(l.score>a.score?e.points1+=1:e.points2+=1)})))})),qs.set(t.matches),Os.set(t.maps)},{Map:Ms}=W;function Ns(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function Ls(e,t,n){const r=e.slice();return r[10]=t[n],r}function Ps(e,t,n){const r=e.slice();return r[7]=t[n],r}function Ds(e){let t,n,r,s,l=[],a=new Ms,o=e[1];const i=e=>e[7].id;for(let t=0;t<o.length;t+=1){let n=Ps(e,o,t),r=i(n);a.set(r,l[t]=As(r,n))}return{c(){t=f("div"),t.innerHTML="You have matches for this stage!<br/>\n  You can find the list of your own matches just below.",n=g(),r=f("div");for(let e=0;e<l.length;e+=1)l[e].c();v(t,"class","intro svelte-jcr45l"),v(r,"class","matches svelte-jcr45l")},m(e,a){p(e,t,a),p(e,n,a),p(e,r,a);for(let e=0;e<l.length;e+=1)l[e].m(r,null);s=!0},p(e,t){2&t&&(o=e[1],G(),l=Y(l,t,i,1,e,o,a,r,F,As,null,Ps),U())},i(e){if(!s){for(let e=0;e<o.length;e+=1)I(l[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)B(l[e]);s=!1},d(e){e&&d(t),e&&d(n),e&&d(r);for(let e=0;e<l.length;e+=1)l[e].d()}}}function As(e,t){let n,r,s;return r=new Cs({props:{match:t[7]}}),{key:e,first:null,c(){n=$(),Q(r.$$.fragment),this.first=n},m(e,t){p(e,n,t),K(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.match=t[7]),r.$set(s)},i(e){s||(I(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&d(n),V(r,e)}}}function Es(e){let t,n,r,s,l=[],a=new Ms,o=[],i=new Ms,c=e[3];const u=e=>e[10].id;for(let t=0;t<c.length;t+=1){let n=Ls(e,c,t),r=u(n);a.set(r,l[t]=Hs(r,n))}let m=e[2];const h=e=>e[7].id;for(let t=0;t<m.length;t+=1){let n=Ns(e,m,t),r=h(n);i.set(r,o[t]=Rs(r,n))}return{c(){t=f("div");for(let e=0;e<l.length;e+=1)l[e].c();n=g(),r=f("div");for(let e=0;e<o.length;e+=1)o[e].c();v(t,"class","maps svelte-jcr45l"),v(r,"class","matches svelte-jcr45l")},m(e,a){p(e,t,a);for(let e=0;e<l.length;e+=1)l[e].m(t,null);p(e,n,a),p(e,r,a);for(let e=0;e<o.length;e+=1)o[e].m(r,null);s=!0},p(e,n){8&n&&(c=e[3],G(),l=Y(l,n,u,1,e,c,a,t,F,Hs,null,Ls),U()),4&n&&(m=e[2],G(),o=Y(o,n,h,1,e,m,i,r,F,Rs,null,Ns),U())},i(e){if(!s){for(let e=0;e<c.length;e+=1)I(l[e]);for(let e=0;e<m.length;e+=1)I(o[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)B(l[e]);for(let e=0;e<o.length;e+=1)B(o[e]);s=!1},d(e){e&&d(t);for(let e=0;e<l.length;e+=1)l[e].d();e&&d(n),e&&d(r);for(let e=0;e<o.length;e+=1)o[e].d()}}}function zs(e){let n;return{c(){n=f("div"),n.textContent="Loading matches...",v(n,"class","matches svelte-jcr45l")},m(e,t){p(e,n,t)},p:t,i:t,o:t,d(e){e&&d(n)}}}function Hs(e,t){let n,r,s;return r=new Xt({props:{map:t[10]}}),{key:e,first:null,c(){n=$(),Q(r.$$.fragment),this.first=n},m(e,t){p(e,n,t),K(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.map=t[10]),r.$set(s)},i(e){s||(I(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&d(n),V(r,e)}}}function Rs(e,t){let n,r,s;return r=new Cs({props:{match:t[7]}}),{key:e,first:null,c(){n=$(),Q(r.$$.fragment),this.first=n},m(e,t){p(e,n,t),K(r,e,t),s=!0},p(e,n){t=e;const s={};4&n&&(s.match=t[7]),r.$set(s)},i(e){s||(I(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&d(n),V(r,e)}}}function Gs(e){let t,n,r,s,l,a,o,i,c,m,y,b,w,k,x=e[1]?.length&&Ds(e);const S=[zs,Es],T=[];function C(e,t){return e[2]?1:0}return y=C(e),b=T[y]=S[y](e),{c(){t=f("div"),n=f("a"),r=h("Rankings per map"),l=g(),a=f("a"),o=h("Roll leaderboard"),c=g(),x&&x.c(),m=g(),b.c(),w=$(),v(n,"href",s=`#/${e[0]}!maps`),v(a,"href",i=`#/${e[0]}!rolls`),v(t,"class","links svelte-jcr45l")},m(e,s){p(e,t,s),u(t,n),u(n,r),u(t,l),u(t,a),u(a,o),p(e,c,s),x&&x.m(e,s),p(e,m,s),T[y].m(e,s),p(e,w,s),k=!0},p(e,[t]){(!k||1&t&&s!==(s=`#/${e[0]}!maps`))&&v(n,"href",s),(!k||1&t&&i!==(i=`#/${e[0]}!rolls`))&&v(a,"href",i),e[1]?.length?x?(x.p(e,t),2&t&&I(x,1)):(x=Ds(e),x.c(),I(x,1),x.m(m.parentNode,m)):x&&(G(),B(x,1,1,(()=>{x=null})),U());let r=y;y=C(e),y===r?T[y].p(e,t):(G(),B(T[r],1,1,(()=>{T[r]=null})),U(),b=T[y],b?b.p(e,t):(b=T[y]=S[y](e),b.c()),I(b,1),b.m(w.parentNode,w))},i(e){k||(I(x),I(b),k=!0)},o(e){B(x),B(b),k=!1},d(e){e&&d(t),e&&d(c),x&&x.d(e),e&&d(m),T[y].d(e),e&&d(w)}}}function Us(e,t,n){let r,s,l,a;var i;o(e,_s,(e=>n(6,r=e))),o(e,qs,(e=>n(2,s=e))),o(e,se,(e=>n(5,l=e))),o(e,Os,(e=>n(3,a=e)));let c,{stage:u}=t;return r==u&&s||js(u),e.$$set=e=>{"stage"in e&&n(0,u=e.stage)},e.$$.update=()=>{54&e.$$.dirty&&s&&(null===n(4,i=null==l?void 0:l.player)||void 0===i?void 0:i.group)&&!c&&n(1,c=s.filter((e=>e.players.find((({player:e})=>e.id==l.id)))))},[u,c,s,a,i,l]}class Is extends ee{constructor(e){super(),Z(this,e,Us,Gs,a,{stage:0})}}const Bs=ne(null),Ws=ne(null),{Map:Js}=W;function Fs(e,t,n){const r=e.slice();return r[7]=t[n],r}function Ys(e,t,n){const r=e.slice();return r[10]=t[n],r}function Qs(e){let t,n,r;return{c(){t=f("a"),n=h("Matches"),v(t,"href",r=`#/${e[0]}`)},m(e,r){p(e,t,r),u(t,n)},p(e,n){1&n&&r!==(r=`#/${e[0]}`)&&v(t,"href",r)},d(e){e&&d(t)}}}function Ks(e){let n,r,s;return{c(){n=f("a"),n.textContent="Groups matches",r=g(),s=f("a"),s.textContent="Groups results",v(n,"href","#/groups"),v(s,"href","#/groups!results")},m(e,t){p(e,n,t),p(e,r,t),p(e,s,t)},p:t,d(e){e&&d(n),e&&d(r),e&&d(s)}}}function Vs(e){let t,n,r=[],s=new Js,l=e[1];const a=e=>e[7].id;for(let t=0;t<l.length;t+=1){let n=Fs(e,l,t),o=a(n);s.set(o,r[t]=tl(o,n))}return{c(){t=f("p");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","maps svelte-1xsxcbi")},m(e,s){p(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){14&n&&(l=e[1],G(),r=Y(r,n,a,1,e,l,s,t,F,tl,null,Fs),U())},i(e){if(!n){for(let e=0;e<l.length;e+=1)I(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){e&&d(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Xs(e){let n;return{c(){n=f("p"),n.textContent="Loading scores...",v(n,"class","lobbies")},m(e,t){p(e,n,t)},p:t,i:t,o:t,d(e){e&&d(n)}}}function Zs(e){let t,n,r=[],s=new Js,l=Array.from(e[7].players.values());const a=e=>e[10].id;for(let t=0;t<l.length;t+=1){let n=Ys(e,l,t),o=a(n);s.set(o,r[t]=el(o,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);p(e,t,s),n=!0},p(e,n){2&n&&(l=Array.from(e[7].players.values()),G(),r=Y(r,n,a,1,e,l,s,t.parentNode,F,el,t,Ys),U())},i(e){if(!n){for(let e=0;e<l.length;e+=1)I(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)B(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&d(t)}}}function el(e,t){let n,r,s;return r=new $n({props:{player:t[10],score:t[10].mapScores.get(t[7].id)[0]}}),{key:e,first:null,c(){n=$(),Q(r.$$.fragment),this.first=n},m(e,t){p(e,n,t),K(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.player=t[10]),2&n&&(s.score=t[10].mapScores.get(t[7].id)[0]),r.$set(s)},i(e){s||(I(r.$$.fragment,e),s=!0)},o(e){B(r.$$.fragment,e),s=!1},d(e){e&&d(n),V(r,e)}}}function tl(e,t){let n,r,s,l,a,o,i,c,m,b,k,x,S,T,C,_,q,O,j,M,N,L,P,D,A,E,z=t[7].protects.length+"",H=t[7].protects.map(rl).join(", ")+"",R=t[7].bans.length+"",W=t[7].bans.map(sl).join(", ")+"",J=t[2][t[7].id]?"Show":"Hide";function F(){return t[6](t[7])}r=new Xt({props:{map:t[7]}});let Y=!t[2][t[7].id]&&Zs(t);return{key:e,first:null,c(){n=$(),Q(r.$$.fragment),s=g(),l=f("div"),a=f("b"),o=h(z),i=h(" protects: "),c=h(H),m=f("br"),b=g(),k=f("div"),x=f("b"),S=h(R),T=h(" bans: "),C=h(W),_=g(),q=f("br"),O=g(),j=f("a"),M=h(J),N=h(" scores"),L=g(),Y&&Y.c(),P=$(),v(l,"class","protects svelte-1xsxcbi"),v(k,"class","bans svelte-1xsxcbi"),v(j,"href","javascript:void(0)"),this.first=n},m(e,t){p(e,n,t),K(r,e,t),p(e,s,t),p(e,l,t),u(l,a),u(a,o),u(l,i),u(l,c),u(l,m),p(e,b,t),p(e,k,t),u(k,x),u(x,S),u(k,T),u(k,C),p(e,_,t),p(e,q,t),p(e,O,t),p(e,j,t),u(j,M),u(j,N),p(e,L,t),Y&&Y.m(e,t),p(e,P,t),D=!0,A||(E=y(j,"click",F),A=!0)},p(e,n){t=e;const s={};2&n&&(s.map=t[7]),r.$set(s),(!D||2&n)&&z!==(z=t[7].protects.length+"")&&w(o,z),(!D||2&n)&&H!==(H=t[7].protects.map(rl).join(", ")+"")&&w(c,H),(!D||2&n)&&R!==(R=t[7].bans.length+"")&&w(S,R),(!D||2&n)&&W!==(W=t[7].bans.map(sl).join(", ")+"")&&w(C,W),(!D||6&n)&&J!==(J=t[2][t[7].id]?"Show":"Hide")&&w(M,J),t[2][t[7].id]?Y&&(G(),B(Y,1,1,(()=>{Y=null})),U()):Y?(Y.p(t,n),6&n&&I(Y,1)):(Y=Zs(t),Y.c(),I(Y,1),Y.m(P.parentNode,P))},i(e){D||(I(r.$$.fragment,e),I(Y),D=!0)},o(e){B(r.$$.fragment,e),B(Y),D=!1},d(e){e&&d(n),V(r,e),e&&d(s),e&&d(l),e&&d(b),e&&d(k),e&&d(_),e&&d(q),e&&d(O),e&&d(j),e&&d(L),Y&&Y.d(e),e&&d(P),A=!1,E()}}}function nl(e){let t,n,r,s,l,a,o,i,c,m;function y(e,t){return"groups"==e[0]?Ks:Qs}let b=y(e),w=b(e);const k=[Xs,Vs],x=[];function S(e,t){return e[1]?1:0}return o=S(e),i=x[o]=k[o](e),{c(){t=f("div"),w.c(),n=g(),r=f("a"),s=h("Roll leaderboard"),a=g(),i.c(),c=$(),v(r,"href",l=`#/${e[0]}!rolls`),v(t,"class","links svelte-1xsxcbi")},m(e,l){p(e,t,l),w.m(t,null),u(t,n),u(t,r),u(r,s),p(e,a,l),x[o].m(e,l),p(e,c,l),m=!0},p(e,[s]){b===(b=y(e))&&w?w.p(e,s):(w.d(1),w=b(e),w&&(w.c(),w.m(t,n))),(!m||1&s&&l!==(l=`#/${e[0]}!rolls`))&&v(r,"href",l);let a=o;o=S(e),o===a?x[o].p(e,s):(G(),B(x[a],1,1,(()=>{x[a]=null})),U(),i=x[o],i?i.p(e,s):(i=x[o]=k[o](e),i.c()),I(i,1),i.m(c.parentNode,c))},i(e){m||(I(i),m=!0)},o(e){B(i),m=!1},d(e){e&&d(t),w.d(),e&&d(a),x[o].d(e),e&&d(c)}}}const rl=e=>e.player.username,sl=e=>e.player.username;function ll(e,t,n){let r,s,l;o(e,Bs,(e=>n(4,r=e))),o(e,Ws,(e=>n(1,s=e))),o(e,le,(e=>n(5,l=e)));let{stage:a}=t,i={};const c=e=>{n(2,i=Object.assign(Object.assign({},i),{[e.id]:!i[e.id]}))};return e.$$set=e=>{"stage"in e&&n(0,a=e.stage)},e.$$.update=()=>{51&e.$$.dirty&&(r==a&&s||!l||(async(e,t)=>{var n;Bs.set(e),Ws.set(null);const{data:r}=await me("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'query GetScores($stage: String!) {\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: $stage\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    weight\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n    bans {\n      player {\n        username\n      }\n    }\n    protects {\n      player {\n        username\n      }\n    }\n  }\n  scores(sort: "-score", limit: -1) {\n    player {\n      id\n    }\n    map {\n      id\n    }\n    match {\n      id\n      link\n    }\n    score\n    combo\n    c320\n    c300\n    c200\n    c100\n    c50\n    c0\n  }\n}',variables:{stage:e}})}),s=new Map(r.maps.map((e=>[e.id,Object.assign(Object.assign({},e),{players:new Map})]))),l=new Map(t.map((e=>[e.id,Object.assign(Object.assign({},e),{mapScores:new Map(r.maps.map((e=>[e.id,[]])))})])));r.scores.forEach((e=>{var t;let n;if(n=l.get(null===(t=e.player)||void 0===t?void 0:t.id)){if(!s.has(e.map.id))return;n.mapScores.get(e.map.id).push(e);const t=s.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,n)}}));for(const e of s.values()){const t=Array.from(e.players.values());for(let r=0;r<t.length;++r){const s=t[r].mapScores.get(e.id)[0],l=null===(n=t[r-1])||void 0===n?void 0:n.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}Ws.set(Array.from(s.values()))})(a,l))},[a,s,i,c,r,l,e=>c(e)]}class al extends ee{constructor(e){super(),Z(this,e,ll,nl,a,{stage:0})}}const ol=ne(null),il=ne(null);function cl(e,t,n){const r=e.slice();return r[3]=t[n],r}function ul(e){let t,n,r;return{c(){t=f("a"),n=h("Matches"),v(t,"href",r=`#/${e[0]}`)},m(e,r){p(e,t,r),u(t,n)},p(e,n){1&n&&r!==(r=`#/${e[0]}`)&&v(t,"href",r)},d(e){e&&d(t)}}}function pl(e){let n,r,s;return{c(){n=f("a"),n.textContent="Groups matches",r=g(),s=f("a"),s.textContent="Groups results",v(n,"href","#/groups"),v(s,"href","#/groups!results")},m(e,t){p(e,n,t),p(e,r,t),p(e,s,t)},p:t,d(e){e&&d(n),e&&d(r),e&&d(s)}}}function dl(e){let t,n,r,s=e[1],l=[];for(let t=0;t<s.length;t+=1)l[t]=fl(cl(e,s,t));return{c(){t=f("div"),t.innerHTML='<div class="player svelte-gqvsl7">Player</div> \n    <div class="cell svelte-gqvsl7">Roll</div>',n=g();for(let e=0;e<l.length;e+=1)l[e].c();r=$(),v(t,"class","row header svelte-gqvsl7")},m(e,s){p(e,t,s),p(e,n,s);for(let t=0;t<l.length;t+=1)l[t].m(e,s);p(e,r,s)},p(e,t){if(2&t){let n;for(s=e[1],n=0;n<s.length;n+=1){const a=cl(e,s,n);l[n]?l[n].p(a,t):(l[n]=fl(a),l[n].c(),l[n].m(r.parentNode,r))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}},d(e){e&&d(t),e&&d(n),m(l,e),e&&d(r)}}}function ml(e){let n;return{c(){n=h("Loading rolls...")},m(e,t){p(e,n,t)},p:t,d(e){e&&d(n)}}}function fl(e){let t,n,r,s,l,a,o,i,c,m=e[3].player.username+"",$=e[3].value+"";return{c(){t=f("div"),n=f("div"),r=f("a"),s=h(m),a=g(),o=f("div"),i=h($),c=g(),v(r,"href",l=`https://osu.ppy.sh/users/${e[3].player.id}`),v(r,"target","_blank"),v(r,"rel","noopener"),v(n,"class","player svelte-gqvsl7"),v(o,"class","cell svelte-gqvsl7"),v(t,"class","row svelte-gqvsl7")},m(e,l){p(e,t,l),u(t,n),u(n,r),u(r,s),u(t,a),u(t,o),u(o,i),u(t,c)},p(e,t){2&t&&m!==(m=e[3].player.username+"")&&w(s,m),2&t&&l!==(l=`https://osu.ppy.sh/users/${e[3].player.id}`)&&v(r,"href",l),2&t&&$!==($=e[3].value+"")&&w(i,$)},d(e){e&&d(t)}}}function hl(e){let n,r,s,l,a,o,i;function c(e,t){return"groups"==e[0]?pl:ul}let m=c(e),y=m(e);function b(e,t){return e[1]?dl:ml}let w=b(e),k=w(e);return{c(){n=f("div"),y.c(),r=g(),s=f("a"),l=h("Rankings per map"),o=g(),k.c(),i=$(),v(s,"href",a=`#/${e[0]}!maps`),v(n,"class","links svelte-gqvsl7")},m(e,t){p(e,n,t),y.m(n,null),u(n,r),u(n,s),u(s,l),p(e,o,t),k.m(e,t),p(e,i,t)},p(e,[t]){m===(m=c(e))&&y?y.p(e,t):(y.d(1),y=m(e),y&&(y.c(),y.m(n,r))),1&t&&a!==(a=`#/${e[0]}!maps`)&&v(s,"href",a),w===(w=b(e))&&k?k.p(e,t):(k.d(1),k=w(e),k&&(k.c(),k.m(i.parentNode,i)))},i:t,o:t,d(e){e&&d(n),y.d(),e&&d(o),k.d(e),e&&d(i)}}}function gl(e,t,n){let r,s;o(e,il,(e=>n(1,r=e))),o(e,ol,(e=>n(2,s=e)));let{stage:l}=t;return r&&s==l||(async e=>{const{data:t}=await me("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'query GetRolls($stage: String!) {\n  rolls(\n    filter: {\n      match: {\n        stage: {\n          slug: {\n            _eq: $stage\n          }\n        }\n      }\n    }\n    sort: "-value"\n    limit: -1\n  ) {\n    player {\n      id\n      username\n    }\n    value\n  }\n}',variables:{stage:e}})});il.set(t.rolls)})(l),e.$$set=e=>{"stage"in e&&n(0,l=e.stage)},[l,r]}class $l extends ee{constructor(e){super(),Z(this,e,gl,hl,a,{stage:0})}}function yl(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function vl(e,t,n){const r=e.slice();return r[14]=t[n],r}function bl(e,t,n){const r=e.slice();return r[17]=t[n],r[13]=n,r}function wl(e,t,n){const r=e.slice();return r[14]=t[n],r[20]=n,r}function kl(e){let t,n,r=e[14].username+"";return{c(){t=f("div"),n=h(r),v(t,"class","player")},m(e,r){p(e,t,r),u(t,n)},p(e,t){1&t&&r!==(r=e[14].username+"")&&w(n,r)},d(e){e&&d(t)}}}function xl(e){let t,n,r,s,l,a,o=e[13]+1+"",i=e[17],c=[];for(let t=0;t<i.length;t+=1)c[t]=kl(wl(e,i,t));return{c(){t=f("div"),n=f("h3"),r=h("Group "),s=h(o),l=g();for(let e=0;e<c.length;e+=1)c[e].c();a=g(),v(t,"class","group svelte-c6gifs"),x(t,"active",e[2]==e[13])},m(e,o){p(e,t,o),u(t,n),u(n,r),u(n,s),u(t,l);for(let e=0;e<c.length;e+=1)c[e].m(t,null);u(t,a)},p(e,n){if(1&n){let r;for(i=e[17],r=0;r<i.length;r+=1){const s=wl(e,i,r);c[r]?c[r].p(s,n):(c[r]=kl(s),c[r].c(),c[r].m(t,a))}for(;r<c.length;r+=1)c[r].d(1);c.length=i.length}4&n&&x(t,"active",e[2]==e[13])},d(e){e&&d(t),m(c,e)}}}function Sl(e){let t,n;return t=new Gn({props:{position:e[1].position,player:e[1],maps:e[4]}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.position=e[1].position),2&n&&(r.player=e[1]),16&n&&(r.maps=e[4]),t.$set(r)},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Tl(e){let t;return{c(){t=h("Roll")},m(e,n){p(e,t,n)},d(e){e&&d(t)}}}function Cl(e,t){let n,r;return{key:e,first:null,c(){n=f("img"),v(n,"alt",""),n.src!==(r=t[14].avatar)&&v(n,"src",r),v(n,"class","svelte-c6gifs"),this.first=n},m(e,t){p(e,n,t)},p(e,s){t=e,8&s&&n.src!==(r=t[14].avatar)&&v(n,"src",r)},d(e){e&&d(n)}}}function _l(e){let t,n,r,s,l,a,o=["Top","High","Low","Bottom"][e[13]]+"",i=[],c=new Map,m=e[11];const $=e=>e[14].id;for(let t=0;t<m.length;t+=1){let n=vl(e,m,t),r=$(n);c.set(r,i[t]=Cl(r,n))}return{c(){t=f("div"),n=f("h3"),r=h(o),s=h(" seed"),l=g();for(let e=0;e<i.length;e+=1)i[e].c();a=g(),v(t,"class","seed svelte-c6gifs")},m(e,o){p(e,t,o),u(t,n),u(n,r),u(n,s),u(t,l);for(let e=0;e<i.length;e+=1)i[e].m(t,null);u(t,a)},p(e,n){8&n&&(m=e[11],i=Y(i,n,$,1,e,m,c,t,J,Cl,a,vl))},d(e){e&&d(t);for(let e=0;e<i.length;e+=1)i[e].d()}}}function ql(e){let t,n,r,s,l,a,o,i,c,$,b,k,x,S,T,C,_,q=e[2]+1+"",O=e[0],j=[];for(let t=0;t<O.length;t+=1)j[t]=xl(bl(e,O,t));let M=e[1]&&Sl(e);$=new Ce({props:{$$slots:{default:[Tl]},$$scope:{ctx:e}}}),$.$on("click",e[5]);let N=e[3],L=[];for(let t=0;t<N.length;t+=1)L[t]=_l(yl(e,N,t));return{c(){t=f("div");for(let e=0;e<j.length;e+=1)j[e].c();n=g(),r=f("div"),s=h("Current group: "),l=f("b"),a=h("Group "),o=h(q),i=g(),M&&M.c(),c=g(),Q($.$$.fragment),b=g(),k=f("div");for(let e=0;e<L.length;e+=1)L[e].c();x=g(),S=f("button"),S.textContent="panic",v(t,"class","groups svelte-c6gifs"),v(r,"class","spotlight svelte-c6gifs"),v(k,"class","seeds svelte-c6gifs")},m(d,m){p(d,t,m);for(let e=0;e<j.length;e+=1)j[e].m(t,null);p(d,n,m),p(d,r,m),u(r,s),u(r,l),u(l,a),u(l,o),u(r,i),M&&M.m(r,null),u(r,c),K($,r,null),p(d,b,m),p(d,k,m);for(let e=0;e<L.length;e+=1)L[e].m(k,null);p(d,x,m),p(d,S,m),T=!0,C||(_=y(S,"click",e[9]),C=!0)},p(e,[n]){if(5&n){let r;for(O=e[0],r=0;r<O.length;r+=1){const s=bl(e,O,r);j[r]?j[r].p(s,n):(j[r]=xl(s),j[r].c(),j[r].m(t,null))}for(;r<j.length;r+=1)j[r].d(1);j.length=O.length}(!T||4&n)&&q!==(q=e[2]+1+"")&&w(o,q),e[1]?M?(M.p(e,n),2&n&&I(M,1)):(M=Sl(e),M.c(),I(M,1),M.m(r,c)):M&&(G(),B(M,1,1,(()=>{M=null})),U());const s={};if(2097152&n&&(s.$$scope={dirty:n,ctx:e}),$.$set(s),8&n){let t;for(N=e[3],t=0;t<N.length;t+=1){const r=yl(e,N,t);L[t]?L[t].p(r,n):(L[t]=_l(r),L[t].c(),L[t].m(k,null))}for(;t<L.length;t+=1)L[t].d(1);L.length=N.length}},i(e){T||(I(M),I($.$$.fragment,e),T=!0)},o(e){B(M),B($.$$.fragment,e),T=!1},d(e){e&&d(t),m(j,e),e&&d(n),e&&d(r),M&&M.d(),V($),e&&d(b),e&&d(k),m(L,e),e&&d(x),e&&d(S),C=!1,_()}}}function Ol(e,t,n){let r,s,l,a;o(e,vn,(e=>n(7,s=e))),o(e,le,(e=>n(8,l=e))),o(e,yn,(e=>n(4,a=e)));let i,c=new Array(32).fill(0).map((()=>[{id:"",username:"-"},{id:"",username:"-"},{id:"",username:"-"},{id:"",username:"-"}])),u=new Set,p=0;C((()=>{const e=localStorage.getItem("groups");e&&n(0,c=JSON.parse(e));const t=localStorage.getItem("selectedPlayers");if(t){JSON.parse(t).forEach((e=>u.add(e)))}}));return e.$$.update=()=>{384&e.$$.dirty&&!s&&l&&xn(l),192&e.$$.dirty&&n(3,r=s?[s.slice(0,32).filter((e=>!u.has(e.id))),s.slice(32,64).filter((e=>!u.has(e.id))),s.slice(64,96).filter((e=>!u.has(e.id))),s.slice(96,128).filter((e=>!u.has(e.id)))]:[])},[c,i,p,r,a,()=>{const e=r.find((e=>e.length)),t=e[Math.random()*e.length>>0];n(1,i=t),n(6,u=new Set([...u,t.id])),n(0,c[p][c[p].findIndex((e=>"-"==e.username))]={id:t.id,username:t.username},c),localStorage.setItem("groups",JSON.stringify(c)),localStorage.setItem("selectedPlayers",JSON.stringify(Array.from(u.values()))),n(2,p=31==p?0:p+1)},u,s,l,()=>{localStorage.clear()}]}class jl extends ee{constructor(e){super(),Z(this,e,Ol,ql,a,{})}}function Ml(e){let n,r;return{c(){n=f("textarea"),n.readOnly=!0,n.value=r=`${e[1].name}: M${e[0].id}\n${e[2](`${e[0].players[0].player.username} ${e[0].points1}`,e[0].points1==e[3])} | ${e[2](`${e[0].points2} ${e[0].players[1].player.username}`,e[0].points2==e[3])}\nRolls: ${e[0].rolls.map(e[4]).join(" | ")}\n\nProtects:\n${e[0].protects.map(Nl).join("\n")}\n\nBans:\n${e[0].bans.map(Ll).join("\n")}\n\nMP Link: ${e[0].link}`,v(n,"class","svelte-1you0l4")},m(e,t){p(e,n,t)},p(e,[t]){3&t&&r!==(r=`${e[1].name}: M${e[0].id}\n${e[2](`${e[0].players[0].player.username} ${e[0].points1}`,e[0].points1==e[3])} | ${e[2](`${e[0].points2} ${e[0].players[1].player.username}`,e[0].points2==e[3])}\nRolls: ${e[0].rolls.map(e[4]).join(" | ")}\n\nProtects:\n${e[0].protects.map(Nl).join("\n")}\n\nBans:\n${e[0].bans.map(Ll).join("\n")}\n\nMP Link: ${e[0].link}`)&&(n.value=r)},i:t,o:t,d(e){e&&d(n)}}}const Nl=e=>`${e.player.username}: [${e.map.category}] ${e.map.name}`,Ll=e=>`${e.player.username}: [${e.map.category}] ${e.map.name}`;function Pl(e,t,n){let{match:r}=t,{stage:s}=t;const l=(e,t)=>t?`**${e}**`:e,a=1+(s.best_of/2>>0);return e.$$set=e=>{"match"in e&&n(0,r=e.match),"stage"in e&&n(1,s=e.stage)},[r,s,l,a,(e,t)=>l(e.value,e.value>r.rolls[(t+1)%2]?.value)]}class Dl extends ee{constructor(e){super(),Z(this,e,Pl,Ml,a,{match:0,stage:1})}}const{Map:Al}=W;function El(e,t,n){const r=e.slice();return r[113]=t[n],r}function zl(e,t,n){const r=e.slice();return r[45]=t[n],r}function Hl(e,t,n){const r=e.slice();return r[113]=t[n],r}function Rl(e,t,n){const r=e.slice();return r[113]=t[n],r}function Gl(e,t,n){const r=e.slice();return r[113]=t[n],r}function Ul(e,t,n){const r=e.slice();return r[113]=t[n],r}function Il(e,t,n){const r=e.slice();return r[110]=t[n],r}function Bl(e){let t,n,r,l,a,o,i,c,m,$,b,x,S,T,C,_,q,O,j,M,N,L,P,D,A,E,z,H,R,W,J,F,Y,X,Z,ee,te,ne,re,se,le,ae,oe,ie,ce,ue,pe,de,me,fe,he,ge,$e,ye,ve,be,we,ke,xe,Se,Te,Ce,_e,qe,Oe,je,Me,Ne,Le,Pe,De,Ae,Ee,ze,He,Re,Ge,Ue,Ie,Be,We,Je,Fe,Ye,Qe,Ke,Ve,Xe,Ze,et,tt,nt,rt,st,lt,at,ot,it,ct,ut,pt,dt,mt,ft,ht,gt,$t,yt,vt,bt,wt,kt,xt,St,Tt,Ct,_t,qt,Ot,jt,Mt,Nt,Lt,Pt,Dt,At,Et,zt,Ht,Rt,Gt,Ut,It,Bt,Wt,Jt,Ft,Yt,Qt,Kt,Vt,Xt,Zt,en,tn,nn=e[2].players[0].player.username+"",rn=e[2].players[0].player.seed+"",sn=e[2].players[1].player.username+"",ln=e[2].players[1].player.seed+"",an=e[32]<e[33]?"Tiebreaker (rice)":"Tiebreaker (hybrid)";function on(e,t){return e[2].link?Ql:Yl}a=new Dl({props:{match:e[2],stage:e[35]}});let cn=on(e),un=cn(e);function pn(e,t){return e[2].rolls.length?Vl:Kl}let dn=pn(e),mn=dn(e);const fn=[Zl,Xl],hn=[];function gn(e,t){return e[2].protects[0]?0:e[2].rolls[1]?1:-1}~(Pt=gn(e))&&(Dt=hn[Pt]=fn[Pt](e));const $n=[ra,na],yn=[];function vn(e,t){return e[2].protects[1]?0:e[2].protects[0]?1:-1}~(Et=vn(e))&&(zt=yn[Et]=$n[Et](e));const bn=[ia,oa],wn=[];function kn(e,t){return e[2].bans[0]?0:e[2].protects[1]?1:-1}~(Ut=kn(e))&&(It=wn[Ut]=bn[Ut](e));const xn=[ma,da],Sn=[];function Tn(e,t){return e[2].bans[1]?0:e[2].bans[0]?1:-1}~(Wt=Tn(e))&&(Jt=Sn[Wt]=xn[Wt](e));let Cn=e[2].bans[1]&&$a(e),_n=e[3]==e[0]-1&&e[4]==e[0]-1&&!e[34]&&_a(e),qn=e[3]>=e[0]&&ja(e),On=e[4]>=e[0]&&Ma(e);return{c(){t=f("div"),n=f("a"),n.textContent="Back to matches",r=g(),l=f("center"),Q(a.$$.fragment),o=g(),i=f("center"),c=f("br"),m=f("br"),$=g(),b=f("a"),x=h("Emergency match editing link if you make a tremendous mistake"),T=g(),C=f("br"),_=f("br"),q=g(),O=f("div"),j=f("div"),M=h(e[3]),N=g(),L=f("div"),P=f("img"),A=g(),E=f("a"),z=h(nn),H=h(" (#"),R=h(rn),W=h(")"),F=g(),Y=f("div"),Y.textContent="vs.",X=g(),Z=f("div"),ee=f("img"),ne=g(),re=f("a"),se=h(sn),le=h(" (#"),ae=h(ln),oe=h(")"),ce=g(),ue=f("div"),pe=h(e[4]),de=g(),me=f("center"),fe=h("Weighted counts: "),he=h(e[32]),ge=h(" rice vs. "),$e=h(e[33]),ye=h(" LN+Hybrid"),ve=f("br"),be=h("\n    Current tiebreaker: "),we=h(an),ke=g(),xe=f("div"),Se=h("Create and prepare your lobby\n    "),Te=f("div"),Ce=f("input"),qe=g(),Oe=f("a"),Oe.textContent="📝 Copy",je=g(),Me=f("div"),Ne=f("input"),Le=g(),Pe=f("a"),Pe.textContent="📝 Copy",De=g(),Ae=f("div"),Ee=f("input"),ze=g(),He=f("a"),He.textContent="📝 Copy",Re=g(),Ge=f("div"),Ue=f("input"),Be=g(),We=f("a"),We.textContent="📝 Copy",Je=g(),Fe=f("div"),Ye=f("input"),Ke=g(),Ve=f("a"),Ve.textContent="📝 Copy",Xe=g(),Ze=f("div"),et=f("input"),nt=g(),rt=f("a"),rt.textContent="📝 Copy",st=g(),un.c(),lt=g(),at=f("div"),ot=f("center"),ot.innerHTML="Warmup rules: 4 minutes max, non-offensive<br/>\n      Ask for them 30 minutes in advance",it=g(),ct=f("div"),ut=f("input"),pt=g(),dt=f("input"),mt=g(),ft=f("div"),ht=f("input"),$t=g(),yt=f("a"),yt.textContent="📝 Copy",vt=g(),bt=f("div"),wt=f("input"),xt=g(),St=f("a"),St.textContent="📝 Copy",Tt=g(),Ct=f("div"),_t=h("Rolls\n    "),qt=f("div"),Ot=f("input"),jt=g(),Mt=f("a"),Mt.textContent="📝 Copy",Nt=g(),mn.c(),Lt=g(),Dt&&Dt.c(),At=g(),zt&&zt.c(),Ht=g(),Rt=f("hr"),Gt=g(),It&&It.c(),Bt=g(),Jt&&Jt.c(),Ft=g(),Yt=f("hr"),Qt=g(),Cn&&Cn.c(),Kt=g(),_n&&_n.c(),Vt=g(),qn&&qn.c(),Xt=g(),On&&On.c(),v(n,"href","#/referee!helper"),v(b,"href",S=`https://api.mbs3.fightthe.pw/admin/collections/matches/${e[2].id}`),v(b,"target","_blank"),v(j,"class","points svelte-htbg4y"),v(P,"alt",""),P.src!==(D=e[2].players[0].player.avatar)&&v(P,"src",D),v(P,"class","svelte-htbg4y"),v(E,"href",J=`https://osu.ppy.sh/users/${e[2].players[0].player.id}`),v(L,"class","player svelte-htbg4y"),v(Y,"class","vs svelte-htbg4y"),v(ee,"alt",""),ee.src!==(te=e[2].players[1].player.avatar)&&v(ee,"src",te),v(ee,"class","svelte-htbg4y"),v(re,"href",ie=`https://osu.ppy.sh/users/${e[2].players[1].player.id}`),v(Z,"class","player svelte-htbg4y"),v(ue,"class","points svelte-htbg4y"),v(O,"class","players svelte-htbg4y"),v(me,"class","picks svelte-htbg4y"),Ce.readOnly=!0,Ce.value=_e=`!mp make MBS3: (${e[2].players[0].player.username}) vs. (${e[2].players[1].player.username})`,v(Ce,"class","svelte-htbg4y"),v(Oe,"href","#/referee!helper"),v(Oe,"class","copy"),Ne.readOnly=!0,Ne.value="!mp set 0 3 3",v(Ne,"class","svelte-htbg4y"),v(Pe,"href","#/referee!helper"),v(Pe,"class","copy"),Ee.readOnly=!0,Ee.value="!mp mods Freemod",v(Ee,"class","svelte-htbg4y"),v(He,"href","#/referee!helper"),v(He,"class","copy"),Ue.readOnly=!0,Ue.value=Ie=`!mp addref ${e[2].streamer?.username||"whoever's currently streaming"}`,v(Ue,"class","svelte-htbg4y"),v(We,"href","#/referee!helper"),v(We,"class","copy"),Ye.readOnly=!0,Ye.value=Qe=`!mp invite #${e[2].players[0].player.id}`,v(Ye,"class","svelte-htbg4y"),v(Ve,"href","#/referee!helper"),v(Ve,"class","copy"),et.readOnly=!0,et.value=tt=`!mp invite #${e[2].players[1].player.id}`,v(et,"class","svelte-htbg4y"),v(rt,"href","#/referee!helper"),v(rt,"class","copy"),v(xe,"class","init svelte-htbg4y"),v(ut,"placeholder","Beatmap link 1"),v(ut,"class","svelte-htbg4y"),v(dt,"placeholder","Beatmap link 2"),v(dt,"class","svelte-htbg4y"),v(ct,"class","values svelte-htbg4y"),ht.readOnly=!0,ht.value=gt=`!mp map ${e[27].split("/").pop()} 3 ${e[2].players[0].player.username}'s warmup`,v(ht,"class","svelte-htbg4y"),v(yt,"href","#/referee!helper"),v(yt,"class","copy"),v(ft,"class","warmup svelte-htbg4y"),wt.readOnly=!0,wt.value=kt=`!mp map ${e[28].split("/").pop()} 3 ${e[2].players[1].player.username}'s warmup`,v(wt,"class","svelte-htbg4y"),v(St,"href","#/referee!helper"),v(St,"class","copy"),v(bt,"class","warmup svelte-htbg4y"),v(at,"class","warmups svelte-htbg4y"),Ot.readOnly=!0,Ot.value="Time to roll: each player will !roll, the highest one will protect first and ban second!",v(Ot,"class","svelte-htbg4y"),v(Mt,"href","#/referee!helper"),v(Mt,"class","copy"),v(qt,"class","call svelte-htbg4y"),v(Ct,"class","rolls svelte-htbg4y"),v(t,"class","match")},m(s,d){p(s,t,d),u(t,n),u(t,r),u(t,l),K(a,l,null),u(t,o),u(t,i),u(i,c),u(i,m),u(i,$),u(i,b),u(b,x),u(i,T),u(i,C),u(i,_),u(t,q),u(t,O),u(O,j),u(j,M),u(O,N),u(O,L),u(L,P),u(L,A),u(L,E),u(E,z),u(E,H),u(E,R),u(E,W),u(O,F),u(O,Y),u(O,X),u(O,Z),u(Z,ee),u(Z,ne),u(Z,re),u(re,se),u(re,le),u(re,ae),u(re,oe),u(O,ce),u(O,ue),u(ue,pe),u(t,de),u(t,me),u(me,fe),u(me,he),u(me,ge),u(me,$e),u(me,ye),u(me,ve),u(me,be),u(me,we),u(t,ke),u(t,xe),u(xe,Se),u(xe,Te),u(Te,Ce),e[55](Ce),u(Te,qe),u(Te,Oe),u(xe,je),u(xe,Me),u(Me,Ne),e[57](Ne),u(Me,Le),u(Me,Pe),u(xe,De),u(xe,Ae),u(Ae,Ee),e[59](Ee),u(Ae,ze),u(Ae,He),u(xe,Re),u(xe,Ge),u(Ge,Ue),e[61](Ue),u(Ge,Be),u(Ge,We),u(xe,Je),u(xe,Fe),u(Fe,Ye),e[63](Ye),u(Fe,Ke),u(Fe,Ve),u(xe,Xe),u(xe,Ze),u(Ze,et),e[65](et),u(Ze,nt),u(Ze,rt),u(t,st),un.m(t,null),u(t,lt),u(t,at),u(at,ot),u(at,it),u(at,ct),u(ct,ut),k(ut,e[27]),u(ct,pt),u(ct,dt),k(dt,e[28]),u(at,mt),u(at,ft),u(ft,ht),e[70](ht),u(ft,$t),u(ft,yt),u(at,vt),u(at,bt),u(bt,wt),e[72](wt),u(bt,xt),u(bt,St),u(t,Tt),u(t,Ct),u(Ct,_t),u(Ct,qt),u(qt,Ot),e[74](Ot),u(qt,jt),u(qt,Mt),u(Ct,Nt),mn.m(Ct,null),u(t,Lt),~Pt&&hn[Pt].m(t,null),u(t,At),~Et&&yn[Et].m(t,null),u(t,Ht),u(t,Rt),u(t,Gt),~Ut&&wn[Ut].m(t,null),u(t,Bt),~Wt&&Sn[Wt].m(t,null),u(t,Ft),u(t,Yt),u(t,Qt),Cn&&Cn.m(t,null),u(t,Kt),_n&&_n.m(t,null),u(t,Vt),qn&&qn.m(t,null),u(t,Xt),On&&On.m(t,null),Zt=!0,en||(tn=[y(n,"click",e[54]),y(Oe,"click",e[56]),y(Pe,"click",e[58]),y(He,"click",e[60]),y(We,"click",e[62]),y(Ve,"click",e[64]),y(rt,"click",e[66]),y(ut,"input",e[68]),y(dt,"input",e[69]),y(yt,"click",e[71]),y(St,"click",e[73]),y(Mt,"click",e[75])],en=!0)},p(e,n){const r={};4&n[0]&&(r.match=e[2]),a.$set(r),(!Zt||4&n[0]&&S!==(S=`https://api.mbs3.fightthe.pw/admin/collections/matches/${e[2].id}`))&&v(b,"href",S),(!Zt||8&n[0])&&w(M,e[3]),(!Zt||4&n[0]&&P.src!==(D=e[2].players[0].player.avatar))&&v(P,"src",D),(!Zt||4&n[0])&&nn!==(nn=e[2].players[0].player.username+"")&&w(z,nn),(!Zt||4&n[0])&&rn!==(rn=e[2].players[0].player.seed+"")&&w(R,rn),(!Zt||4&n[0]&&J!==(J=`https://osu.ppy.sh/users/${e[2].players[0].player.id}`))&&v(E,"href",J),(!Zt||4&n[0]&&ee.src!==(te=e[2].players[1].player.avatar))&&v(ee,"src",te),(!Zt||4&n[0])&&sn!==(sn=e[2].players[1].player.username+"")&&w(se,sn),(!Zt||4&n[0])&&ln!==(ln=e[2].players[1].player.seed+"")&&w(ae,ln),(!Zt||4&n[0]&&ie!==(ie=`https://osu.ppy.sh/users/${e[2].players[1].player.id}`))&&v(re,"href",ie),(!Zt||16&n[0])&&w(pe,e[4]),(!Zt||2&n[1])&&w(he,e[32]),(!Zt||4&n[1])&&w($e,e[33]),(!Zt||6&n[1])&&an!==(an=e[32]<e[33]?"Tiebreaker (rice)":"Tiebreaker (hybrid)")&&w(we,an),(!Zt||4&n[0]&&_e!==(_e=`!mp make MBS3: (${e[2].players[0].player.username}) vs. (${e[2].players[1].player.username})`)&&Ce.value!==_e)&&(Ce.value=_e),(!Zt||4&n[0]&&Ie!==(Ie=`!mp addref ${e[2].streamer?.username||"whoever's currently streaming"}`)&&Ue.value!==Ie)&&(Ue.value=Ie),(!Zt||4&n[0]&&Qe!==(Qe=`!mp invite #${e[2].players[0].player.id}`)&&Ye.value!==Qe)&&(Ye.value=Qe),(!Zt||4&n[0]&&tt!==(tt=`!mp invite #${e[2].players[1].player.id}`)&&et.value!==tt)&&(et.value=tt),cn===(cn=on(e))&&un?un.p(e,n):(un.d(1),un=cn(e),un&&(un.c(),un.m(t,lt))),134217728&n[0]&&ut.value!==e[27]&&k(ut,e[27]),268435456&n[0]&&dt.value!==e[28]&&k(dt,e[28]),(!Zt||134217732&n[0]&&gt!==(gt=`!mp map ${e[27].split("/").pop()} 3 ${e[2].players[0].player.username}'s warmup`)&&ht.value!==gt)&&(ht.value=gt),(!Zt||268435460&n[0]&&kt!==(kt=`!mp map ${e[28].split("/").pop()} 3 ${e[2].players[1].player.username}'s warmup`)&&wt.value!==kt)&&(wt.value=kt),dn===(dn=pn(e))&&mn?mn.p(e,n):(mn.d(1),mn=dn(e),mn&&(mn.c(),mn.m(Ct,null)));let s=Pt;Pt=gn(e),Pt===s?~Pt&&hn[Pt].p(e,n):(Dt&&(G(),B(hn[s],1,1,(()=>{hn[s]=null})),U()),~Pt?(Dt=hn[Pt],Dt?Dt.p(e,n):(Dt=hn[Pt]=fn[Pt](e),Dt.c()),I(Dt,1),Dt.m(t,At)):Dt=null);let l=Et;Et=vn(e),Et===l?~Et&&yn[Et].p(e,n):(zt&&(G(),B(yn[l],1,1,(()=>{yn[l]=null})),U()),~Et?(zt=yn[Et],zt?zt.p(e,n):(zt=yn[Et]=$n[Et](e),zt.c()),I(zt,1),zt.m(t,Ht)):zt=null);let o=Ut;Ut=kn(e),Ut===o?~Ut&&wn[Ut].p(e,n):(It&&(G(),B(wn[o],1,1,(()=>{wn[o]=null})),U()),~Ut?(It=wn[Ut],It?It.p(e,n):(It=wn[Ut]=bn[Ut](e),It.c()),I(It,1),It.m(t,Bt)):It=null);let i=Wt;Wt=Tn(e),Wt===i?~Wt&&Sn[Wt].p(e,n):(Jt&&(G(),B(Sn[i],1,1,(()=>{Sn[i]=null})),U()),~Wt?(Jt=Sn[Wt],Jt?Jt.p(e,n):(Jt=Sn[Wt]=xn[Wt](e),Jt.c()),I(Jt,1),Jt.m(t,Ft)):Jt=null),e[2].bans[1]?Cn?(Cn.p(e,n),4&n[0]&&I(Cn,1)):(Cn=$a(e),Cn.c(),I(Cn,1),Cn.m(t,Kt)):Cn&&(G(),B(Cn,1,1,(()=>{Cn=null})),U()),e[3]!=e[0]-1||e[4]!=e[0]-1||e[34]?_n&&(G(),B(_n,1,1,(()=>{_n=null})),U()):_n?(_n.p(e,n),25&n[0]|8&n[1]&&I(_n,1)):(_n=_a(e),_n.c(),I(_n,1),_n.m(t,Vt)),e[3]>=e[0]?qn?qn.p(e,n):(qn=ja(e),qn.c(),qn.m(t,Xt)):qn&&(qn.d(1),qn=null),e[4]>=e[0]?On?On.p(e,n):(On=Ma(e),On.c(),On.m(t,null)):On&&(On.d(1),On=null)},i(e){Zt||(I(a.$$.fragment,e),I(Dt),I(zt),I(It),I(Jt),I(Cn),I(_n),Zt=!0)},o(e){B(a.$$.fragment,e),B(Dt),B(zt),B(It),B(Jt),B(Cn),B(_n),Zt=!1},d(n){n&&d(t),V(a),e[55](null),e[57](null),e[59](null),e[61](null),e[63](null),e[65](null),un.d(),e[70](null),e[72](null),e[74](null),mn.d(),~Pt&&hn[Pt].d(),~Et&&yn[Et].d(),~Ut&&wn[Ut].d(),~Wt&&Sn[Wt].d(),Cn&&Cn.d(),_n&&_n.d(),qn&&qn.d(),On&&On.d(),en=!1,s(tn)}}}function Wl(e){let t,n,r,l,a,o,i,c,m,$,b,k,x=e[24]?"Show all matches":"Show only my matches",S=e[25]?"Hide past matches":"Show past matches",T=[],C=new Al,_=e[6];const q=e=>e[110].id;for(let t=0;t<_.length;t+=1){let n=Il(e,_,t),r=q(n);C.set(r,T[t]=La(r,n))}return{c(){t=f("a"),n=h(x),r=h("\n   \n"),l=f("a"),a=h(S),o=g(),i=f("div"),c=f("center"),c.textContent="Select a match",m=g();for(let e=0;e<T.length;e+=1)T[e].c();v(t,"href","#/referee!helper"),v(l,"href","#/referee!helper"),v(i,"class","matches svelte-htbg4y")},m(s,d){p(s,t,d),u(t,n),p(s,r,d),p(s,l,d),u(l,a),p(s,o,d),p(s,i,d),u(i,c),u(i,m);for(let e=0;e<T.length;e+=1)T[e].m(i,null);$=!0,b||(k=[y(t,"click",e[51]),y(l,"click",e[52])],b=!0)},p(e,t){(!$||16777216&t[0])&&x!==(x=e[24]?"Show all matches":"Show only my matches")&&w(n,x),(!$||33554432&t[0])&&S!==(S=e[25]?"Hide past matches":"Show past matches")&&w(a,S),50331745&t[0]|32&t[1]&&(_=e[6],G(),T=Y(T,t,q,1,e,_,C,i,F,La,null,Il),U())},i(e){if(!$){for(let e=0;e<_.length;e+=1)I(T[e]);$=!0}},o(e){for(let e=0;e<T.length;e+=1)B(T[e]);$=!1},d(e){e&&d(t),e&&d(r),e&&d(l),e&&d(o),e&&d(i);for(let e=0;e<T.length;e+=1)T[e].d();b=!1,s(k)}}}function Jl(e){let n;return{c(){n=h("Loading matches...")},m(e,t){p(e,n,t)},p:t,i:t,o:t,d(e){e&&d(n)}}}function Fl(e){let n;return{c(){n=f("a"),n.textContent="Login",v(n,"href","https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw")},m(e,t){p(e,n,t)},p:t,i:t,o:t,d(e){e&&d(n)}}}function Yl(e){let t,n,r,l,a,o,i,c;return{c(){t=f("div"),n=h("Paste your MP link here\n    "),r=f("div"),l=f("input"),a=g(),o=f("button"),o.textContent="Save and send MP link",v(l,"placeholder","MP Link"),v(l,"class","svelte-htbg4y"),v(r,"class","values svelte-htbg4y"),v(t,"class","init svelte-htbg4y")},m(s,d){p(s,t,d),u(t,n),u(t,r),u(r,l),k(l,e[26]),u(t,a),u(t,o),i||(c=[y(l,"input",e[67]),y(o,"click",e[38])],i=!0)},p(e,t){67108864&t[0]&&l.value!==e[26]&&k(l,e[26])},d(e){e&&d(t),i=!1,s(c)}}}function Ql(e){let t,n,r,s,l;return{c(){t=f("center"),n=f("h1"),r=f("a"),s=h("MP Link"),v(r,"href",l=e[2].link)},m(e,l){p(e,t,l),u(t,n),u(n,r),u(r,s)},p(e,t){4&t[0]&&l!==(l=e[2].link)&&v(r,"href",l)},d(e){e&&d(t)}}}function Kl(e){let t,n,r,l,a,o,i,c;return{c(){t=f("div"),n=f("input"),r=g(),l=f("input"),a=g(),o=f("button"),o.textContent="Confirm rolls",v(n,"placeholder","Roll 1"),v(n,"type","number"),v(n,"class","svelte-htbg4y"),v(l,"placeholder","Roll 2"),v(l,"type","number"),v(l,"class","svelte-htbg4y"),v(t,"class","values svelte-htbg4y")},m(s,d){p(s,t,d),u(t,n),k(n,e[29]),u(t,r),u(t,l),k(l,e[30]),p(s,a,d),p(s,o,d),i||(c=[y(n,"input",e[76]),y(l,"input",e[77]),y(o,"click",e[39])],i=!0)},p(e,t){536870912&t[0]&&b(n.value)!==e[29]&&k(n,e[29]),1073741824&t[0]&&b(l.value)!==e[30]&&k(l,e[30])},d(e){e&&d(t),e&&d(a),e&&d(o),i=!1,s(c)}}}function Vl(e){let t,n,r,s,l,a,o=e[2].rolls[0].value+"",i=e[2].rolls[1].value+"";return{c(){t=f("div"),n=f("b"),r=h(o),s=h(" vs.\n      "),l=f("b"),a=h(i),v(t,"class","values svelte-htbg4y")},m(e,o){p(e,t,o),u(t,n),u(n,r),u(t,s),u(t,l),u(l,a)},p(e,t){4&t[0]&&o!==(o=e[2].rolls[0].value+"")&&w(r,o),4&t[0]&&i!==(i=e[2].rolls[1].value+"")&&w(a,i)},d(e){e&&d(t)}}}function Xl(e){let t,n,r,s,l,a,o,i,c,m,h,$,b,w=[],k=new Al,x=e[7];const S=e=>e[113].id;for(let t=0;t<x.length;t+=1){let n=Ul(e,x,t),r=S(n);k.set(r,w[t]=ta(r,n))}return{c(){t=f("div"),n=f("center"),n.innerHTML="Protects<br/>\n      Roll winner protects first",r=g(),s=f("div"),l=f("input"),o=g(),i=f("a"),i.textContent="📝 Copy",c=g(),m=f("div");for(let e=0;e<w.length;e+=1)w[e].c();l.readOnly=!0,l.value=a=`${e[44](e[2],"winner").username} wins the roll and protects first! Pick a map to protect: this map will not be able to be banned.`,v(l,"class","svelte-htbg4y"),v(i,"href","#/referee!helper"),v(i,"class","copy"),v(s,"class","call svelte-htbg4y"),v(m,"class","maps svelte-htbg4y"),v(t,"class","protects svelte-htbg4y")},m(a,d){p(a,t,d),u(t,n),u(t,r),u(t,s),u(s,l),e[79](l),u(s,o),u(s,i),u(t,c),u(t,m);for(let e=0;e<w.length;e+=1)w[e].m(m,null);h=!0,$||(b=y(i,"click",e[80]),$=!0)},p(e,t){(!h||4&t[0]&&a!==(a=`${e[44](e[2],"winner").username} wins the roll and protects first! Pick a map to protect: this map will not be able to be banned.`)&&l.value!==a)&&(l.value=a),132&t[0]|8704&t[1]&&(x=e[7],G(),w=Y(w,t,S,1,e,x,k,m,F,ta,null,Ul),U())},i(e){if(!h){for(let e=0;e<x.length;e+=1)I(w[e]);h=!0}},o(e){for(let e=0;e<w.length;e+=1)B(w[e]);h=!1},d(n){n&&d(t),e[79](null);for(let e=0;e<w.length;e+=1)w[e].d();$=!1,b()}}}function Zl(e){let t,n,r,s,l,a=e[44](e[2],"winner").username+"";return s=new Xt({props:{map:e[7].find(e[78])}}),{c(){t=f("div"),n=h(a),r=h("'s protect\n    "),Q(s.$$.fragment),v(t,"class","protects svelte-htbg4y")},m(e,a){p(e,t,a),u(t,n),u(t,r),K(s,t,null),l=!0},p(e,t){(!l||4&t[0])&&a!==(a=e[44](e[2],"winner").username+"")&&w(n,a);const r={};132&t[0]&&(r.map=e[7].find(e[78])),s.$set(r)},i(e){l||(I(s.$$.fragment,e),l=!0)},o(e){B(s.$$.fragment,e),l=!1},d(e){e&&d(t),V(s)}}}function ea(e){let t,n;return t=new Xt({props:{map:e[113]}}),t.$on("click",(function(...t){return e[81](e[113],...t)})),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},p(n,r){e=n;const s={};128&r[0]&&(s.map=e[113]),t.$set(s)},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function ta(e,t){let n,r,s,l=!t[113].category.startsWith("Tiebreaker"),a=l&&ea(t);return{key:e,first:null,c(){n=$(),a&&a.c(),r=$(),this.first=n},m(e,t){p(e,n,t),a&&a.m(e,t),p(e,r,t),s=!0},p(e,n){t=e,128&n[0]&&(l=!t[113].category.startsWith("Tiebreaker")),l?a?(a.p(t,n),128&n[0]&&I(a,1)):(a=ea(t),a.c(),I(a,1),a.m(r.parentNode,r)):a&&(G(),B(a,1,1,(()=>{a=null})),U())},i(e){s||(I(a),s=!0)},o(e){B(a),s=!1},d(e){e&&d(n),a&&a.d(e),e&&d(r)}}}function na(e){let t,n,r,s,l,a,o,i,c,m,h,$=[],b=new Al,w=e[7];const k=e=>e[113].id;for(let t=0;t<w.length;t+=1){let n=Gl(e,w,t),r=k(n);b.set(r,$[t]=aa(r,n))}return{c(){t=f("div"),n=f("div"),r=f("input"),l=g(),a=f("a"),a.textContent="📝 Copy",o=g(),i=f("div");for(let e=0;e<$.length;e+=1)$[e].c();r.readOnly=!0,r.value=s=`${e[44](e[2],"loser").username} protects second: pick a map to protect`,v(r,"class","svelte-htbg4y"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(n,"class","call svelte-htbg4y"),v(i,"class","maps svelte-htbg4y"),v(t,"class","protects svelte-htbg4y")},m(s,d){p(s,t,d),u(t,n),u(n,r),e[83](r),u(n,l),u(n,a),u(t,o),u(t,i);for(let e=0;e<$.length;e+=1)$[e].m(i,null);c=!0,m||(h=y(a,"click",e[84]),m=!0)},p(e,t){(!c||4&t[0]&&s!==(s=`${e[44](e[2],"loser").username} protects second: pick a map to protect`)&&r.value!==s)&&(r.value=s),132&t[0]|8704&t[1]&&(w=e[7],G(),$=Y($,t,k,1,e,w,b,i,F,aa,null,Gl),U())},i(e){if(!c){for(let e=0;e<w.length;e+=1)I($[e]);c=!0}},o(e){for(let e=0;e<$.length;e+=1)B($[e]);c=!1},d(n){n&&d(t),e[83](null);for(let e=0;e<$.length;e+=1)$[e].d();m=!1,h()}}}function ra(e){let t,n,r,s,l,a=e[44](e[2],"loser").username+"";return s=new Xt({props:{map:e[7].find(e[82])}}),{c(){t=f("div"),n=h(a),r=h("'s protect\n    "),Q(s.$$.fragment),v(t,"class","protects svelte-htbg4y")},m(e,a){p(e,t,a),u(t,n),u(t,r),K(s,t,null),l=!0},p(e,t){(!l||4&t[0])&&a!==(a=e[44](e[2],"loser").username+"")&&w(n,a);const r={};132&t[0]&&(r.map=e[7].find(e[82])),s.$set(r)},i(e){l||(I(s.$$.fragment,e),l=!0)},o(e){B(s.$$.fragment,e),l=!1},d(e){e&&d(t),V(s)}}}function sa(e){let t,n,r;return n=new Xt({props:{map:e[113]}}),{c(){t=f("div"),Q(n.$$.fragment),v(t,"class","disabled svelte-htbg4y")},m(e,s){p(e,t,s),K(n,t,null),r=!0},p(e,t){const r={};128&t[0]&&(r.map=e[113]),n.$set(r)},i(e){r||(I(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){e&&d(t),V(n)}}}function la(e){let t,n;return t=new Xt({props:{map:e[113]}}),t.$on("click",(function(...t){return e[85](e[113],...t)})),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},p(n,r){e=n;const s={};128&r[0]&&(s.map=e[113]),t.$set(s)},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function aa(e,t){let n,r,s,l,a,o;const i=[la,sa],c=[];function u(e,t){return 132&t[0]&&(r=!(e[113].category.startsWith("Tiebreaker")||e[2].protects[0]?.map.id==e[113].id)),r?0:e[2].protects[0]?.map.id==e[113].id?1:-1}return~(s=u(t,[-1]))&&(l=c[s]=i[s](t)),{key:e,first:null,c(){n=$(),l&&l.c(),a=$(),this.first=n},m(e,t){p(e,n,t),~s&&c[s].m(e,t),p(e,a,t),o=!0},p(e,n){let r=s;s=u(t=e,n),s===r?~s&&c[s].p(t,n):(l&&(G(),B(c[r],1,1,(()=>{c[r]=null})),U()),~s?(l=c[s],l?l.p(t,n):(l=c[s]=i[s](t),l.c()),I(l,1),l.m(a.parentNode,a)):l=null)},i(e){o||(I(l),o=!0)},o(e){B(l),o=!1},d(e){e&&d(n),~s&&c[s].d(e),e&&d(a)}}}function oa(e){let t,n,r,s,l,a,o,i,c,m,h,$,b,w=[],k=new Al,x=e[7];const S=e=>e[113].id;for(let t=0;t<x.length;t+=1){let n=Rl(e,x,t),r=S(n);k.set(r,w[t]=pa(r,n))}return{c(){t=f("div"),n=f("center"),n.innerHTML="Bans<br/>\n      Roll loser bans first",r=g(),s=f("div"),l=f("input"),o=g(),i=f("a"),i.textContent="📝 Copy",c=g(),m=f("div");for(let e=0;e<w.length;e+=1)w[e].c();l.readOnly=!0,l.value=a=`${e[44](e[2],"loser").username} bans first! Pick a map to ban: this map will not be able to be picked in the match.`,v(l,"class","svelte-htbg4y"),v(i,"href","#/referee!helper"),v(i,"class","copy"),v(s,"class","call svelte-htbg4y"),v(m,"class","maps svelte-htbg4y"),v(t,"class","bans svelte-htbg4y")},m(a,d){p(a,t,d),u(t,n),u(t,r),u(t,s),u(s,l),e[87](l),u(s,o),u(s,i),u(t,c),u(t,m);for(let e=0;e<w.length;e+=1)w[e].m(m,null);h=!0,$||(b=y(i,"click",e[88]),$=!0)},p(e,t){(!h||4&t[0]&&a!==(a=`${e[44](e[2],"loser").username} bans first! Pick a map to ban: this map will not be able to be picked in the match.`)&&l.value!==a)&&(l.value=a),132&t[0]|9216&t[1]&&(x=e[7],G(),w=Y(w,t,S,1,e,x,k,m,F,pa,null,Rl),U())},i(e){if(!h){for(let e=0;e<x.length;e+=1)I(w[e]);h=!0}},o(e){for(let e=0;e<w.length;e+=1)B(w[e]);h=!1},d(n){n&&d(t),e[87](null);for(let e=0;e<w.length;e+=1)w[e].d();$=!1,b()}}}function ia(e){let t,n,r,s,l,a=e[44](e[2],"loser").username+"";return s=new Xt({props:{map:e[7].find(e[86])}}),{c(){t=f("div"),n=h(a),r=h("'s ban\n    "),Q(s.$$.fragment),v(t,"class","bans svelte-htbg4y")},m(e,a){p(e,t,a),u(t,n),u(t,r),K(s,t,null),l=!0},p(e,t){(!l||4&t[0])&&a!==(a=e[44](e[2],"loser").username+"")&&w(n,a);const r={};132&t[0]&&(r.map=e[7].find(e[86])),s.$set(r)},i(e){l||(I(s.$$.fragment,e),l=!0)},o(e){B(s.$$.fragment,e),l=!1},d(e){e&&d(t),V(s)}}}function ca(e){let t,n,r;return n=new Xt({props:{map:e[113]}}),{c(){t=f("div"),Q(n.$$.fragment),v(t,"class","disabled svelte-htbg4y")},m(e,s){p(e,t,s),K(n,t,null),r=!0},p(e,t){const r={};128&t[0]&&(r.map=e[113]),n.$set(r)},i(e){r||(I(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){e&&d(t),V(n)}}}function ua(e){let t,n;return t=new Xt({props:{map:e[113]}}),t.$on("click",(function(...t){return e[89](e[113],...t)})),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},p(n,r){e=n;const s={};128&r[0]&&(s.map=e[113]),t.$set(s)},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function pa(e,t){let n,r,s,l,a,o;const i=[ua,ca],c=[];function u(e,t){return 132&t[0]&&(r=!(e[113].category.startsWith("Tiebreaker")||e[2].protects[0]?.map?.id==e[113].id||e[2].protects[1]?.map?.id==e[113].id)),r?0:e[2].protects[0]?.map?.id==e[113].id||e[2].protects[1]?.map?.id==e[113].id?1:-1}return~(s=u(t,[-1]))&&(l=c[s]=i[s](t)),{key:e,first:null,c(){n=$(),l&&l.c(),a=$(),this.first=n},m(e,t){p(e,n,t),~s&&c[s].m(e,t),p(e,a,t),o=!0},p(e,n){let r=s;s=u(t=e,n),s===r?~s&&c[s].p(t,n):(l&&(G(),B(c[r],1,1,(()=>{c[r]=null})),U()),~s?(l=c[s],l?l.p(t,n):(l=c[s]=i[s](t),l.c()),I(l,1),l.m(a.parentNode,a)):l=null)},i(e){o||(I(l),o=!0)},o(e){B(l),o=!1},d(e){e&&d(n),~s&&c[s].d(e),e&&d(a)}}}function da(e){let t,n,r,s,l,a,o,i,c,m,h,$=[],b=new Al,w=e[7];const k=e=>e[113].id;for(let t=0;t<w.length;t+=1){let n=Hl(e,w,t),r=k(n);b.set(r,$[t]=ga(r,n))}return{c(){t=f("div"),n=f("div"),r=f("input"),l=g(),a=f("a"),a.textContent="📝 Copy",o=g(),i=f("div");for(let e=0;e<$.length;e+=1)$[e].c();r.readOnly=!0,r.value=s=`${e[44](e[2],"winner").username}'s turn to ban: pick a map to ban`,v(r,"class","svelte-htbg4y"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(n,"class","call svelte-htbg4y"),v(i,"class","maps svelte-htbg4y"),v(t,"class","bans svelte-htbg4y")},m(s,d){p(s,t,d),u(t,n),u(n,r),e[91](r),u(n,l),u(n,a),u(t,o),u(t,i);for(let e=0;e<$.length;e+=1)$[e].m(i,null);c=!0,m||(h=y(a,"click",e[92]),m=!0)},p(e,t){(!c||4&t[0]&&s!==(s=`${e[44](e[2],"winner").username}'s turn to ban: pick a map to ban`)&&r.value!==s)&&(r.value=s),132&t[0]|9216&t[1]&&(w=e[7],G(),$=Y($,t,k,1,e,w,b,i,F,ga,null,Hl),U())},i(e){if(!c){for(let e=0;e<w.length;e+=1)I($[e]);c=!0}},o(e){for(let e=0;e<$.length;e+=1)B($[e]);c=!1},d(n){n&&d(t),e[91](null);for(let e=0;e<$.length;e+=1)$[e].d();m=!1,h()}}}function ma(e){let t,n,r,s,l,a=e[44](e[2],"winner").username+"";return s=new Xt({props:{map:e[7].find(e[90])}}),{c(){t=f("div"),n=h(a),r=h("'s ban\n    "),Q(s.$$.fragment),v(t,"class","bans svelte-htbg4y")},m(e,a){p(e,t,a),u(t,n),u(t,r),K(s,t,null),l=!0},p(e,t){(!l||4&t[0])&&a!==(a=e[44](e[2],"winner").username+"")&&w(n,a);const r={};132&t[0]&&(r.map=e[7].find(e[90])),s.$set(r)},i(e){l||(I(s.$$.fragment,e),l=!0)},o(e){B(s.$$.fragment,e),l=!1},d(e){e&&d(t),V(s)}}}function fa(e){let t,n,r;return n=new Xt({props:{map:e[113]}}),{c(){t=f("div"),Q(n.$$.fragment),v(t,"class","disabled svelte-htbg4y")},m(e,s){p(e,t,s),K(n,t,null),r=!0},p(e,t){const r={};128&t[0]&&(r.map=e[113]),n.$set(r)},i(e){r||(I(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){e&&d(t),V(n)}}}function ha(e){let t,n;return t=new Xt({props:{map:e[113]}}),t.$on("click",(function(...t){return e[93](e[113],...t)})),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},p(n,r){e=n;const s={};128&r[0]&&(s.map=e[113]),t.$set(s)},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function ga(e,t){let n,r,s,l,a,o;const i=[ha,fa],c=[];function u(e,t){return 132&t[0]&&(r=!(e[113].category.startsWith("Tiebreaker")||e[2].protects[0]?.map?.id==e[113].id||e[2].protects[1]?.map?.id==e[113].id||e[2].bans[0]?.map.id==e[113].id)),r?0:e[2].protects[0]?.map?.id==e[113].id||e[2].protects[1]?.map?.id==e[113].id||e[2].bans[0]?.map.id==e[113].id?1:-1}return~(s=u(t,[-1]))&&(l=c[s]=i[s](t)),{key:e,first:null,c(){n=$(),l&&l.c(),a=$(),this.first=n},m(e,t){p(e,n,t),~s&&c[s].m(e,t),p(e,a,t),o=!0},p(e,n){let r=s;s=u(t=e,n),s===r?~s&&c[s].p(t,n):(l&&(G(),B(c[r],1,1,(()=>{c[r]=null})),U()),~s?(l=c[s],l?l.p(t,n):(l=c[s]=i[s](t),l.c()),I(l,1),l.m(a.parentNode,a)):l=null)},i(e){o||(I(l),o=!0)},o(e){B(l),o=!1},d(e){e&&d(n),~s&&c[s].d(e),e&&d(a)}}}function $a(e){let t,n,r,s,l=[],a=new Al,o=e[31];const i=e=>e[45].id;for(let t=0;t<o.length;t+=1){let n=zl(e,o,t),r=i(n);a.set(r,l[t]=ka(r,n))}let c=!e[34]&&e[3]<e[0]&&e[4]<e[0]&&!(e[3]==e[0]-1&&e[4]==e[0]-1)&&xa(e);return{c(){t=f("div");for(let e=0;e<l.length;e+=1)l[e].c();n=g(),c&&c.c(),r=$(),v(t,"class","picks svelte-htbg4y")},m(e,a){p(e,t,a);for(let e=0;e<l.length;e+=1)l[e].m(t,null);p(e,n,a),c&&c.m(e,a),p(e,r,a),s=!0},p(e,n){2097540&n[0]|6209&n[1]&&(o=e[31],G(),l=Y(l,n,i,1,e,o,a,t,F,ka,null,zl),U()),!e[34]&&e[3]<e[0]&&e[4]<e[0]&&(e[3]!=e[0]-1||e[4]!=e[0]-1)?c?(c.p(e,n),25&n[0]|8&n[1]&&I(c,1)):(c=xa(e),c.c(),I(c,1),c.m(r.parentNode,r)):c&&(G(),B(c,1,1,(()=>{c=null})),U())},i(e){if(!s){for(let e=0;e<o.length;e+=1)I(l[e]);I(c),s=!0}},o(e){for(let e=0;e<l.length;e+=1)B(l[e]);B(c),s=!1},d(e){e&&d(t);for(let e=0;e<l.length;e+=1)l[e].d();e&&d(n),c&&c.d(e),e&&d(r)}}}function ya(e){let t,n,r,l,a,o,i,c,m,$,b,k,x,S,T,C,_,q,O,j=e[2].players[0].player.username+"",M=e[2].players[1].player.username+"";function N(e,t){return e[8]?wa:ba}let L=N(e),P=L(e);function D(){return e[98](e[45])}function A(){return e[99](e[45])}return{c(){t=f("div"),n=f("input"),l=g(),a=f("a"),a.textContent="📝 Copy",o=g(),i=f("div"),P.c(),c=g(),m=f("p"),m.textContent="If it doesn't work or lags (likely to happen if osu doesn't cooperate), bypass this thing by manually selecting the winner. If it's totally broken, refresh the page lol",$=g(),b=f("p"),k=f("button"),x=h(j),S=g(),T=f("button"),C=h(M),_=g(),n.readOnly=!0,n.value=r=`!mp map ${e[45].map.id} 3`,v(n,"class","svelte-htbg4y"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(t,"class","call svelte-htbg4y"),v(i,"class","fetcher svelte-htbg4y")},m(r,s){p(r,t,s),u(t,n),e[95](n),u(t,l),u(t,a),p(r,o,s),p(r,i,s),P.m(i,null),u(i,c),u(i,m),u(i,$),u(i,b),u(b,k),u(k,x),u(b,S),u(b,T),u(T,C),u(i,_),q||(O=[y(a,"click",e[96]),y(k,"click",D),y(T,"click",A)],q=!0)},p(t,s){e=t,1&s[1]&&r!==(r=`!mp map ${e[45].map.id} 3`)&&n.value!==r&&(n.value=r),L===(L=N(e))&&P?P.p(e,s):(P.d(1),P=L(e),P&&(P.c(),P.m(i,c))),4&s[0]&&j!==(j=e[2].players[0].player.username+"")&&w(x,j),4&s[0]&&M!==(M=e[2].players[1].player.username+"")&&w(C,M)},d(n){n&&d(t),e[95](null),n&&d(o),n&&d(i),P.d(),q=!1,s(O)}}}function va(e){let t,n,r,s,l,a,o,i=(e[45].scores[0].score>e[45].scores[1].score?e[2].players[0].player.username:e[2].players[1].player.username)+"",c=e[45].scores[0].score+"",m=e[45].scores[1].score+"";return{c(){t=f("div"),n=h(i),r=h("\n          won the pick! ("),s=h(c),l=h(" vs. "),a=h(m),o=h(")\n        "),v(t,"class","win svelte-htbg4y")},m(e,i){p(e,t,i),u(t,n),u(t,r),u(t,s),u(t,l),u(t,a),u(t,o)},p(e,t){4&t[0]|1&t[1]&&i!==(i=(e[45].scores[0].score>e[45].scores[1].score?e[2].players[0].player.username:e[2].players[1].player.username)+"")&&w(n,i),1&t[1]&&c!==(c=e[45].scores[0].score+"")&&w(s,c),1&t[1]&&m!==(m=e[45].scores[1].score+"")&&w(a,m)},d(e){e&&d(t)}}}function ba(e){let t,n,r;function s(){return e[97](e[45])}return{c(){t=f("button"),t.textContent="After the song is done (scores show up in chat), click to refresh the scores"},m(e,l){p(e,t,l),n||(r=y(t,"click",s),n=!0)},p(t,n){e=t},d(e){e&&d(t),n=!1,r()}}}function wa(e){let n;return{c(){n=h("Fetching scores...")},m(e,t){p(e,n,t)},p:t,d(e){e&&d(n)}}}function ka(e,t){let n,r,s,l,a,o,i=(t[45].player?.username||"Tiebreaker")+"";function c(...e){return t[94](t[45],...e)}function u(e,t){return e[45].scores.length?va:ya}s=new Xt({props:{map:t[7].find(c)}});let m=u(t),f=m(t);return{key:e,first:null,c(){n=h(i),r=h(" picked\n      "),Q(s.$$.fragment),l=g(),f.c(),a=$(),this.first=n},m(e,t){p(e,n,t),p(e,r,t),K(s,e,t),p(e,l,t),f.m(e,t),p(e,a,t),o=!0},p(e,r){t=e,(!o||1&r[1])&&i!==(i=(t[45].player?.username||"Tiebreaker")+"")&&w(n,i);const l={};128&r[0]|1&r[1]&&(l.map=t[7].find(c)),s.$set(l),m===(m=u(t))&&f?f.p(t,r):(f.d(1),f=m(t),f&&(f.c(),f.m(a.parentNode,a)))},i(e){o||(I(s.$$.fragment,e),o=!0)},o(e){B(s.$$.fragment,e),o=!1},d(e){e&&d(n),e&&d(r),V(s,e),e&&d(l),f.d(e),e&&d(a)}}}function xa(e){let t,n,r,s,l,a,o,i,c,m,$,b,k,x,S,T,C,_,q=e[32]<e[33]?"Tiebreaker (rice)":"Tiebreaker (hybrid)",O=[],j=new Al,M=e[7];const N=e=>e[113].id;for(let t=0;t<M.length;t+=1){let n=El(e,M,t),r=N(n);j.set(r,O[t]=Ca(r,n))}return{c(){t=f("div"),n=h("Picks (Picked: "),r=h(e[32]),s=h(" rice, "),l=h(e[33]),a=h(" LN/Hybrid; current TB = "),o=h(q),i=h(")\n    "),c=f("div"),m=f("input"),b=g(),k=f("a"),k.textContent="📝 Copy",x=g(),S=f("div");for(let e=0;e<O.length;e+=1)O[e].c();m.readOnly=!0,m.value=$=e[2].picks.length?`${e[2].players[0].player.username} ${e[3]} - ${e[4]} ${e[2].players[1].player.username} | Loser's turn to pick: ${e[1].username}, please pick a map!`:`${e[2].players[0].player.username} ${e[3]} - ${e[4]} ${e[2].players[1].player.username} | ${e[1].username} picks first: please pick a map!`,v(m,"class","svelte-htbg4y"),v(k,"href","#/referee!helper"),v(k,"class","copy"),v(c,"class","call svelte-htbg4y"),v(S,"class","maps svelte-htbg4y"),v(t,"class","picks svelte-htbg4y")},m(d,f){p(d,t,f),u(t,n),u(t,r),u(t,s),u(t,l),u(t,a),u(t,o),u(t,i),u(t,c),u(c,m),e[100](m),u(c,b),u(c,k),u(t,x),u(t,S);for(let e=0;e<O.length;e+=1)O[e].m(S,null);T=!0,C||(_=y(k,"click",e[101]),C=!0)},p(e,t){(!T||2&t[1])&&w(r,e[32]),(!T||4&t[1])&&w(l,e[33]),(!T||6&t[1])&&q!==(q=e[32]<e[33]?"Tiebreaker (rice)":"Tiebreaker (hybrid)")&&w(o,q),(!T||30&t[0]&&$!==($=e[2].picks.length?`${e[2].players[0].player.username} ${e[3]} - ${e[4]} ${e[2].players[1].player.username} | Loser's turn to pick: ${e[1].username}, please pick a map!`:`${e[2].players[0].player.username} ${e[3]} - ${e[4]} ${e[2].players[1].player.username} | ${e[1].username} picks first: please pick a map!`)&&m.value!==$)&&(m.value=$),132&t[0]|16385&t[1]&&(M=e[7],G(),O=Y(O,t,N,1,e,M,j,S,F,Ca,null,El),U())},i(e){if(!T){for(let e=0;e<M.length;e+=1)I(O[e]);T=!0}},o(e){for(let e=0;e<O.length;e+=1)B(O[e]);T=!1},d(n){n&&d(t),e[100](null);for(let e=0;e<O.length;e+=1)O[e].d();C=!1,_()}}}function Sa(e){let t,n,r;return n=new Xt({props:{map:e[113]}}),{c(){t=f("div"),Q(n.$$.fragment),v(t,"class","disabled svelte-htbg4y")},m(e,s){p(e,t,s),K(n,t,null),r=!0},p(e,t){const r={};128&t[0]&&(r.map=e[113]),n.$set(r)},i(e){r||(I(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){e&&d(t),V(n)}}}function Ta(e){let t,n;return t=new Xt({props:{map:e[113]}}),t.$on("click",(function(...t){return e[102](e[113],...t)})),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},p(n,r){e=n;const s={};128&r[0]&&(s.map=e[113]),t.$set(s)},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Ca(e,t){let n,r,s,l,a,o,i;function c(...e){return t[49](t[113],...e)}function u(...e){return t[50](t[113],...e)}const m=[Ta,Sa],f=[];function h(e,t){return 132&t[0]|1&t[1]&&(r=!(e[113].category.startsWith("Tiebreaker")||e[2].bans[0]?.map?.id==e[113].id||e[2].bans[1]?.map?.id==e[113].id||e[31].find(c))),r?0:(132&t[0]|1&t[1]&&(s=!(e[2].bans[0]?.map?.id!=e[113].id&&e[2].bans[1]?.map?.id!=e[113].id&&!e[31].find(u))),s?1:-1)}return~(l=h(t,[-1]))&&(a=f[l]=m[l](t)),{key:e,first:null,c(){n=$(),a&&a.c(),o=$(),this.first=n},m(e,t){p(e,n,t),~l&&f[l].m(e,t),p(e,o,t),i=!0},p(e,n){let r=l;l=h(t=e,n),l===r?~l&&f[l].p(t,n):(a&&(G(),B(f[r],1,1,(()=>{f[r]=null})),U()),~l?(a=f[l],a?a.p(t,n):(a=f[l]=m[l](t),a.c()),I(a,1),a.m(o.parentNode,o)):a=null)},i(e){i||(I(a),i=!0)},o(e){B(a),i=!1},d(e){e&&d(n),~l&&f[l].d(e),e&&d(o)}}}function _a(e){let t,n,r,s,l,a,o,i,c,m,$,y,b,k,x,S=e[32]<e[33]?"Tiebreaker (rice)":"Tiebreaker (hybrid)";const T=[Oa,qa],C=[];function _(e,t){return e[32]<e[33]?0:1}return b=_(e),k=C[b]=T[b](e),{c(){t=f("div"),n=f("center"),r=h("Woah, that's a tiebreaker situation! "),s=h(e[32]),l=h(" rice, "),a=h(e[33]),o=h(" LN/Hybrid, TB = "),i=h(S),c=f("br"),m=h("\n      (Click on the tiebreaker to confirm it)"),$=g(),y=f("div"),k.c(),v(y,"class","maps svelte-htbg4y"),v(t,"class","picks svelte-htbg4y")},m(e,d){p(e,t,d),u(t,n),u(n,r),u(n,s),u(n,l),u(n,a),u(n,o),u(n,i),u(n,c),u(n,m),u(t,$),u(t,y),C[b].m(y,null),x=!0},p(e,t){(!x||2&t[1])&&w(s,e[32]),(!x||4&t[1])&&w(a,e[33]),(!x||6&t[1])&&S!==(S=e[32]<e[33]?"Tiebreaker (rice)":"Tiebreaker (hybrid)")&&w(i,S);let n=b;b=_(e),b===n?C[b].p(e,t):(G(),B(C[n],1,1,(()=>{C[n]=null})),U(),k=C[b],k?k.p(e,t):(k=C[b]=T[b](e),k.c()),I(k,1),k.m(y,null))},i(e){x||(I(k),x=!0)},o(e){B(k),x=!1},d(e){e&&d(t),C[b].d()}}}function qa(e){let t,n;return t=new Xt({props:{map:e[23]}}),t.$on("click",e[104]),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},p(e,n){const r={};8388608&n[0]&&(r.map=e[23]),t.$set(r)},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Oa(e){let t,n;return t=new Xt({props:{map:e[22]}}),t.$on("click",e[103]),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},p(e,n){const r={};4194304&n[0]&&(r.map=e[22]),t.$set(r)},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function ja(e){let t,n,r,s,l,a,o,i;return{c(){t=f("div"),n=f("div"),r=f("input"),l=g(),a=f("a"),a.textContent="📝 Copy",r.readOnly=!0,r.value=s=`${e[2].players[0].player.username} ${e[3]} - ${e[4]} ${e[2].players[1].player.username} | ${e[2].players[0].player.username} wins the match! Congratulations!`,v(r,"class","svelte-htbg4y"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(n,"class","call svelte-htbg4y"),v(t,"class","winner svelte-htbg4y")},m(s,c){p(s,t,c),u(t,n),u(n,r),e[105](r),u(n,l),u(n,a),o||(i=y(a,"click",e[106]),o=!0)},p(e,t){28&t[0]&&s!==(s=`${e[2].players[0].player.username} ${e[3]} - ${e[4]} ${e[2].players[1].player.username} | ${e[2].players[0].player.username} wins the match! Congratulations!`)&&r.value!==s&&(r.value=s)},d(n){n&&d(t),e[105](null),o=!1,i()}}}function Ma(e){let t,n,r,s,l,a,o,i;return{c(){t=f("div"),n=f("div"),r=f("input"),l=g(),a=f("a"),a.textContent="📝 Copy",r.readOnly=!0,r.value=s=`${e[2].players[0].player.username} ${e[3]} - ${e[4]} ${e[2].players[1].player.username} | ${e[2].players[1].player.username} wins the match! Congratulations!`,v(r,"class","svelte-htbg4y"),v(a,"href","#/referee!helper"),v(a,"class","copy"),v(n,"class","call svelte-htbg4y"),v(t,"class","winner svelte-htbg4y")},m(s,c){p(s,t,c),u(t,n),u(n,r),e[107](r),u(n,l),u(n,a),o||(i=y(a,"click",e[108]),o=!0)},p(e,t){28&t[0]&&s!==(s=`${e[2].players[0].player.username} ${e[3]} - ${e[4]} ${e[2].players[1].player.username} | ${e[2].players[1].player.username} wins the match! Congratulations!`)&&r.value!==s&&(r.value=s)},d(n){n&&d(t),e[107](null),o=!1,i()}}}function Na(e){let t,n,r,s;return n=new Cs({props:{match:e[110]}}),n.$on("click",(function(...t){return e[53](e[110],...t)})),{c(){t=f("div"),Q(n.$$.fragment),r=g(),v(t,"class","match-container")},m(e,l){p(e,t,l),K(n,t,null),u(t,r),s=!0},p(t,r){e=t;const s={};64&r[0]&&(s.match=e[110]),n.$set(s)},i(e){s||(I(n.$$.fragment,e),s=!0)},o(e){B(n.$$.fragment,e),s=!1},d(e){e&&d(t),V(n)}}}function La(e,t){let n,r,s,l=(!t[24]||t[110].referee?.id==t[5]?.id||t[110].streamer?.id==t[5]?.id||t[110].commentators.find(t[48]))&&(t[25]||t[110].points1<t[0]&&t[110].points2<t[0]&&!t[110].wbd),a=l&&Na(t);return{key:e,first:null,c(){n=$(),a&&a.c(),r=$(),this.first=n},m(e,t){p(e,n,t),a&&a.m(e,t),p(e,r,t),s=!0},p(e,n){t=e,50331745&n[0]&&(l=(!t[24]||t[110].referee?.id==t[5]?.id||t[110].streamer?.id==t[5]?.id||t[110].commentators.find(t[48]))&&(t[25]||t[110].points1<t[0]&&t[110].points2<t[0]&&!t[110].wbd)),l?a?(a.p(t,n),50331745&n[0]&&I(a,1)):(a=Na(t),a.c(),I(a,1),a.m(r.parentNode,r)):a&&(G(),B(a,1,1,(()=>{a=null})),U())},i(e){s||(I(a),s=!0)},o(e){B(a),s=!1},d(e){e&&d(n),a&&a.d(e),e&&d(r)}}}function Pa(e){let t,n,r,s;const l=[Fl,Jl,Wl,Bl],a=[];function o(e,t){return e[5]?e[6]?e[2]?3:2:1:0}return n=o(e),r=a[n]=l[n](e),{c(){t=f("div"),r.c(),v(t,"class","container svelte-htbg4y")},m(e,r){p(e,t,r),a[n].m(t,null),s=!0},p(e,s){let i=n;n=o(e),n===i?a[n].p(e,s):(G(),B(a[i],1,1,(()=>{a[i]=null})),U(),r=a[n],r?r.p(e,s):(r=a[n]=l[n](e),r.c()),I(r,1),r.m(t,null))},i(e){s||(I(r),s=!0)},o(e){B(r),s=!1},d(e){e&&d(t),a[n].d()}}}function Da(e,t,n){let r,s,l,a;o(e,se,(e=>n(5,r=e))),o(e,ce,(e=>n(47,s=e))),o(e,qs,(e=>n(6,l=e))),o(e,Os,(e=>n(7,a=e)));var i,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function a(e){try{i(r.next(e))}catch(e){l(e)}}function o(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}i((r=r.apply(e,t||[])).next())}))};let u,p;const d=(e,t)=>{e.preventDefault(),n(2,k=t),t?localStorage.setItem("referee:match",String(t.id)):(localStorage.removeItem("referee:match"),js(u.slug))},m=e=>{e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")},f=(e,t,r)=>c(void 0,void 0,void 0,(function*(){e.preventDefault(),n(2,k=Object.assign(Object.assign({},k),{protects:[...k.protects||[],{player:r,map:t}]}));const s=yield me("/items/protects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:k.id,player:r.id,map:t.id})});s.errors?alert(s.errors[0].message):n(2,k.protects[k.protects.length-1].id=s.data.id,k)})),h=(e,t,r)=>c(void 0,void 0,void 0,(function*(){e.preventDefault(),n(2,k=Object.assign(Object.assign({},k),{bans:[...k.bans||[],{player:r,map:t}]}));const s=yield me("/items/bans",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:k.id,player:r.id,map:t.id})});s.errors?alert(s.errors[0].message):n(2,k.bans[k.bans.length-1].id=s.data.id,k)})),g=(e,t)=>c(void 0,void 0,void 0,(function*(){e.preventDefault(),n(2,k=Object.assign(Object.assign({},k),{picks:[...k.picks||[],{player:w,map:t}]}));const r=yield me("/items/picks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:k.id,player:null==w?void 0:w.id,map:t.id})});r.errors?alert(r.errors[0].message):n(2,k.picks[k.picks.length-1].id=r.data.id,k)}));let $=!1;const y=e=>c(void 0,void 0,void 0,(function*(){n(8,$=!0);const t=yield me("/custom/matches/scores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({match:k.id,map:e.id})});n(8,$=!1),t.errors?alert(t.errors[0].message):n(2,k=Object.assign(Object.assign({},k),{scores:t}))})),v=(e,t)=>c(void 0,void 0,void 0,(function*(){const r=t.id==k.players[0].player.id?1:0;n(2,k=Object.assign(Object.assign({},k),{scores:[...k.scores,{map:e,player:t,score:1},{map:e,player:k.players[r].player,score:0}]}))}));let w,k,x,S,T,C,_,q,j,M,N,L,P,D,A,E,z,H,R,G,U=!0,I=!1,B="",W="",J="",F=[],Y=0,Q=0,K=0,V=0;const X=(e,t)=>{if(!e)return null;const[n,r]=e.rolls;if(!n||!r)return null;const[s,l]=e.players;return n.value>r.value?"winner"==t?s.player:l.player:"winner"==t?l.player:s.player};return e.$$.update=()=>{if(224&e.$$.dirty[0]|65536&e.$$.dirty[1]&&r&&s&&!l){let e=localStorage.getItem("referee:match");new Date(Date.now()-1728e5).toISOString(),n(0,p=1+(u.best_of/2>>0)),js("sf").then((()=>{n(2,k=l.find((t=>String(t.id)==e))),n(22,E=a.find((e=>"Tiebreaker (rice)"==e.category))),n(23,z=a.find((e=>"Tiebreaker (hybrid)"==e.category)))}))}31&e.$$.dirty[0]|32774&e.$$.dirty[1]&&(n(1,w=X(k,"winner")),n(3,Y=0),n(4,Q=0),n(32,K=0),n(33,V=0),n(31,F=null===n(46,i=null==k?void 0:k.picks)||void 0===i?void 0:i.map((e=>{var t,r,s;const l=Object.assign(Object.assign({},e),{scores:(null===(t=k.scores)||void 0===t?void 0:t.filter((t=>t.map.id==e.map.id)))||[]});1==l.scores.length&&l.scores.push(Object.assign(Object.assign({},l.scores[0]),{player:k.players[(null===(r=l.scores[0])||void 0===r?void 0:r.player.id)==k.players[0].player.id?1:0].player,score:0})),(null===(s=l.scores[0])||void 0===s?void 0:s.player.id)!=k.players[0].player.id&&(l.scores=l.scores.reverse());const[a,o]=l.scores;return a&&o?(n(34,G=!1),a.score>o.score?(n(3,Y+=1),n(1,w=k.players[1].player)):(n(4,Q+=1),n(1,w=k.players[0].player))):n(34,G=!0),"Rice"==e.map.category?n(32,K+=e.map.weight):n(33,V+=e.map.weight),l}))))},[p,w,k,Y,Q,r,l,a,$,x,S,T,C,_,q,j,M,N,L,P,D,A,E,z,U,I,B,W,J,H,R,F,K,V,G,u,d,m,()=>c(void 0,void 0,void 0,(function*(){if(!B)return alert("Please fill the MP link!");const e=yield me(`/items/matches/${k.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({link:B})});e.errors?alert(e.errors[0].message):n(2,k=Object.assign(Object.assign({},k),{link:B}))})),()=>c(void 0,void 0,void 0,(function*(){if(!H||!R)return alert("Please set the rolls!");n(2,k=Object.assign(Object.assign({},k),{rolls:[{player:k.players[0].player,value:H},{player:k.players[1].player,value:R}]}));const e=yield me("/items/rolls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{match:k.id,player:k.players[0].player.id,value:H},{match:k.id,player:k.players[1].player.id,value:R}])});e.errors?alert(e.errors[0].message):n(2,k=Object.assign(Object.assign({},k),{rolls:e.data}))})),f,h,y,v,X,g,i,s,({commentator:e})=>e.id==r?.id,(e,t)=>t.map.id==e.id,(e,t)=>t.map.id==e.id,()=>n(24,U=!U),()=>n(25,I=!I),(e,t)=>d(t,e),e=>d(e),function(e){O[e?"unshift":"push"]((()=>{x=e,n(9,x)}))},()=>m(x),function(e){O[e?"unshift":"push"]((()=>{S=e,n(10,S)}))},()=>m(S),function(e){O[e?"unshift":"push"]((()=>{T=e,n(11,T)}))},()=>m(T),function(e){O[e?"unshift":"push"]((()=>{C=e,n(12,C)}))},()=>m(C),function(e){O[e?"unshift":"push"]((()=>{_=e,n(13,_)}))},()=>m(_),function(e){O[e?"unshift":"push"]((()=>{q=e,n(14,q)}))},()=>m(q),function(){B=this.value,n(26,B)},function(){W=this.value,n(27,W)},function(){J=this.value,n(28,J)},function(e){O[e?"unshift":"push"]((()=>{j=e,n(15,j)}))},()=>m(j),function(e){O[e?"unshift":"push"]((()=>{M=e,n(16,M)}))},()=>m(M),function(e){O[e?"unshift":"push"]((()=>{N=e,n(17,N)}))},()=>m(N),function(){H=b(this.value),n(29,H)},function(){R=b(this.value),n(30,R)},e=>e.id==k.protects[0].map.id,function(e){O[e?"unshift":"push"]((()=>{L=e,n(18,L)}))},()=>m(L),(e,t)=>f(t,e,X(k,"winner")),e=>e.id==k.protects[1].map.id,function(e){O[e?"unshift":"push"]((()=>{L=e,n(18,L)}))},()=>m(L),(e,t)=>f(t,e,X(k,"loser")),e=>e.id==k.bans[0].map.id,function(e){O[e?"unshift":"push"]((()=>{P=e,n(19,P)}))},()=>m(P),(e,t)=>h(t,e,X(k,"loser")),e=>e.id==k.bans[1].map.id,function(e){O[e?"unshift":"push"]((()=>{P=e,n(19,P)}))},()=>m(P),(e,t)=>h(t,e,X(k,"winner")),(e,t)=>t.id==e.map.id,function(e){O[e?"unshift":"push"]((()=>{A=e,n(21,A)}))},()=>m(A),e=>y(e.map),e=>v(e.map,k.players[0].player),e=>v(e.map,k.players[1].player),function(e){O[e?"unshift":"push"]((()=>{D=e,n(20,D)}))},()=>m(D),(e,t)=>g(t,e),e=>g(e,E),e=>g(e,z),function(e){O[e?"unshift":"push"]((()=>{A=e,n(21,A)}))},()=>m(A),function(e){O[e?"unshift":"push"]((()=>{A=e,n(21,A)}))},()=>m(A)]}class Aa extends ee{constructor(e){super(),Z(this,e,Da,Pa,a,{},[-1,-1,-1,-1,-1])}}function Ea(e){let t,n,r,s,l,a,o,i,c,m,h;t=new xe({}),s=new Le({}),a=new Ge({props:{stages:e[1]}});const $=[go,ho,fo,mo,po,uo,co,io,oo,ao,lo,so,ro,no,to,eo,Za,Xa,Va,Ka,Qa,Ya,Fa,Ja,Wa,Ba,Ia,Ua,Ga,Ra],y=[];function b(e,t){return"players"==e[0]?0:"countries"==e[0]?1:"qualifiers"==e[0]?2:"qualifiers!maps"==e[0]?3:"qualifiers!elite"==e[0]?4:"qualifiers!elite!maps"==e[0]?5:"qualifiers!lobbies"==e[0]?6:"groups"==e[0]?7:"groups!results"==e[0]?8:"groups!maps"==e[0]?9:"groups!rolls"==e[0]?10:"ro64"==e[0]?11:"ro64!maps"==e[0]?12:"ro64!rolls"==e[0]?13:"ro32"==e[0]?14:"ro32!maps"==e[0]?15:"ro32!rolls"==e[0]?16:"ro16"==e[0]?17:"ro16!maps"==e[0]?18:"ro16!rolls"==e[0]?19:"qf"==e[0]?20:"qf!maps"==e[0]?21:"qf!rolls"==e[0]?22:"sf"==e[0]?23:"sf!maps"==e[0]?24:"sf!rolls"==e[0]?25:"f"==e[0]?26:"f!maps"==e[0]?27:"f!rolls"==e[0]?28:29}return c=b(e),m=y[c]=$[c](e),{c(){Q(t.$$.fragment),n=g(),r=f("div"),Q(s.$$.fragment),l=g(),Q(a.$$.fragment),o=g(),i=f("div"),m.c(),v(i,"class","page svelte-ucquck"),v(r,"class","body svelte-ucquck")},m(e,d){K(t,e,d),p(e,n,d),p(e,r,d),K(s,r,null),u(r,l),K(a,r,null),u(r,o),u(r,i),y[c].m(i,null),h=!0},p(e,t){const n={};2&t&&(n.stages=e[1]),a.$set(n);let r=c;c=b(e),c!==r&&(G(),B(y[r],1,1,(()=>{y[r]=null})),U(),m=y[c],m||(m=y[c]=$[c](e),m.c()),I(m,1),m.m(i,null))},i(e){h||(I(t.$$.fragment,e),I(s.$$.fragment,e),I(a.$$.fragment,e),I(m),h=!0)},o(e){B(t.$$.fragment,e),B(s.$$.fragment,e),B(a.$$.fragment,e),B(m),h=!1},d(e){V(t,e),e&&d(n),e&&d(r),V(s),V(a),y[c].d()}}}function za(e){let n,r;return n=new Aa({}),{c(){Q(n.$$.fragment)},m(e,t){K(n,e,t),r=!0},p:t,i(e){r||(I(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){V(n,e)}}}function Ha(e){let n,r;return n=new jl({}),{c(){Q(n.$$.fragment)},m(e,t){K(n,e,t),r=!0},p:t,i(e){r||(I(n.$$.fragment,e),r=!0)},o(e){B(n.$$.fragment,e),r=!1},d(e){V(n,e)}}}function Ra(e){let t,n;return t=new rt({}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Ga(e){let t,n;return t=new $l({props:{stage:"f"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Ua(e){let t,n;return t=new al({props:{stage:"f"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Ia(e){let t,n;return t=new Is({props:{stage:"f"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Ba(e){let t,n;return t=new $l({props:{stage:"sf"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Wa(e){let t,n;return t=new al({props:{stage:"sf"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Ja(e){let t,n;return t=new Is({props:{stage:"sf"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Fa(e){let t,n;return t=new $l({props:{stage:"qf"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Ya(e){let t,n;return t=new al({props:{stage:"qf"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Qa(e){let t,n;return t=new Is({props:{stage:"qf"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Ka(e){let t,n;return t=new $l({props:{stage:"ro16"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Va(e){let t,n;return t=new al({props:{stage:"ro16"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Xa(e){let t,n;return t=new Is({props:{stage:"ro16"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function Za(e){let t,n;return t=new $l({props:{stage:"ro32"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function eo(e){let t,n;return t=new al({props:{stage:"ro32"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function to(e){let t,n;return t=new Is({props:{stage:"ro32"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function no(e){let t,n;return t=new $l({props:{stage:"ro64"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function ro(e){let t,n;return t=new al({props:{stage:"ro64"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function so(e){let t,n;return t=new Is({props:{stage:"ro64"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function lo(e){let t,n;return t=new $l({props:{stage:"groups"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function ao(e){let t,n;return t=new al({props:{stage:"groups"}}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function oo(e){let t,n;return t=new rs({}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function io(e){let t,n;return t=new Fr({}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function co(e){let t,n;return t=new fn({}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function uo(e){let t,n;return t=new dr({}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function po(e){let t,n;return t=new br({}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function mo(e){let t,n;return t=new An({}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function fo(e){let t,n;return t=new er({}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function ho(e){let t,n;return t=new Ot({}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function go(e){let t,n;return t=new vt({}),{c(){Q(t.$$.fragment)},m(e,r){K(t,e,r),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function $o(e){let t,n,r,s;const l=[Ha,za,Ea],a=[];function o(e,t){return"scuffed!drawing"==e[0]?0:"referee!helper"==e[0]?1:2}return t=o(e),n=a[t]=l[t](e),{c(){n.c(),r=$()},m(e,n){a[t].m(e,n),p(e,r,n),s=!0},p(e,[s]){let i=t;t=o(e),t===i?a[t].p(e,s):(G(),B(a[i],1,1,(()=>{a[i]=null})),U(),n=a[t],n?n.p(e,s):(n=a[t]=l[t](e),n.c()),I(n,1),n.m(r.parentNode,r))},i(e){s||(I(n),s=!0)},o(e){B(n),s=!1},d(e){a[t].d(e),e&&d(r)}}}function yo(e,t,n){let r,s;return o(e,ue,(e=>n(0,r=e))),o(e,ce,(e=>n(1,s=e))),[r,s]}return new class extends ee{constructor(e){super(),Z(this,e,yo,$o,a,{})}}({target:document.body})}(luxon);
//# sourceMappingURL=bundle.js.map
