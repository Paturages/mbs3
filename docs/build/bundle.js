var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function i(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function a(e,t,n,r,s,l,o){const a=function(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}(t,r,s,l);if(a){const s=i(t,n,r,o);e.p(s,a)}}function c(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function p(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function g(){return m(" ")}function h(){return m("")}function $(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function b(e,t,n){e.classList[n?"add":"remove"](t)}let w;function k(e){w=e}function x(e){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(e)}const S=[],_=[],q=[],T=[],C=Promise.resolve();let N=!1;function M(e){q.push(e)}let O=!1;const j=new Set;function L(){if(!O){O=!0;do{for(let e=0;e<S.length;e+=1){const t=S[e];k(t),P(t.$$)}for(k(null),S.length=0;_.length;)_.pop()();for(let e=0;e<q.length;e+=1){const t=q[e];j.has(t)||(j.add(t),t())}q.length=0}while(S.length);for(;T.length;)T.pop()();N=!1,O=!1,j.clear()}}function P(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(M)}}const A=new Set;let z;function H(){z={r:0,c:[],p:z}}function E(){z.r||r(z.c),z=z.p}function D(e,t){e&&e.i&&(A.delete(e),e.i(t))}function U(e,t,n,r){if(e&&e.o){if(A.has(e))return;A.add(e),z.c.push((()=>{A.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const R="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function I(e,t){e.d(1),t.delete(e.key)}function G(e,t){U(e,1,1,(()=>{t.delete(e.key)}))}function J(e,t,n,r,s,l,o,i,a,c,u,f){let p=e.length,d=l.length,m=p;const g={};for(;m--;)g[e[m].key]=m;const h=[],$=new Map,v=new Map;for(m=d;m--;){const e=f(s,l,m),i=n(e);let a=o.get(i);a?r&&a.p(e,t):(a=c(i,e),a.c()),$.set(i,h[m]=a),i in g&&v.set(i,Math.abs(m-g[i]))}const y=new Set,b=new Set;function w(e){D(e,1),e.m(i,u),o.set(e.key,e),u=e.first,d--}for(;p&&d;){const t=h[d-1],n=e[p-1],r=t.key,s=n.key;t===n?(u=t.first,p--,d--):$.has(s)?!o.has(r)||y.has(r)?w(t):b.has(s)?p--:v.get(r)>v.get(s)?(b.add(r),w(t)):(y.add(s),p--):(a(n,o),p--)}for(;p--;){const t=e[p];$.has(t.key)||a(t,o)}for(;d;)w(h[d-1]);return h}function B(e){e&&e.c()}function F(e,n,l,o){const{fragment:i,on_mount:a,on_destroy:c,after_update:u}=e.$$;i&&i.m(n,l),o||M((()=>{const n=a.map(t).filter(s);c?c.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(M)}function W(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Y(e,t){-1===e.$$.dirty[0]&&(S.push(e),N||(N=!0,C.then(L)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Q(t,s,l,o,i,a,c=[-1]){const u=w;k(t);const p=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let d=!1;if(p.ctx=l?l(t,s.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return p.ctx&&i(p.ctx[e],p.ctx[e]=s)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](s),d&&Y(t,e)),n})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!o&&o(p.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);p.fragment&&p.fragment.l(e),e.forEach(f)}else p.fragment&&p.fragment.c();s.intro&&D(t.$$.fragment),F(t,s.target,s.anchor,s.customElement),L()}k(u)}class K{$destroy(){W(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const X=[];function V(t,n=e){let r;const s=[];function o(e){if(l(t,e)&&(t=e,r)){const e=!X.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),X.push(n,t)}if(e){for(let e=0;e<X.length;e+=2)X[e][0](X[e+1]);X.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(l,i=e){const a=[l,i];return s.push(a),1===s.length&&(r=n(o)||e),l(t),()=>{const e=s.indexOf(a);-1!==e&&s.splice(e,1),0===s.length&&(r(),r=null)}}}}const{API_URL:Z}={API_URL:"https://api.mbs3.fightthe.pw",UI_URL:"https://mbs3.fightthe.pw",isProd:!0},ee=V(null),te=V(null),ne=V([]),re=V([]),se=V([]),le=V([]),oe=V(null),ie=new Set(["players","countries","qualifiers","qualifiers!maps","qualifiers!elite","qualifiers!elite!maps","qualifiers!lobbies","scuffed!drawing"]),ae=()=>{const{hash:e}=location,[,t]=e.split("/");ie.has(t)?oe.set(t):(oe.set("home"),"#/"!=e&&(location.hash="#/"))};window.addEventListener("hashchange",ae),ae();const ce=(e,t={headers:{}})=>fetch(`${Z}${e}`,Object.assign(Object.assign({},t),{headers:Object.assign({Authorization:ue?`Bearer ${ue}`:void 0},t.headers)})).then((e=>e.json()));let ue;function fe(t){let n,r;return{c(){n=d("a"),r=m("Login"),v(n,"href",t[3])},m(e,t){u(e,n,t),c(n,r)},p:e,d(e){e&&f(n)}}}function pe(e){let t,n,r,s,l,o,i,a,p,h,b,w=e[0].username+"",k=e[0].player&&de(),x=e[0].referee&&me(),S=e[0].commentator&&ge(),_=e[0].streamer&&he();return{c(){t=m("Logged in as\r\n      "),n=d("b"),r=m(w),s=m(" -\r\n      "),k&&k.c(),l=g(),x&&x.c(),o=g(),S&&S.c(),i=g(),_&&_.c(),a=g(),p=d("a"),p.textContent="Log out",v(p,"href","#/")},m(f,d){u(f,t,d),u(f,n,d),c(n,r),u(f,s,d),k&&k.m(f,d),u(f,l,d),x&&x.m(f,d),u(f,o,d),S&&S.m(f,d),u(f,i,d),_&&_.m(f,d),u(f,a,d),u(f,p,d),h||(b=$(p,"click",e[2]),h=!0)},p(e,t){1&t&&w!==(w=e[0].username+"")&&y(r,w),e[0].player?k||(k=de(),k.c(),k.m(l.parentNode,l)):k&&(k.d(1),k=null),e[0].referee?x||(x=me(),x.c(),x.m(o.parentNode,o)):x&&(x.d(1),x=null),e[0].commentator?S||(S=ge(),S.c(),S.m(i.parentNode,i)):S&&(S.d(1),S=null),e[0].streamer?_||(_=he(),_.c(),_.m(a.parentNode,a)):_&&(_.d(1),_=null)},d(e){e&&f(t),e&&f(n),e&&f(s),k&&k.d(e),e&&f(l),x&&x.d(e),e&&f(o),S&&S.d(e),e&&f(i),_&&_.d(e),e&&f(a),e&&f(p),h=!1,b()}}}function de(e){let t;return{c(){t=m("Player -")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function me(e){let t;return{c(){t=m("Referee -")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function ge(e){let t;return{c(){t=m("Commentator -")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function he(e){let t;return{c(){t=m("Streamer -")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function $e(t){let n,r,s,l,o,i;function a(e,t){return e[0]?pe:e[1].length?fe:void 0}let p=a(t),m=p&&p(t);return{c(){n=d("div"),r=d("a"),r.innerHTML='<div class="logo svelte-swbai7"><img alt="" src="/images/logo.png" class="svelte-swbai7"/></div> \n    <h1 class="svelte-swbai7"><img alt="Mania Beginner&#39;s Showdown" src="/images/title.png" class="svelte-swbai7"/> \n      <div class="three svelte-swbai7"><span class="svelte-swbai7">3</span></div></h1>',s=g(),l=d("div"),l.innerHTML='<div class="host-title svelte-swbai7">Hosted by</div>\n    Paturages &amp; Davvy',o=g(),i=d("div"),m&&m.c(),v(r,"href","#/"),v(l,"class","hosts svelte-swbai7"),v(i,"class","me svelte-swbai7"),v(n,"class","banner svelte-swbai7")},m(e,t){u(e,n,t),c(n,r),c(n,s),c(n,l),c(n,o),c(n,i),m&&m.m(i,null)},p(e,[t]){p===(p=a(e))&&m?m.p(e,t):(m&&m.d(1),m=p&&p(e),m&&(m.c(),m.m(i,null)))},i:e,o:e,d(e){e&&f(n),m&&m.d()}}}function ve(e,t,n){let r,s;o(e,ee,(e=>n(0,r=e))),o(e,ne,(e=>n(1,s=e)));var l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function o(e){try{a(r.next(e))}catch(e){l(e)}}function i(e){try{a(r.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}a((r=r.apply(e,t||[])).next())}))};return[r,s,()=>l(void 0,void 0,void 0,(function*(){yield fetch("https://api.mbs3.fightthe.pw/auth/logout",{method:"POST",credentials:"include"}),location.reload()})),"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw"]}(async()=>{const{data:e}=await ce("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  stages(sort: "sort") {\n    slug\n    name\n    date_start\n    date_end\n    link\n  }\n  players(sort: "ranking", limit: -1) {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n    ranking\n    pp\n    qualifier {\n      name\n      link\n      time\n    }\n  }\n  referees {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n  commentators {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n  streamers {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n}'})});le.set(e.stages),te.set(e.players);const t=new Map(e.players.map((e=>[e.id,e])));ne.set(e.referees);const n=new Map(e.referees.map((e=>[e.id,e])));re.set(e.commentators);const r=new Map(e.commentators.map((e=>[e.id,e])));se.set(e.streamers);const s=new Map(e.streamers.map((e=>[e.id,e]))),l=await fetch(`${Z}/auth/refresh`,{method:"POST",credentials:"include"});if(200==l.status){const e=await l.json();ue=e.data.access_token;const{data:{first_name:o,email:i,avatar:a}}=await ce("/users/me?fields=first_name,email");let c=!1;const u=-(new Date).getTimezoneOffset()/60,f=t.get(i);f&&(c=!f.timezone||!f.timezone.endsWith(String(u)));const p=n.get(i);p&&!c&&(c=!p.timezone||!p.timezone.endsWith(String(u)));const d=r.get(i);d&&!c&&(c=!d.timezone||!d.timezone.endsWith(String(u)));const m=s.get(i);m&&!c&&(c=!m.timezone||!m.timezone.endsWith(String(u))),ee.set({avatar:a,username:o,id:i,player:f,referee:p,commentator:d,streamer:m,qualifier:null==f?void 0:f.qualifier}),c&&await ce("/custom/profile/timezone",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({offset:(new Date).getTimezoneOffset()})})}})();class ye extends K{constructor(e){super(),Q(this,e,ve,$e,l,{})}}function be(e){let t,n,r,s,l,o,p,m;const g=e[3].default,h=function(e,t,n,r){if(e){const s=i(e,t,n,r);return e[0](s)}}(g,e,e[2],null);return{c(){t=d("span"),n=d("a"),r=d("div"),h&&h.c(),v(r,"class","text svelte-hih935"),v(n,"href",s=e[0]||"javascript:void(0)"),v(n,"target",e[1]),v(n,"rel",l="_blank"===e[1]?"noopener":void 0),v(n,"class","link svelte-hih935"),v(t,"class","button")},m(s,l){u(s,t,l),c(t,n),c(n,r),h&&h.m(r,null),o=!0,p||(m=$(n,"click",e[4]),p=!0)},p(e,[t]){h&&h.p&&4&t&&a(h,g,e,e[2],t,null,null),(!o||1&t&&s!==(s=e[0]||"javascript:void(0)"))&&v(n,"href",s),(!o||2&t)&&v(n,"target",e[1]),(!o||2&t&&l!==(l="_blank"===e[1]?"noopener":void 0))&&v(n,"rel",l)},i(e){o||(D(h,e),o=!0)},o(e){U(h,e),o=!1},d(e){e&&f(t),h&&h.d(e),p=!1,m()}}}function we(e,t,n){let{$$slots:r={},$$scope:s}=t,{href:l}=t,{target:o=""}=t;return e.$$set=e=>{"href"in e&&n(0,l=e.href),"target"in e&&n(1,o=e.target),"$$scope"in e&&n(2,s=e.$$scope)},[l,o,s,r,function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}(e,t)}]}class ke extends K{constructor(e){super(),Q(this,e,we,be,l,{href:0,target:1})}}function xe(e){let t;return{c(){t=m("Forum post")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Se(e){let t;return{c(){t=m("Discord")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function _e(e){let t;return{c(){t=m("Players")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function qe(e){let t;return{c(){t=m("Countries")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Te(e){let t,n,r,s,l,o,i,a,p,m,h,$,y,b;return s=new ke({props:{href:"https://osu.ppy.sh/community/forums/topics/1280306",target:"_blank",$$slots:{default:[xe]},$$scope:{ctx:e}}}),i=new ke({props:{href:"https://discord.gg/uNSqksR",target:"_blank",$$slots:{default:[Se]},$$scope:{ctx:e}}}),m=new ke({props:{href:"#/players",$$slots:{default:[_e]},$$scope:{ctx:e}}}),y=new ke({props:{href:"#/countries",$$slots:{default:[qe]},$$scope:{ctx:e}}}),{c(){t=d("nav"),n=d("ul"),r=d("li"),B(s.$$.fragment),l=g(),o=d("li"),B(i.$$.fragment),a=g(),p=d("li"),B(m.$$.fragment),h=g(),$=d("li"),B(y.$$.fragment),v(r,"class","svelte-rtylg"),v(o,"class","svelte-rtylg"),v(p,"class","svelte-rtylg"),v($,"class","svelte-rtylg"),v(n,"class","svelte-rtylg")},m(e,f){u(e,t,f),c(t,n),c(n,r),F(s,r,null),c(n,l),c(n,o),F(i,o,null),c(n,a),c(n,p),F(m,p,null),c(n,h),c(n,$),F(y,$,null),b=!0},p(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const r={};1&t&&(r.$$scope={dirty:t,ctx:e}),i.$set(r);const l={};1&t&&(l.$$scope={dirty:t,ctx:e}),m.$set(l);const o={};1&t&&(o.$$scope={dirty:t,ctx:e}),y.$set(o)},i(e){b||(D(s.$$.fragment,e),D(i.$$.fragment,e),D(m.$$.fragment,e),D(y.$$.fragment,e),b=!0)},o(e){U(s.$$.fragment,e),U(i.$$.fragment,e),U(m.$$.fragment,e),U(y.$$.fragment,e),b=!1},d(e){e&&f(t),W(s),W(i),W(m),W(y)}}}class Ce extends K{constructor(e){super(),Q(this,e,null,Te,l,{})}}function Ne(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function Me(e){let t;return{c(){t=m("Loading...")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Oe(e){let t,n=e[3].name+"";return{c(){t=m(n)},m(e,n){u(e,t,n)},p(e,r){1&r&&n!==(n=e[3].name+"")&&y(t,n)},d(e){e&&f(t)}}}function je(e){let t,n,r,s=e[3].name+"";return{c(){t=d("a"),n=m(s),v(t,"href",r=e[3].link)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[3].name+"")&&y(n,s),1&l&&r!==(r=e[3].link)&&v(t,"href",r)},d(e){e&&f(t)}}}function Le(e,t){let n,r,s,l,o,i,a,p,h,$=t[2](t[3].date_start)+"",w=t[2](t[3].date_end)+"";function k(e,t){return e[3].link?je:Oe}let x=k(t),S=x(t);return{key:e,first:null,c(){n=d("div"),r=d("div"),S.c(),s=g(),l=d("div"),o=m($),i=g(),a=d("div"),p=m(w),h=g(),v(r,"class","stage-name svelte-1xzsd"),v(l,"class","stage-date svelte-1xzsd"),v(a,"class","stage-date svelte-1xzsd"),v(n,"class","stage svelte-1xzsd"),b(n,"active",!t[5]||t[0][t[5]-1].date_end<t[1]),this.first=n},m(e,t){u(e,n,t),c(n,r),S.m(r,null),c(n,s),c(n,l),c(l,o),c(n,i),c(n,a),c(a,p),c(n,h)},p(e,s){x===(x=k(t=e))&&S?S.p(t,s):(S.d(1),S=x(t),S&&(S.c(),S.m(r,null))),1&s&&$!==($=t[2](t[3].date_start)+"")&&y(o,$),1&s&&w!==(w=t[2](t[3].date_end)+"")&&y(p,w),3&s&&b(n,"active",!t[5]||t[0][t[5]-1].date_end<t[1])},d(e){e&&f(n),S.d()}}}function Pe(t){let n,r=[],s=new Map,l=t[0];const o=e=>e[3].slug;for(let e=0;e<l.length;e+=1){let n=Ne(t,l,e),i=o(n);s.set(i,r[e]=Le(i,n))}let i=null;return l.length||(i=Me()),{c(){n=d("div");for(let e=0;e<r.length;e+=1)r[e].c();i&&i.c(),v(n,"class","schedule svelte-1xzsd")},m(e,t){u(e,n,t);for(let e=0;e<r.length;e+=1)r[e].m(n,null);i&&i.m(n,null)},p(e,[t]){7&t&&(l=e[0],r=J(r,t,o,1,e,l,s,n,I,Le,null,Ne),l.length?i&&(i.d(1),i=null):i||(i=Me(),i.c(),i.m(n,null)))},i:e,o:e,d(e){e&&f(n);for(let e=0;e<r.length;e+=1)r[e].d();i&&i.d()}}}function Ae(e,t,n){let{stages:r=[]}=t;const s=(new Date).toISOString();return e.$$set=e=>{"stages"in e&&n(0,r=e.stages)},[r,s,e=>new Date(e).toUTCString().replace(" 00:00:00 GMT","")]}class ze extends K{constructor(e){super(),Q(this,e,Ae,Pe,l,{stages:0})}}function He(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function Ee(e,t,n){const r=e.slice();return r[6]=t[n],r[5]=n,r}function De(e,t,n){const r=e.slice();return r[8]=t[n],r[5]=n,r}function Ue(e){let t;return{c(){t=m("Hosts")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Re(e){let t;return{c(){t=m("Graphic Designer")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Ie(e){let t;return{c(){t=m("Mappool selectors")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Ge(e){let t;return{c(){t=m("Donators")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Je(e){let t;return{c(){t=m("Referees")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Be(e){let t,n,r,s,l=e[8].username+"";return{c(){t=d("a"),n=m(l),s=g(),v(t,"href",r=`https://osu.ppy.sh/users/${e[8].id}`),v(t,"target","_blank"),v(t,"rel","noopener"),v(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){1&s&&l!==(l=e[8].username+"")&&y(n,l),1&s&&r!==(r=`https://osu.ppy.sh/users/${e[8].id}`)&&v(t,"href",r)},d(e){e&&f(t),e&&f(s)}}}function Fe(e){let t;return{c(){t=m("Streamers")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function We(e){let t,n,r,s,l=e[6].username+"";return{c(){t=d("a"),n=m(l),s=g(),v(t,"href",r=`https://osu.ppy.sh/users/${e[6].id}`),v(t,"target","_blank"),v(t,"rel","noopener"),v(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){2&s&&l!==(l=e[6].username+"")&&y(n,l),2&s&&r!==(r=`https://osu.ppy.sh/users/${e[6].id}`)&&v(t,"href",r)},d(e){e&&f(t),e&&f(s)}}}function Ye(e){let t;return{c(){t=m("Commentators")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Qe(e){let t,n,r,s,l=e[3].username+"";return{c(){t=d("a"),n=m(l),s=g(),v(t,"href",r=`https://osu.ppy.sh/users/${e[3].id}`),v(t,"target","_blank"),v(t,"rel","noopener"),v(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){4&s&&l!==(l=e[3].username+"")&&y(n,l),4&s&&r!==(r=`https://osu.ppy.sh/users/${e[3].id}`)&&v(t,"href",r)},d(e){e&&f(t),e&&f(s)}}}function Ke(e){let t,n,r,s,l,o,i,a,m,h,$,y,b,w,k,x,S,_,q,T,C,N,M,O,j,L,P,A,z,H,E,R,I,G,J;n=new ke({props:{$$slots:{default:[Ue]},$$scope:{ctx:e}}}),i=new ke({props:{$$slots:{default:[Re]},$$scope:{ctx:e}}}),y=new ke({props:{$$slots:{default:[Ie]},$$scope:{ctx:e}}}),S=new ke({props:{$$slots:{default:[Ge]},$$scope:{ctx:e}}}),N=new ke({props:{$$slots:{default:[Je]},$$scope:{ctx:e}}});let Y=e[0],Q=[];for(let t=0;t<Y.length;t+=1)Q[t]=Be(De(e,Y,t));P=new ke({props:{$$slots:{default:[Fe]},$$scope:{ctx:e}}});let K=e[1],X=[];for(let t=0;t<K.length;t+=1)X[t]=We(Ee(e,K,t));R=new ke({props:{$$slots:{default:[Ye]},$$scope:{ctx:e}}});let V=e[2],Z=[];for(let t=0;t<V.length;t+=1)Z[t]=Qe(He(e,V,t));return{c(){t=d("div"),B(n.$$.fragment),r=g(),s=d("div"),s.innerHTML='<a href="https://osu.ppy.sh/users/1375479" target="_blank" rel="noopener" class="svelte-1psdwt3">Paturages</a> â€ƒ\n    <a href="https://osu.ppy.sh/users/10047413" target="_blank" rel="noopener" class="svelte-1psdwt3">Davvy</a>',l=g(),o=d("div"),B(i.$$.fragment),a=g(),m=d("div"),m.innerHTML='<a href="https://osu.ppy.sh/users/9148286" target="_blank" rel="noopener" class="svelte-1psdwt3">E-M-i</a>',h=g(),$=d("div"),B(y.$$.fragment),b=g(),w=d("div"),w.innerHTML='<a href="https://osu.ppy.sh/users/1375479" target="_blank" rel="noopener" class="svelte-1psdwt3">Paturages</a> â€ƒ\n    <a href="https://osu.ppy.sh/users/10047413" target="_blank" rel="noopener" class="svelte-1psdwt3">Davvy</a> â€ƒ\n    <a href="https://osu.ppy.sh/users/11253722" target="_blank" rel="noopener" class="svelte-1psdwt3">DannyPX</a> â€ƒ\n    <a href="https://osu.ppy.sh/users/11626065" target="_blank" rel="noopener" class="svelte-1psdwt3">guden</a> â€ƒ\n    <a href="https://osu.ppy.sh/users/2124783" target="_blank" rel="noopener" class="svelte-1psdwt3">Kamikaze</a> â€ƒ\n    <a href="https://osu.ppy.sh/users/8976576" target="_blank" rel="noopener" class="svelte-1psdwt3">-mint-</a> â€ƒ\n    <a href="https://osu.ppy.sh/users/8642224" target="_blank" rel="noopener" class="svelte-1psdwt3">Konohana Lucia</a>',k=g(),x=d("div"),B(S.$$.fragment),_=g(),q=d("div"),q.innerHTML='<a href="https://osu.ppy.sh/users/8642224" target="_blank" rel="noopener" class="svelte-1psdwt3">Konohana Lucia</a> â€ƒ\n    <a href="https://osu.ppy.sh/users/8184715" target="_blank" rel="noopener" class="svelte-1psdwt3">Syako</a>',T=g(),C=d("div"),B(N.$$.fragment),M=g(),O=d("div");for(let e=0;e<Q.length;e+=1)Q[e].c();j=g(),L=d("div"),B(P.$$.fragment),A=g(),z=d("div");for(let e=0;e<X.length;e+=1)X[e].c();H=g(),E=d("div"),B(R.$$.fragment),I=g(),G=d("div");for(let e=0;e<Z.length;e+=1)Z[e].c();v(s,"class","container svelte-1psdwt3"),v(t,"class","section svelte-1psdwt3"),v(m,"class","container svelte-1psdwt3"),v(o,"class","section svelte-1psdwt3"),v(w,"class","container svelte-1psdwt3"),v($,"class","section svelte-1psdwt3"),v(q,"class","container svelte-1psdwt3"),v(x,"class","section svelte-1psdwt3"),v(O,"class","container svelte-1psdwt3"),v(C,"class","section svelte-1psdwt3"),v(z,"class","container svelte-1psdwt3"),v(L,"class","section svelte-1psdwt3"),v(G,"class","container svelte-1psdwt3"),v(E,"class","section svelte-1psdwt3")},m(e,f){u(e,t,f),F(n,t,null),c(t,r),c(t,s),u(e,l,f),u(e,o,f),F(i,o,null),c(o,a),c(o,m),u(e,h,f),u(e,$,f),F(y,$,null),c($,b),c($,w),u(e,k,f),u(e,x,f),F(S,x,null),c(x,_),c(x,q),u(e,T,f),u(e,C,f),F(N,C,null),c(C,M),c(C,O);for(let e=0;e<Q.length;e+=1)Q[e].m(O,null);u(e,j,f),u(e,L,f),F(P,L,null),c(L,A),c(L,z);for(let e=0;e<X.length;e+=1)X[e].m(z,null);u(e,H,f),u(e,E,f),F(R,E,null),c(E,I),c(E,G);for(let e=0;e<Z.length;e+=1)Z[e].m(G,null);J=!0},p(e,[t]){const r={};1024&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};1024&t&&(s.$$scope={dirty:t,ctx:e}),i.$set(s);const l={};1024&t&&(l.$$scope={dirty:t,ctx:e}),y.$set(l);const o={};1024&t&&(o.$$scope={dirty:t,ctx:e}),S.$set(o);const a={};if(1024&t&&(a.$$scope={dirty:t,ctx:e}),N.$set(a),1&t){let n;for(Y=e[0],n=0;n<Y.length;n+=1){const r=De(e,Y,n);Q[n]?Q[n].p(r,t):(Q[n]=Be(r),Q[n].c(),Q[n].m(O,null))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=Y.length}const c={};if(1024&t&&(c.$$scope={dirty:t,ctx:e}),P.$set(c),2&t){let n;for(K=e[1],n=0;n<K.length;n+=1){const r=Ee(e,K,n);X[n]?X[n].p(r,t):(X[n]=We(r),X[n].c(),X[n].m(z,null))}for(;n<X.length;n+=1)X[n].d(1);X.length=K.length}const u={};if(1024&t&&(u.$$scope={dirty:t,ctx:e}),R.$set(u),4&t){let n;for(V=e[2],n=0;n<V.length;n+=1){const r=He(e,V,n);Z[n]?Z[n].p(r,t):(Z[n]=Qe(r),Z[n].c(),Z[n].m(G,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=V.length}},i(e){J||(D(n.$$.fragment,e),D(i.$$.fragment,e),D(y.$$.fragment,e),D(S.$$.fragment,e),D(N.$$.fragment,e),D(P.$$.fragment,e),D(R.$$.fragment,e),J=!0)},o(e){U(n.$$.fragment,e),U(i.$$.fragment,e),U(y.$$.fragment,e),U(S.$$.fragment,e),U(N.$$.fragment,e),U(P.$$.fragment,e),U(R.$$.fragment,e),J=!1},d(e){e&&f(t),W(n),e&&f(l),e&&f(o),W(i),e&&f(h),e&&f($),W(y),e&&f(k),e&&f(x),W(S),e&&f(T),e&&f(C),W(N),p(Q,e),e&&f(j),e&&f(L),W(P),p(X,e),e&&f(H),e&&f(E),W(R),p(Z,e)}}}function Xe(e,t,n){let r,s,l;return o(e,ne,(e=>n(0,r=e))),o(e,se,(e=>n(1,s=e))),o(e,re,(e=>n(2,l=e))),[r,s,l]}class Ve extends K{constructor(e){super(),Q(this,e,Xe,Ke,l,{})}}function Ze(t){let n,r,s,l,o,i,a,p,h,$,b,w,k,x,S,_,q,T,C,N=t[0].username+"",M=t[0].country+"",O=t[0].ranking+"",j=Number(t[0].pp).toFixed(2)+"";return{c(){n=d("a"),r=d("div"),s=d("img"),o=g(),i=d("div"),a=m(N),p=g(),h=d("div"),$=m(M),b=g(),w=d("div"),k=m(O),x=g(),S=d("div"),_=m("("),q=m(j),T=m(" pp)"),v(s,"class","avatar svelte-18mwkz8"),s.src!==(l=t[0].avatar)&&v(s,"src",l),v(s,"alt",""),v(r,"class","avatar svelte-18mwkz8"),v(h,"class","country svelte-18mwkz8"),v(i,"class","name svelte-18mwkz8"),v(S,"class","pp svelte-18mwkz8"),v(w,"class","ranking svelte-18mwkz8"),v(n,"class","player svelte-18mwkz8"),v(n,"href",C=`https://osu.ppy.sh/users/${t[0].id}`),v(n,"target","_blank"),v(n,"rel","noopener")},m(e,t){u(e,n,t),c(n,r),c(r,s),c(n,o),c(n,i),c(i,a),c(i,p),c(i,h),c(h,$),c(n,b),c(n,w),c(w,k),c(w,x),c(w,S),c(S,_),c(S,q),c(S,T)},p(e,[t]){1&t&&s.src!==(l=e[0].avatar)&&v(s,"src",l),1&t&&N!==(N=e[0].username+"")&&y(a,N),1&t&&M!==(M=e[0].country+"")&&y($,M),1&t&&O!==(O=e[0].ranking+"")&&y(k,O),1&t&&j!==(j=Number(e[0].pp).toFixed(2)+"")&&y(q,j),1&t&&C!==(C=`https://osu.ppy.sh/users/${e[0].id}`)&&v(n,"href",C)},i:e,o:e,d(e){e&&f(n)}}}function et(e,t,n){let{player:r}=t;return e.$$set=e=>{"player"in e&&n(0,r=e.player)},[r]}class tt extends K{constructor(e){super(),Q(this,e,et,Ze,l,{player:0})}}function nt(e,t,n){const r=e.slice();return r[4]=t[n],r}function rt(e){let t,n,r;return n=new ke({props:{href:"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw",$$slots:{default:[st]},$$scope:{ctx:e}}}),{c(){t=d("p"),B(n.$$.fragment),v(t,"class","register svelte-g74cd1")},m(e,s){u(e,t,s),F(n,t,null),r=!0},i(e){r||(D(n.$$.fragment,e),r=!0)},o(e){U(n.$$.fragment,e),r=!1},d(e){e&&f(t),W(n)}}}function st(e){let t;return{c(){t=m("Register")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function lt(e){let t,n,r,s,l,o,i=e[1].length+"",a=[],p=new Map,$=e[1];const b=e=>e[4].id;for(let t=0;t<$.length;t+=1){let n=nt(e,$,t),r=b(n);p.set(r,a[t]=at(r,n))}let w=null;return $.length||(w=it()),{c(){t=d("div"),n=m("Total players: "),r=m(i),s=g();for(let e=0;e<a.length;e+=1)a[e].c();l=h(),w&&w.c(),v(t,"class","stats")},m(e,i){u(e,t,i),c(t,n),c(t,r),u(e,s,i);for(let t=0;t<a.length;t+=1)a[t].m(e,i);u(e,l,i),w&&w.m(e,i),o=!0},p(e,t){(!o||2&t)&&i!==(i=e[1].length+"")&&y(r,i),2&t&&($=e[1],H(),a=J(a,t,b,1,e,$,p,l.parentNode,G,at,l,nt),E(),$.length?w&&(w.d(1),w=null):w||(w=it(),w.c(),w.m(l.parentNode,l)))},i(e){if(!o){for(let e=0;e<$.length;e+=1)D(a[e]);o=!0}},o(e){for(let e=0;e<a.length;e+=1)U(a[e]);o=!1},d(e){e&&f(t),e&&f(s);for(let t=0;t<a.length;t+=1)a[t].d(e);e&&f(l),w&&w.d(e)}}}function ot(t){let n;return{c(){n=m("Loading players...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function it(e){let t;return{c(){t=m("No players registered yet!")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function at(e,t){let n,r,s;return r=new tt({props:{player:t[4]}}),{key:e,first:null,c(){n=h(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),F(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.player=t[4]),r.$set(s)},i(e){s||(D(r.$$.fragment,e),s=!0)},o(e){U(r.$$.fragment,e),s=!1},d(e){e&&f(n),W(r,e)}}}function ct(e){let t,n,r,s,l,o=!e[0]&&rt(e);const i=[ot,lt],a=[];function c(e,t){return e[1]?1:0}return r=c(e),s=a[r]=i[r](e),{c(){o&&o.c(),t=g(),n=d("p"),s.c(),v(n,"class","players svelte-g74cd1")},m(e,s){o&&o.m(e,s),u(e,t,s),u(e,n,s),a[r].m(n,null),l=!0},p(e,[l]){e[0]?o&&(H(),U(o,1,1,(()=>{o=null})),E()):o?1&l&&D(o,1):(o=rt(e),o.c(),D(o,1),o.m(t.parentNode,t));let u=r;r=c(e),r===u?a[r].p(e,l):(H(),U(a[u],1,1,(()=>{a[u]=null})),E(),s=a[r],s?s.p(e,l):(s=a[r]=i[r](e),s.c()),D(s,1),s.m(n,null))},i(e){l||(D(o),D(s),l=!0)},o(e){U(o),U(s),l=!1},d(e){o&&o.d(e),e&&f(t),e&&f(n),a[r].d()}}}function ut(e,t,n){let r,s;return o(e,ee,(e=>n(0,r=e))),o(e,te,(e=>n(1,s=e))),[r,s]}class ft extends K{constructor(e){super(),Q(this,e,ut,ct,l,{})}}function pt(e,t,n){const r=e.slice();return r[5]=t[n].players,r[6]=t[n].country,r}function dt(e,t,n){const r=e.slice();return r[9]=t[n],r}function mt(e){let t;return{c(){t=m("Loading...")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function gt(e){let t,n,r,s=e[5],l=[];for(let t=0;t<s.length;t+=1)l[t]=ht(dt(e,s,t));const o=e=>U(l[e],1,1,(()=>{l[e]=null}));return{c(){t=d("div");for(let e=0;e<l.length;e+=1)l[e].c();n=g(),v(t,"class","players svelte-1q27u36")},m(e,s){u(e,t,s);for(let e=0;e<l.length;e+=1)l[e].m(t,null);c(t,n),r=!0},p(e,r){if(2&r){let i;for(s=e[5],i=0;i<s.length;i+=1){const o=dt(e,s,i);l[i]?(l[i].p(o,r),D(l[i],1)):(l[i]=ht(o),l[i].c(),D(l[i],1),l[i].m(t,n))}for(H(),i=s.length;i<l.length;i+=1)o(i);E()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)D(l[e]);r=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)U(l[e]);r=!1},d(e){e&&f(t),p(l,e)}}}function ht(e){let t,n;return t=new tt({props:{player:e[9]}}),{c(){B(t.$$.fragment)},m(e,r){F(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.player=e[9]),t.$set(r)},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function $t(e,t){let n,r,s,l,o,i,a,p,b,w,k,x,S,_,q,T=t[6]+"",C=t[5].length+"",N=1==t[5].length?"":"s",M=t[0]==t[6]?"â–¼":"â–º";function O(){return t[4](t[6])}let j=t[0]==t[6]&&gt(t);return{key:e,first:null,c(){n=d("div"),r=d("div"),s=m(T),l=m(": "),o=m(C),i=m(" player"),a=m(N),p=g(),b=d("div"),w=m(M),k=g(),j&&j.c(),x=h(),v(r,"class","label svelte-1q27u36"),v(b,"class","pointer"),v(n,"class","country svelte-1q27u36"),this.first=n},m(e,t){u(e,n,t),c(n,r),c(r,s),c(r,l),c(r,o),c(r,i),c(r,a),c(n,p),c(n,b),c(b,w),u(e,k,t),j&&j.m(e,t),u(e,x,t),S=!0,_||(q=$(n,"click",O),_=!0)},p(e,n){t=e,(!S||2&n)&&T!==(T=t[6]+"")&&y(s,T),(!S||2&n)&&C!==(C=t[5].length+"")&&y(o,C),(!S||2&n)&&N!==(N=1==t[5].length?"":"s")&&y(a,N),(!S||3&n)&&M!==(M=t[0]==t[6]?"â–¼":"â–º")&&y(w,M),t[0]==t[6]?j?(j.p(t,n),3&n&&D(j,1)):(j=gt(t),j.c(),D(j,1),j.m(x.parentNode,x)):j&&(H(),U(j,1,1,(()=>{j=null})),E())},i(e){S||(D(j),S=!0)},o(e){U(j),S=!1},d(e){e&&f(n),e&&f(k),j&&j.d(e),e&&f(x),_=!1,q()}}}function vt(e){let t,n,r=[],s=new Map,l=e[1];const o=e=>e[6];for(let t=0;t<l.length;t+=1){let n=pt(e,l,t),i=o(n);s.set(i,r[t]=$t(i,n))}let i=null;return l.length||(i=mt()),{c(){t=d("div");for(let e=0;e<r.length;e+=1)r[e].c();i&&i.c(),v(t,"class","countries svelte-1q27u36")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);i&&i.m(t,null),n=!0},p(e,[n]){7&n&&(l=e[1],H(),r=J(r,n,o,1,e,l,s,t,G,$t,null,pt),E(),l.length?i&&(i.d(1),i=null):i||(i=mt(),i.c(),i.m(t,null)))},i(e){if(!n){for(let e=0;e<l.length;e+=1)D(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)U(r[e]);n=!1},d(e){e&&f(t);for(let e=0;e<r.length;e+=1)r[e].d();i&&i.d()}}}function yt(e,t,n){let r,s,l;o(e,te,(e=>n(3,s=e)));const i=e=>n(0,l=l==e?null:e);return e.$$.update=()=>{8&e.$$.dirty&&n(1,r=Object.values((null==s?void 0:s.reduce(((e,t)=>(e[t.country]||(e[t.country]={country:t.country,players:[]}),e[t.country].players.push(t),e)),{}))||{}).sort(((e,t)=>e.players.length<t.players.length?1:-1)))},[l,r,i,s,e=>i(e)]}class bt extends K{constructor(e){super(),Q(this,e,yt,vt,l,{})}}function wt(e,t,n){const r=e.slice();return r[11]=t[n],r}function kt(e){let t,n,r,s,l=e[0].name+"",o=e[2]&&St(e);return{c(){t=m(l),n=g(),o&&o.c(),r=h()},m(e,l){u(e,t,l),u(e,n,l),o&&o.m(e,l),u(e,r,l),s=!0},p(e,n){(!s||1&n)&&l!==(l=e[0].name+"")&&y(t,l),e[2]?o?(o.p(e,n),4&n&&D(o,1)):(o=St(e),o.c(),D(o,1),o.m(r.parentNode,r)):o&&(H(),U(o,1,1,(()=>{o=null})),E())},i(e){s||(D(o),s=!0)},o(e){U(o),s=!1},d(e){e&&f(t),e&&f(n),o&&o.d(e),e&&f(r)}}}function xt(t){let n,r,s,l=t[0].name+"";return{c(){n=d("a"),r=m(l),v(n,"href",s=t[0].link),v(n,"target","_blank"),v(n,"rel","noopener")},m(e,t){u(e,n,t),c(n,r)},p(e,t){1&t&&l!==(l=e[0].name+"")&&y(r,l),1&t&&s!==(s=e[0].link)&&v(n,"href",s)},i:e,o:e,d(e){e&&f(n)}}}function St(e){let t,n,r,s;const l=[qt,_t],o=[];function i(e,t){return e[4]?0:1}return t=i(e),n=o[t]=l[t](e),{c(){n.c(),r=h()},m(e,n){o[t].m(e,n),u(e,r,n),s=!0},p(e,s){let a=t;t=i(e),t===a?o[t].p(e,s):(H(),U(o[a],1,1,(()=>{o[a]=null})),E(),n=o[t],n?n.p(e,s):(n=o[t]=l[t](e),n.c()),D(n,1),n.m(r.parentNode,r))},i(e){s||(D(n),s=!0)},o(e){U(n),s=!1},d(e){o[t].d(e),e&&f(r)}}}function _t(e){let t,n;return t=new ke({props:{$$slots:{default:[Tt]},$$scope:{ctx:e}}}),t.$on("click",e[8]),{c(){B(t.$$.fragment)},m(e,r){F(t,e,r),n=!0},p(e,n){const r={};16384&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function qt(t){let n;return{c(){n=m("...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function Tt(e){let t;return{c(){t=m("Sign up")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Ct(t){let n;return{c(){n=m("To be defined")},m(e,t){u(e,n,t)},p:e,d(e){e&&f(n)}}}function Nt(e){let t,n,r,s=e[0].referee.username+"";return{c(){t=d("a"),n=m(s),v(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].referee.username+"")&&y(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&v(t,"href",r)},d(e){e&&f(t)}}}function Mt(e){let t,n,r,s,l,o,i,a=(e[0].available_referees.map(Et).join(", ")||"None")+"";function c(e,t){return e[3]?Lt:e[6]?jt:Ot}let p=c(e),$=p(e);return{c(){t=d("br"),n=g(),r=d("b"),r.textContent="Available referees",s=m(":\r\n        "),l=m(a),o=m(" -\r\n        "),$.c(),i=h()},m(e,a){u(e,t,a),u(e,n,a),u(e,r,a),u(e,s,a),u(e,l,a),u(e,o,a),$.m(e,a),u(e,i,a)},p(e,t){1&t&&a!==(a=(e[0].available_referees.map(Et).join(", ")||"None")+"")&&y(l,a),p===(p=c(e))&&$?$.p(e,t):($.d(1),$=p(e),$&&($.c(),$.m(i.parentNode,i)))},d(e){e&&f(t),e&&f(n),e&&f(r),e&&f(s),e&&f(l),e&&f(o),$.d(e),e&&f(i)}}}function Ot(t){let n,r,s;return{c(){n=d("a"),n.textContent="Add yourself as available",v(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=$(n,"click",t[7]),r=!0)},p:e,d(e){e&&f(n),r=!1,s()}}}function jt(t){let n,r,s;return{c(){n=d("a"),n.textContent="Remove yourself",v(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=$(n,"click",t[7]),r=!0)},p:e,d(e){e&&f(n),r=!1,s()}}}function Lt(t){let n;return{c(){n=m("Processing...")},m(e,t){u(e,n,t)},p:e,d(e){e&&f(n)}}}function Pt(t){let n;return{c(){n=d("a"),n.textContent="Free spot!",v(n,"class","free-spot svelte-mwswut")},m(e,t){u(e,n,t)},p:e,d(e){e&&f(n)}}}function At(e){let t,n,r,s=e[0].players[e[11]].username+"";return{c(){t=d("a"),n=m(s),v(t,"href",r=`https://osu.ppy.sh/users/${e[0].players[e[11]].id}`),v(t,"class","svelte-mwswut")},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].players[e[11]].username+"")&&y(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].players[e[11]].id}`)&&v(t,"href",r)},d(e){e&&f(t)}}}function zt(e){let t;function n(e,t){return e[0].players[e[11]]?At:e[0].link?void 0:Pt}let r=n(e),s=r&&r(e);return{c(){s&&s.c(),t=h()},m(e,n){s&&s.m(e,n),u(e,t,n)},p(e,l){r===(r=n(e))&&s?s.p(e,l):(s&&s.d(1),s=r&&r(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s&&s.d(e),e&&f(t)}}}function Ht(e){let t,n,r,s,l,o,i,a,h,$,b,w,k,x,S,_,q,T,C,N,M,O=e[5].toUTCString().replace(":00 GMT"," UTC+0")+"",j=e[5].toTimeString().replace(":00 GMT"," UTC")+"";const L=[xt,kt],P=[];function A(e,t){return e[0].link?0:1}function z(e,t){return e[0].referee?Nt:Ct}r=A(e),s=P[r]=L[r](e);let R=z(e),I=R(e),G=e[1]&&Mt(e),J=[0,1,2,3,4,5,6,7],B=[];for(let t=0;t<8;t+=1)B[t]=zt(wt(e,J,t));return{c(){t=d("div"),n=d("div"),s.c(),l=g(),o=d("div"),i=d("div"),a=m(O),h=g(),$=d("div"),b=m("Your local time: "),w=d("b"),k=m(j),x=g(),S=d("div"),_=d("b"),_.textContent="Referee",q=m(":\r\n      "),I.c(),T=g(),G&&G.c(),C=g(),N=d("div");for(let e=0;e<8;e+=1)B[e].c();v(n,"class","name svelte-mwswut"),v(i,"class","utc svelte-mwswut"),v($,"class","time svelte-mwswut"),v(S,"class","referee svelte-mwswut"),v(N,"class","players svelte-mwswut"),v(o,"class","body"),v(t,"class","lobby svelte-mwswut")},m(e,s){u(e,t,s),c(t,n),P[r].m(n,null),c(t,l),c(t,o),c(o,i),c(i,a),c(o,h),c(o,$),c($,b),c($,w),c(w,k),c(o,x),c(o,S),c(S,_),c(S,q),I.m(S,null),c(S,T),G&&G.m(S,null),c(o,C),c(o,N);for(let e=0;e<8;e+=1)B[e].m(N,null);M=!0},p(e,[t]){let l=r;if(r=A(e),r===l?P[r].p(e,t):(H(),U(P[l],1,1,(()=>{P[l]=null})),E(),s=P[r],s?s.p(e,t):(s=P[r]=L[r](e),s.c()),D(s,1),s.m(n,null)),(!M||32&t)&&O!==(O=e[5].toUTCString().replace(":00 GMT"," UTC+0")+"")&&y(a,O),(!M||32&t)&&j!==(j=e[5].toTimeString().replace(":00 GMT"," UTC")+"")&&y(k,j),R===(R=z(e))&&I?I.p(e,t):(I.d(1),I=R(e),I&&(I.c(),I.m(S,T))),e[1]?G?G.p(e,t):(G=Mt(e),G.c(),G.m(S,null)):G&&(G.d(1),G=null),1&t){let n;for(J=[0,1,2,3,4,5,6,7],n=0;n<8;n+=1){const r=wt(e,J,n);B[n]?B[n].p(r,t):(B[n]=zt(r),B[n].c(),B[n].m(N,null))}for(;n<8;n+=1)B[n].d(1)}},i(e){M||(D(s),M=!0)},o(e){U(s),M=!1},d(e){e&&f(t),P[r].d(),I.d(),G&&G.d(),p(B,e)}}}const Et=({referee:e})=>e.username;function Dt(e,t,n){let r,s,l;o(e,ee,(e=>n(9,l=e)));var i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function o(e){try{a(r.next(e))}catch(e){l(e)}}function i(e){try{a(r.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}a((r=r.apply(e,t||[])).next())}))};let a,{lobby:c}=t,{toggleAvailable:u}=t,{setSchedule:f}=t;let p;return e.$$set=e=>{"lobby"in e&&n(0,c=e.lobby),"toggleAvailable"in e&&n(1,u=e.toggleAvailable),"setSchedule"in e&&n(2,f=e.setSchedule)},e.$$.update=()=>{1&e.$$.dirty&&n(5,r=new Date(c.time)),515&e.$$.dirty&&n(6,s=u&&c.available_referees.find((({referee:e})=>e.id==l.id)))},[c,u,f,a,p,r,s,()=>i(void 0,void 0,void 0,(function*(){n(3,a=!0),yield u(),n(3,a=!1)})),()=>i(void 0,void 0,void 0,(function*(){n(4,p=!0),yield f(),n(4,p=!1)})),l]}class Ut extends K{constructor(e){super(),Q(this,e,Dt,Ht,l,{lobby:0,toggleAvailable:1,setSchedule:2})}}function Rt(t){let n,r,s,l,o,i,a,p,h,$,w,k,x,S,_,q,T,C,N,M,O,j,L,P,A,z,H,E,D,U,R,I,G,J,B,F,W,Y,Q,K,X,V,Z,ee=t[0].artist+"",te=t[0].name+"",ne=t[0].difficulty+"",re=t[0].category+"",se=t[0].charter+"",le=t[0].sr+"",oe=t[0].length+"",ie=t[0].bpm+"",ae=t[0].od+"",ce=t[0].hp+"";return{c(){n=d("div"),r=d("div"),s=d("div"),l=d("a"),o=m(ee),i=m(" - "),a=m(te),p=d("br"),h=m(ne),w=g(),k=d("div"),x=m(re),S=g(),_=d("div"),q=d("div"),T=m("Mapset by "),C=d("a"),N=m(se),O=g(),j=d("div"),L=d("span"),P=m("â­ "),A=m(le),z=g(),H=d("span"),E=m("â° "),D=m(oe),U=g(),R=d("span"),I=m("ðŸŽµ "),G=m(ie),J=m(" BPM"),B=g(),F=d("span"),W=m("ðŸŽ¯ OD "),Y=m(ae),Q=g(),K=d("span"),X=m("â¤ï¸ HP "),V=m(ce),v(l,"class","name svelte-ttf8w6"),v(l,"href",$=`https://osu.ppy.sh/beatmaps/${t[0].id}`),v(l,"target","_blank"),v(l,"rel","noopener"),v(k,"class","category svelte-ttf8w6"),v(s,"class","header svelte-ttf8w6"),v(C,"href",M=`https://osu.ppy.sh/users/${t[0].charter_id}`),v(C,"class","svelte-ttf8w6"),v(q,"class","mapper"),v(L,"class","stat-item svelte-ttf8w6"),v(H,"class","stat-item svelte-ttf8w6"),v(R,"class","stat-item svelte-ttf8w6"),v(F,"class","stat-item svelte-ttf8w6"),v(K,"class","stat-item svelte-ttf8w6"),v(j,"class","stats svelte-ttf8w6"),v(_,"class","body svelte-ttf8w6"),v(r,"class","container svelte-ttf8w6"),v(n,"class","map svelte-ttf8w6"),v(n,"style",Z=`background-image:url(${t[0].cover})`),b(n,"rice",t[0].category.toLowerCase().match(/rice|tech/)),b(n,"ln",t[0].category.toLowerCase().includes("ln")),b(n,"hybrid",t[0].category.toLowerCase().includes("hybrid")),b(n,"tiebreaker",t[0].category.toLowerCase().includes("tiebreaker"))},m(e,t){u(e,n,t),c(n,r),c(r,s),c(s,l),c(l,o),c(l,i),c(l,a),c(l,p),c(l,h),c(s,w),c(s,k),c(k,x),c(r,S),c(r,_),c(_,q),c(q,T),c(q,C),c(C,N),c(_,O),c(_,j),c(j,L),c(L,P),c(L,A),c(j,z),c(j,H),c(H,E),c(H,D),c(j,U),c(j,R),c(R,I),c(R,G),c(R,J),c(j,B),c(j,F),c(F,W),c(F,Y),c(j,Q),c(j,K),c(K,X),c(K,V)},p(e,[t]){1&t&&ee!==(ee=e[0].artist+"")&&y(o,ee),1&t&&te!==(te=e[0].name+"")&&y(a,te),1&t&&ne!==(ne=e[0].difficulty+"")&&y(h,ne),1&t&&$!==($=`https://osu.ppy.sh/beatmaps/${e[0].id}`)&&v(l,"href",$),1&t&&re!==(re=e[0].category+"")&&y(x,re),1&t&&se!==(se=e[0].charter+"")&&y(N,se),1&t&&M!==(M=`https://osu.ppy.sh/users/${e[0].charter_id}`)&&v(C,"href",M),1&t&&le!==(le=e[0].sr+"")&&y(A,le),1&t&&oe!==(oe=e[0].length+"")&&y(D,oe),1&t&&ie!==(ie=e[0].bpm+"")&&y(G,ie),1&t&&ae!==(ae=e[0].od+"")&&y(Y,ae),1&t&&ce!==(ce=e[0].hp+"")&&y(V,ce),1&t&&Z!==(Z=`background-image:url(${e[0].cover})`)&&v(n,"style",Z),1&t&&b(n,"rice",e[0].category.toLowerCase().match(/rice|tech/)),1&t&&b(n,"ln",e[0].category.toLowerCase().includes("ln")),1&t&&b(n,"hybrid",e[0].category.toLowerCase().includes("hybrid")),1&t&&b(n,"tiebreaker",e[0].category.toLowerCase().includes("tiebreaker"))},i:e,o:e,d(e){e&&f(n)}}}function It(e,t,n){let{map:r}=t;return e.$$set=e=>{"map"in e&&n(0,r=e.map)},[r]}class Gt extends K{constructor(e){super(),Q(this,e,It,Rt,l,{map:0})}}const Jt=V(null),Bt=V(null),{Map:Ft}=R;function Wt(e,t,n){const r=e.slice();return r[8]=t[n],r}function Yt(e,t,n){const r=e.slice();return r[11]=t[n],r}function Qt(e){let t;function n(e,t){return e[0].qualifier?Xt:Kt}let r=n(e),s=r(e);return{c(){t=d("p"),s.c(),v(t,"class","intro svelte-1pt4gyt")},m(e,n){u(e,t,n),s.m(t,null)},p(e,l){r===(r=n(e))&&s?s.p(e,l):(s.d(1),s=r(e),s&&(s.c(),s.m(t,null)))},d(e){e&&f(t),s.d()}}}function Kt(e){let t,n,r,s,l,o,i,a,c,p,g,h=e[0].username+"";return{c(){t=m("Welcome, player "),n=m(h),r=m("!"),s=d("br"),l=d("br"),o=m("\r\n    You can feel free to put yourself in any qualifier with a free spot in it."),i=d("br"),a=d("br"),c=m("\r\n    If there is no lobby that suits you, please specify a time in the #reschedules channel in the Discord:"),p=d("br"),g=m("\r\n    we will try to organize a special extra lobby.")},m(e,f){u(e,t,f),u(e,n,f),u(e,r,f),u(e,s,f),u(e,l,f),u(e,o,f),u(e,i,f),u(e,a,f),u(e,c,f),u(e,p,f),u(e,g,f)},p(e,t){1&t&&h!==(h=e[0].username+"")&&y(n,h)},d(e){e&&f(t),e&&f(n),e&&f(r),e&&f(s),e&&f(l),e&&f(o),e&&f(i),e&&f(a),e&&f(c),e&&f(p),e&&f(g)}}}function Xt(e){let t,n,r,s,l,o,i,a,p,g,h,$,v,b,w,k,x,S,_,q,T,C,N,M,O,j,L,P,A,z,H=e[0].qualifier.name+"",E=e[2].toUTCString().replace(":00 GMT"," UTC+0")+"",D=e[2].toTimeString().replace(":00 GMT"," UTC")+"";return{c(){t=m("You are in "),n=d("b"),r=m("Lobby "),s=m(H),l=m(" happening on\r\n    "),o=d("b"),i=m(E),a=d("br"),p=m("\r\n    (converted to your local time: "),g=d("b"),h=m(D),$=m(").\r\n    "),v=d("br"),b=d("br"),w=m("\r\n    The referee will ping you on Discord (make sure you are in our Discord) "),k=d("b"),k.textContent="15 minutes",x=m(" before the time"),S=d("br"),_=m("\r\n    and will invite you in the multiplayer lobby "),q=d("b"),q.textContent="5 minutes",T=m(" before the time. Make sure you are logged in the game by then!\r\n    "),C=d("br"),N=d("br"),M=m("\r\n    Once you are in the game, you will play all maps "),O=d("b"),O.textContent="2 times",j=m(":"),L=d("br"),P=m("\r\n    the best score on each map will count in the final qualifiers leaderboard and determine your seed.\r\n    "),A=d("br"),z=d("br")},m(e,f){u(e,t,f),u(e,n,f),c(n,r),c(n,s),u(e,l,f),u(e,o,f),c(o,i),u(e,a,f),u(e,p,f),u(e,g,f),c(g,h),u(e,$,f),u(e,v,f),u(e,b,f),u(e,w,f),u(e,k,f),u(e,x,f),u(e,S,f),u(e,_,f),u(e,q,f),u(e,T,f),u(e,C,f),u(e,N,f),u(e,M,f),u(e,O,f),u(e,j,f),u(e,L,f),u(e,P,f),u(e,A,f),u(e,z,f)},p(e,t){1&t&&H!==(H=e[0].qualifier.name+"")&&y(s,H),4&t&&E!==(E=e[2].toUTCString().replace(":00 GMT"," UTC+0")+"")&&y(i,E),4&t&&D!==(D=e[2].toTimeString().replace(":00 GMT"," UTC")+"")&&y(h,D)},d(e){e&&f(t),e&&f(n),e&&f(l),e&&f(o),e&&f(a),e&&f(p),e&&f(g),e&&f($),e&&f(v),e&&f(b),e&&f(w),e&&f(k),e&&f(x),e&&f(S),e&&f(_),e&&f(q),e&&f(T),e&&f(C),e&&f(N),e&&f(M),e&&f(O),e&&f(j),e&&f(L),e&&f(P),e&&f(A),e&&f(z)}}}function Vt(e){let t,n,r,s,l=[],o=new Ft,i=[],a=new Ft,c=e[3];const p=e=>e[11].id;for(let t=0;t<c.length;t+=1){let n=Yt(e,c,t),r=p(n);o.set(r,l[t]=en(r,n))}let m=e[1];const h=e=>e[8].name;for(let t=0;t<m.length;t+=1){let n=Wt(e,m,t),r=h(n);a.set(r,i[t]=tn(r,n))}return{c(){t=d("p");for(let e=0;e<l.length;e+=1)l[e].c();n=g(),r=d("p");for(let e=0;e<i.length;e+=1)i[e].c();v(t,"class","maps svelte-1pt4gyt"),v(r,"class","lobbies svelte-1pt4gyt")},m(e,o){u(e,t,o);for(let e=0;e<l.length;e+=1)l[e].m(t,null);u(e,n,o),u(e,r,o);for(let e=0;e<i.length;e+=1)i[e].m(r,null);s=!0},p(e,n){8&n&&(c=e[3],H(),l=J(l,n,p,1,e,c,o,t,G,en,null,Yt),E()),51&n&&(m=e[1],H(),i=J(i,n,h,1,e,m,a,r,G,tn,null,Wt),E())},i(e){if(!s){for(let e=0;e<c.length;e+=1)D(l[e]);for(let e=0;e<m.length;e+=1)D(i[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)U(l[e]);for(let e=0;e<i.length;e+=1)U(i[e]);s=!1},d(e){e&&f(t);for(let e=0;e<l.length;e+=1)l[e].d();e&&f(n),e&&f(r);for(let e=0;e<i.length;e+=1)i[e].d()}}}function Zt(t){let n;return{c(){n=d("p"),n.textContent="Loading qualifier lobbies...",v(n,"class","lobbies svelte-1pt4gyt")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function en(e,t){let n,r,s;return r=new Gt({props:{map:t[11]}}),{key:e,first:null,c(){n=h(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),F(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.map=t[11]),r.$set(s)},i(e){s||(D(r.$$.fragment,e),s=!0)},o(e){U(r.$$.fragment,e),s=!1},d(e){e&&f(n),W(r,e)}}}function tn(e,t){let n,r,s;return r=new Ut({props:{lobby:t[8],toggleAvailable:t[0]?.referee&&t[4](t[8]),setSchedule:t[0]?.player&&!t[0]?.qualifier?.link&&t[5](t[8])}}),{key:e,first:null,c(){n=h(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),F(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.lobby=t[8]),3&n&&(s.toggleAvailable=t[0]?.referee&&t[4](t[8])),3&n&&(s.setSchedule=t[0]?.player&&!t[0]?.qualifier?.link&&t[5](t[8])),r.$set(s)},i(e){s||(D(r.$$.fragment,e),s=!0)},o(e){U(r.$$.fragment,e),s=!1},d(e){e&&f(n),W(r,e)}}}function nn(e){let t,n,r,s,l,o,i,a=e[0]?.player&&Qt(e);const c=[Zt,Vt],p=[];function m(e,t){return e[1]?1:0}return s=m(e),l=p[s]=c[s](e),{c(){t=d("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers">Player ranking</a>',n=g(),a&&a.c(),r=g(),l.c(),o=h(),v(t,"class","links svelte-1pt4gyt")},m(e,l){u(e,t,l),u(e,n,l),a&&a.m(e,l),u(e,r,l),p[s].m(e,l),u(e,o,l),i=!0},p(e,[t]){e[0]?.player?a?a.p(e,t):(a=Qt(e),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null);let n=s;s=m(e),s===n?p[s].p(e,t):(H(),U(p[n],1,1,(()=>{p[n]=null})),E(),l=p[s],l?l.p(e,t):(l=p[s]=c[s](e),l.c()),D(l,1),l.m(o.parentNode,o))},i(e){i||(D(l),i=!0)},o(e){U(l),i=!1},d(e){e&&f(t),e&&f(n),a&&a.d(e),e&&f(r),p[s].d(e),e&&f(o)}}}function rn(e,t,n){let r,s,l,i;o(e,Jt,(e=>n(1,s=e))),o(e,ee,(e=>n(0,l=e))),o(e,Bt,(e=>n(3,i=e)));var a,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function o(e){try{a(r.next(e))}catch(e){l(e)}}function i(e){try{a(r.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}a((r=r.apply(e,t||[])).next())}))};s||(async()=>{const{data:e}=await ce("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "qualifiers"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  qualifier_lobbies(sort: "time") {\n    name\n    link\n    players {\n      id\n      username\n    }\n    time\n    referee {\n      id\n      username\n    }\n    available_referees {\n      rel_id: id\n      referee: referees_id {\n        id\n        username\n      }\n    }\n  }\n}'})});Jt.set(e.qualifier_lobbies),Bt.set(e.maps)})();return e.$$.update=()=>{65&e.$$.dirty&&n(2,r=new Date(null===n(6,a=null==l?void 0:l.qualifier)||void 0===a?void 0:a.time))},[l,s,r,i,e=>()=>c(void 0,void 0,void 0,(function*(){const t=e.available_referees.find((({referee:e})=>e.id==l.id)),n=yield ce(`/items/qualifier_lobbies/${e.name}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({available_referees:t?{delete:[t.rel_id]}:{create:[{referees_id:l.id}]}})});n.errors?alert(n.errors[0].message):Jt.set(s.map((r=>(r.name!=e.name||(t?r.available_referees=r.available_referees.filter((({referee:e})=>e.id!=l.id)):r.available_referees.push({rel_id:n.data.available_referees.pop(),referee:l.referee})),r))))})),e=>()=>c(void 0,void 0,void 0,(function*(){const t=yield ce("/custom/qualifiers/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qualifier:e.name})});t.errors&&alert(t.errors[0].message),location.reload()})),a]}class sn extends K{constructor(e){super(),Q(this,e,rn,nn,l,{})}}function ln(t){let n,r,s,l,o,i,a,p,h,$,w,k,x,S,_,q,T,C,N,M,O,j,L,P,A,z,H,E,D,U,R,I,G,J,B,F,W=t[1].position+"",Y=t[0].username+"",Q=t[1].score+"",K=t[3].toFixed(2)+"",X=t[1].combo+"",V=t[1].c320+"",Z=t[1].c300+"",ee=t[1].c200+"",te=t[1].c100+"",ne=t[1].c50+"",re=t[1].c0+"";return{c(){n=d("div"),r=d("div"),s=m(W),l=m("."),o=g(),i=d("div"),a=d("a"),p=m(Y),$=g(),w=d("div"),k=m(Q),x=g(),S=d("div"),_=m(K),q=m("%, x"),T=m(X),C=g(),N=d("div"),M=d("div"),O=m(V),j=g(),L=d("div"),P=m(Z),A=g(),z=d("div"),H=m(ee),E=g(),D=d("div"),U=m(te),R=g(),I=d("div"),G=m(ne),J=g(),B=d("div"),F=m(re),v(r,"class","position svelte-1m6wbdm"),v(a,"href",h=`https://osu.ppy.sh/users/${t[0].id}`),v(a,"target","_blank"),v(a,"rel","noopener"),v(i,"class","player svelte-1m6wbdm"),v(S,"class","details svelte-1m6wbdm"),v(w,"class","value svelte-1m6wbdm"),v(M,"class","judgement svelte-1m6wbdm"),v(L,"class","judgement svelte-1m6wbdm"),v(z,"class","judgement svelte-1m6wbdm"),v(D,"class","judgement svelte-1m6wbdm"),v(I,"class","judgement svelte-1m6wbdm"),v(B,"class","judgement svelte-1m6wbdm"),v(N,"class","judgements svelte-1m6wbdm"),v(n,"class","score svelte-1m6wbdm"),b(n,"me",t[2]?.id==t[0].id)},m(e,t){u(e,n,t),c(n,r),c(r,s),c(r,l),c(n,o),c(n,i),c(i,a),c(a,p),c(n,$),c(n,w),c(w,k),c(w,x),c(w,S),c(S,_),c(S,q),c(S,T),c(n,C),c(n,N),c(N,M),c(M,O),c(N,j),c(N,L),c(L,P),c(N,A),c(N,z),c(z,H),c(N,E),c(N,D),c(D,U),c(N,R),c(N,I),c(I,G),c(N,J),c(N,B),c(B,F)},p(e,[t]){2&t&&W!==(W=e[1].position+"")&&y(s,W),1&t&&Y!==(Y=e[0].username+"")&&y(p,Y),1&t&&h!==(h=`https://osu.ppy.sh/users/${e[0].id}`)&&v(a,"href",h),2&t&&Q!==(Q=e[1].score+"")&&y(k,Q),2&t&&X!==(X=e[1].combo+"")&&y(T,X),2&t&&V!==(V=e[1].c320+"")&&y(O,V),2&t&&Z!==(Z=e[1].c300+"")&&y(P,Z),2&t&&ee!==(ee=e[1].c200+"")&&y(H,ee),2&t&&te!==(te=e[1].c100+"")&&y(U,te),2&t&&ne!==(ne=e[1].c50+"")&&y(G,ne),2&t&&re!==(re=e[1].c0+"")&&y(F,re),5&t&&b(n,"me",e[2]?.id==e[0].id)},i:e,o:e,d(e){e&&f(n)}}}function on(e,t,n){let r;o(e,ee,(e=>n(2,r=e)));let{player:s}=t,{score:l}=t;const i=l.c320+l.c300+l.c200+l.c100+l.c50+l.c0,a=(305*l.c320+300*l.c300+200*l.c200+100*l.c100+50*l.c50)/(3.05*i);return e.$$set=e=>{"player"in e&&n(0,s=e.player),"score"in e&&n(1,l=e.score)},[s,l,r,a]}class an extends K{constructor(e){super(),Q(this,e,on,ln,l,{player:0,score:1})}}const cn=V(null),un=V(null),fn=V(null),pn=V(null),dn=V(null),mn=new Set(["9950122","2735466","18025458","15255368","15286154","13608389","17422924","17957861","9895270","5101133","13455818","19365665","6335238","2383766","13984214","8916149"]),gn=async e=>{var t,n;const r=e.filter((e=>!mn.has(e.id))),s=e.filter((e=>mn.has(e.id))),{data:l}=await ce("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "qualifiers"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    cover\n  }\n  qualifier_scores(sort: "-score", limit: -1) {\n    player {\n      id\n    }\n    map {\n      id\n    }\n    lobby {\n      name\n      link\n    }\n    score\n    combo\n    c320\n    c300\n    c200\n    c100\n    c50\n    c0\n  }\n}'})}),o=e=>[e.id,Object.assign(Object.assign({},e),{players:new Map})],i=new Map(l.maps.map(o)),a=new Map(l.maps.map(o)),c=t=>[t.id,Object.assign(Object.assign({},t),{totalScore:0,sumOfPositions:e.length*l.maps.length,mapScores:new Map(l.maps.map((e=>[e.id,[]])))})],u=new Map(r.map(c)),f=new Map(s.map(c));l.qualifier_scores.forEach((e=>{var t,n;let r;if(r=u.get(null===(t=e.player)||void 0===t?void 0:t.id)){if(!i.has(e.map.id))return;r.mapScores.get(e.map.id).push(e);const t=i.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,r)}else if(r=f.get(null===(n=e.player)||void 0===n?void 0:n.id)){if(!a.has(e.map.id))return;r.mapScores.get(e.map.id).push(e);const t=a.get(e.map.id).players;t.has(e.player.id)||t.set(e.player.id,r)}}));for(const e of i.values()){const n=Array.from(e.players.values());for(let r=0;r<n.length;++r){const s=n[r].mapScores.get(e.id)[0],l=null===(t=n[r-1])||void 0===t?void 0:t.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}for(const e of a.values()){const t=Array.from(e.players.values());for(let r=0;r<t.length;++r){const s=t[r].mapScores.get(e.id)[0],l=null===(n=t[r-1])||void 0===n?void 0:n.mapScores.get(e.id)[0];s.position=s.score==(null==l?void 0:l.score)?l.position:r+1}}for(const t of u.values())t.sumOfPositions=l.maps.reduce(((n,r)=>{var s,l;return t.totalScore+=null===(s=t.mapScores.get(r.id)[0])||void 0===s?void 0:s.score,n+((null===(l=t.mapScores.get(r.id)[0])||void 0===l?void 0:l.position)||e.length)}),0);for(const t of f.values())t.sumOfPositions=l.maps.reduce(((n,r)=>{var s,l;return t.totalScore+=null===(s=t.mapScores.get(r.id)[0])||void 0===s?void 0:s.score,n+((null===(l=t.mapScores.get(r.id)[0])||void 0===l?void 0:l.position)||e.length)}),0);const p=(e,t)=>e.sumOfPositions==t.sumOfPositions?e.totalScore<t.totalScore?1:-1:e.sumOfPositions<t.sumOfPositions?-1:1,d=Array.from(u.values()).sort(p),m=Array.from(f.values()).sort(p);d.forEach(((e,t)=>e.position=t+1)),m.forEach(((e,t)=>e.position=t+1)),cn.set(Array.from(i.values())),fn.set(Array.from(a.values())),un.set(d),pn.set(m)},hn=(e,t)=>{const n=e.findIndex((e=>e.id==(null==t?void 0:t.id)));n>-1&&dn.set(Object.assign(Object.assign({},e[n]),{position:n+1}))},{Map:$n}=R;function vn(e,t,n){const r=e.slice();return r[8]=t[n],r}function yn(e,t,n){const r=e.slice();return r[11]=t[n],r}function bn(e){let t,n,r=[],s=new $n,l=e[0];const o=e=>e[8].id;for(let t=0;t<l.length;t+=1){let n=vn(e,l,t),i=o(n);s.set(i,r[t]=_n(i,n))}return{c(){t=d("p");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","maps svelte-1pnvguw")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){15&n&&(l=e[0],H(),r=J(r,n,o,1,e,l,s,t,G,_n,null,vn),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)D(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)U(r[e]);n=!1},d(e){e&&f(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function wn(t){let n;return{c(){n=d("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function kn(e){let t,n,r;return n=new an({props:{player:e[1],score:e[1].mapScores.get(e[8].id)[0]}}),{c(){t=d("div"),B(n.$$.fragment),v(t,"class","my-qualifier svelte-1pnvguw")},m(e,s){u(e,t,s),F(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.player=e[1]),3&t&&(r.score=e[1].mapScores.get(e[8].id)[0]),n.$set(r)},i(e){r||(D(n.$$.fragment,e),r=!0)},o(e){U(n.$$.fragment,e),r=!1},d(e){e&&f(t),W(n)}}}function xn(e){let t,n,r=[],s=new $n,l=Array.from(e[8].players.values());const o=e=>e[11].id;for(let t=0;t<l.length;t+=1){let n=yn(e,l,t),i=o(n);s.set(i,r[t]=Sn(i,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=h()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);u(e,t,s),n=!0},p(e,n){1&n&&(l=Array.from(e[8].players.values()),H(),r=J(r,n,o,1,e,l,s,t.parentNode,G,Sn,t,yn),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)D(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)U(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&f(t)}}}function Sn(e,t){let n,r,s;return r=new an({props:{player:t[11],score:t[11].mapScores.get(t[8].id)[0]}}),{key:e,first:null,c(){n=h(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),F(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.player=t[11]),1&n&&(s.score=t[11].mapScores.get(t[8].id)[0]),r.$set(s)},i(e){s||(D(r.$$.fragment,e),s=!0)},o(e){U(r.$$.fragment,e),s=!1},d(e){e&&f(n),W(r,e)}}}function _n(e,t){let n,r,s,l,o,i,a,p,b,w,k,x,S=t[2][t[8].id]?"Show":"Hide";r=new Gt({props:{map:t[8]}});let _=t[1]&&kn(t);function q(){return t[7](t[8])}let T=!t[2][t[8].id]&&xn(t);return{key:e,first:null,c(){n=h(),B(r.$$.fragment),s=g(),_&&_.c(),l=g(),o=d("a"),i=m(S),a=m(" scores"),p=g(),T&&T.c(),b=h(),v(o,"href","javascript:void(0)"),this.first=n},m(e,t){u(e,n,t),F(r,e,t),u(e,s,t),_&&_.m(e,t),u(e,l,t),u(e,o,t),c(o,i),c(o,a),u(e,p,t),T&&T.m(e,t),u(e,b,t),w=!0,k||(x=$(o,"click",q),k=!0)},p(e,n){t=e;const s={};1&n&&(s.map=t[8]),r.$set(s),t[1]?_?(_.p(t,n),2&n&&D(_,1)):(_=kn(t),_.c(),D(_,1),_.m(l.parentNode,l)):_&&(H(),U(_,1,1,(()=>{_=null})),E()),(!w||5&n)&&S!==(S=t[2][t[8].id]?"Show":"Hide")&&y(i,S),t[2][t[8].id]?T&&(H(),U(T,1,1,(()=>{T=null})),E()):T?(T.p(t,n),5&n&&D(T,1)):(T=xn(t),T.c(),D(T,1),T.m(b.parentNode,b))},i(e){w||(D(r.$$.fragment,e),D(_),D(T),w=!0)},o(e){U(r.$$.fragment,e),U(_),U(T),w=!1},d(e){e&&f(n),W(r,e),e&&f(s),_&&_.d(e),e&&f(l),e&&f(o),e&&f(p),T&&T.d(e),e&&f(b),k=!1,x()}}}function qn(e){let t,n,r,s,l,o;const i=[wn,bn],a=[];function c(e,t){return e[0]?1:0}return r=c(e),s=a[r]=i[r](e),{c(){t=d("div"),t.innerHTML='<a href="#/qualifiers">Player rankings</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!elite!maps">Elite players</a>',n=g(),s.c(),l=h(),v(t,"class","links svelte-1pnvguw")},m(e,s){u(e,t,s),u(e,n,s),a[r].m(e,s),u(e,l,s),o=!0},p(e,[t]){let n=r;r=c(e),r===n?a[r].p(e,t):(H(),U(a[n],1,1,(()=>{a[n]=null})),E(),s=a[r],s?s.p(e,t):(s=a[r]=i[r](e),s.c()),D(s,1),s.m(l.parentNode,l))},i(e){o||(D(s),o=!0)},o(e){U(s),o=!1},d(e){e&&f(t),e&&f(n),a[r].d(e),e&&f(l)}}}function Tn(e,t,n){let r,s,l,i,a;o(e,cn,(e=>n(0,r=e))),o(e,te,(e=>n(4,s=e))),o(e,dn,(e=>n(1,l=e))),o(e,un,(e=>n(5,i=e))),o(e,ee,(e=>n(6,a=e)));let c={};const u=e=>{n(2,c=Object.assign(Object.assign({},c),{[e.id]:!c[e.id]}))};return e.$$.update=()=>{17&e.$$.dirty&&!r&&s&&gn(s),98&e.$$.dirty&&!l&&i&&a&&hn(i,a)},[r,l,c,u,s,i,a,e=>u(e)]}class Cn extends K{constructor(e){super(),Q(this,e,Tn,qn,l,{})}}function Nn(e,t,n){const r=e.slice();return r[4]=t[n],r}function Mn(e,t){let n,r,s,l,o,i,a=(t[1].mapScores.get(t[4].id)[0]?.score||"N/A")+"",p=(t[1].mapScores.get(t[4].id)[0]?.position||"-")+"";return{key:e,first:null,c(){n=d("div"),r=m(a),s=d("br"),l=m("\r\n      ("),o=m(p),i=m(")\r\n    "),v(n,"class","score svelte-nyb024"),this.first=n},m(e,t){u(e,n,t),c(n,r),c(n,s),c(n,l),c(n,o),c(n,i)},p(e,n){t=e,6&n&&a!==(a=(t[1].mapScores.get(t[4].id)[0]?.score||"N/A")+"")&&y(r,a),6&n&&p!==(p=(t[1].mapScores.get(t[4].id)[0]?.position||"-")+"")&&y(o,p)},d(e){e&&f(n)}}}function On(t){let n,r,s,l,o,i,a,p,h,$,b,w,k,x,S,_,q,T,C,N,M,O,j,L,P,A,z,H=t[1].username+"",E=t[1].ranking+"",D=t[1].country+"",U=t[2].map(t[3]).join(" + ")+"",R=t[1].sumOfPositions+"",G=t[1].totalScore+"",B=[],F=new Map,W=t[2];const Y=e=>e[4].id;for(let e=0;e<W.length;e+=1){let n=Nn(t,W,e),r=Y(n);F.set(r,B[e]=Mn(r,n))}return{c(){n=d("a"),r=d("div"),s=d("img"),o=g(),i=d("div"),a=m(t[0]),p=m(". "),h=m(H),$=m(" (#"),b=m(E),w=m(")\r\n    "),k=d("div"),x=m(D),S=g(),_=d("div"),q=m(U),T=m("\r\n    =\r\n    "),C=d("b"),N=m(R),M=g(),O=d("div"),j=m("Total score: "),L=m(G),A=g(),z=d("div");for(let e=0;e<B.length;e+=1)B[e].c();v(s,"class","avatar svelte-nyb024"),s.src!==(l=t[1].avatar)&&v(s,"src",l),v(s,"alt",""),v(r,"class","avatar svelte-nyb024"),v(k,"class","country svelte-nyb024"),v(i,"class","name svelte-nyb024"),v(O,"class","total-score svelte-nyb024"),v(_,"class","positions svelte-nyb024"),v(n,"class","player svelte-nyb024"),v(n,"href",P=`https://osu.ppy.sh/users/${t[1].id}`),v(n,"target","_blank"),v(n,"rel","noopener"),v(z,"class","scores svelte-nyb024")},m(e,t){u(e,n,t),c(n,r),c(r,s),c(n,o),c(n,i),c(i,a),c(i,p),c(i,h),c(i,$),c(i,b),c(i,w),c(i,k),c(k,x),c(n,S),c(n,_),c(_,q),c(_,T),c(_,C),c(C,N),c(_,M),c(_,O),c(O,j),c(O,L),u(e,A,t),u(e,z,t);for(let e=0;e<B.length;e+=1)B[e].m(z,null)},p(e,[t]){2&t&&s.src!==(l=e[1].avatar)&&v(s,"src",l),1&t&&y(a,e[0]),2&t&&H!==(H=e[1].username+"")&&y(h,H),2&t&&E!==(E=e[1].ranking+"")&&y(b,E),2&t&&D!==(D=e[1].country+"")&&y(x,D),6&t&&U!==(U=e[2].map(e[3]).join(" + ")+"")&&y(q,U),2&t&&R!==(R=e[1].sumOfPositions+"")&&y(N,R),2&t&&G!==(G=e[1].totalScore+"")&&y(L,G),2&t&&P!==(P=`https://osu.ppy.sh/users/${e[1].id}`)&&v(n,"href",P),6&t&&(W=e[2],B=J(B,t,Y,1,e,W,F,z,I,Mn,null,Nn))},i:e,o:e,d(e){e&&f(n),e&&f(A),e&&f(z);for(let e=0;e<B.length;e+=1)B[e].d()}}}function jn(e,t,n){let{position:r}=t,{player:s}=t,{maps:l}=t;return e.$$set=e=>{"position"in e&&n(0,r=e.position),"player"in e&&n(1,s=e.player),"maps"in e&&n(2,l=e.maps)},[r,s,l,e=>s.mapScores.get(e.id)[0]?.position||"N/A"]}class Ln extends K{constructor(e){super(),Q(this,e,jn,On,l,{position:0,player:1,maps:2})}}function Pn(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function An(e){let t,n,r,s,l;return s=new Ln({props:{position:e[1].position,player:e[1],maps:e[2]}}),{c(){t=d("div"),n=d("h1"),n.textContent="Your placement",r=g(),B(s.$$.fragment),v(t,"class","my-qualifier svelte-buidrs")},m(e,o){u(e,t,o),c(t,n),c(t,r),F(s,t,null),l=!0},p(e,t){const n={};2&t&&(n.position=e[1].position),2&t&&(n.player=e[1]),4&t&&(n.maps=e[2]),s.$set(n)},i(e){l||(D(s.$$.fragment,e),l=!0)},o(e){U(s.$$.fragment,e),l=!1},d(e){e&&f(t),W(s)}}}function zn(e){let t,n,r=[],s=new Map,l=e[0];const o=e=>e[5].id;for(let t=0;t<l.length;t+=1){let n=Pn(e,l,t),i=o(n);s.set(i,r[t]=Gn(i,n))}return{c(){t=d("div");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","players svelte-buidrs")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){5&n&&(l=e[0],H(),r=J(r,n,o,1,e,l,s,t,G,Gn,null,Pn),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)D(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)U(r[e]);n=!1},d(e){e&&f(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Hn(t){let n;return{c(){n=d("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function En(e){let t;return{c(){t=d("h1"),t.textContent="Not qualified"},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Dn(e){let t;return{c(){t=d("h1"),t.textContent="Bottom seed"},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Un(e){let t;return{c(){t=d("h1"),t.textContent="Low seed"},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Rn(e){let t;return{c(){t=d("h1"),t.textContent="High seed"},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function In(e){let t;return{c(){t=d("h1"),t.textContent="Top seed"},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Gn(e,t){let n,r,s,l;function o(e,t){return 0==e[7]?In:32==e[7]?Rn:64==e[7]?Un:96==e[7]?Dn:128==e[7]?En:void 0}let i=o(t),a=i&&i(t);return s=new Ln({props:{position:t[7]+1,player:t[5],maps:t[2]}}),{key:e,first:null,c(){n=h(),a&&a.c(),r=g(),B(s.$$.fragment),this.first=n},m(e,t){u(e,n,t),a&&a.m(e,t),u(e,r,t),F(s,e,t),l=!0},p(e,n){i!==(i=o(t=e))&&(a&&a.d(1),a=i&&i(t),a&&(a.c(),a.m(r.parentNode,r)));const l={};1&n&&(l.position=t[7]+1),1&n&&(l.player=t[5]),4&n&&(l.maps=t[2]),s.$set(l)},i(e){l||(D(s.$$.fragment,e),l=!0)},o(e){U(s.$$.fragment,e),l=!1},d(e){e&&f(n),a&&a.d(e),e&&f(r),W(s,e)}}}function Jn(e){let t,n,r,s,l,o,i,a=e[1]&&An(e);const c=[Hn,zn],p=[];function m(e,t){return e[0]?1:0}return s=m(e),l=p[s]=c[s](e),{c(){t=d("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!elite">Elite players</a>',n=g(),a&&a.c(),r=g(),l.c(),o=h(),v(t,"class","links svelte-buidrs")},m(e,l){u(e,t,l),u(e,n,l),a&&a.m(e,l),u(e,r,l),p[s].m(e,l),u(e,o,l),i=!0},p(e,[t]){e[1]?a?(a.p(e,t),2&t&&D(a,1)):(a=An(e),a.c(),D(a,1),a.m(r.parentNode,r)):a&&(H(),U(a,1,1,(()=>{a=null})),E());let n=s;s=m(e),s===n?p[s].p(e,t):(H(),U(p[n],1,1,(()=>{p[n]=null})),E(),l=p[s],l?l.p(e,t):(l=p[s]=c[s](e),l.c()),D(l,1),l.m(o.parentNode,o))},i(e){i||(D(a),D(l),i=!0)},o(e){U(a),U(l),i=!1},d(e){e&&f(t),e&&f(n),a&&a.d(e),e&&f(r),p[s].d(e),e&&f(o)}}}function Bn(e,t,n){let r,s,l,i,a;return o(e,un,(e=>n(0,r=e))),o(e,te,(e=>n(3,s=e))),o(e,dn,(e=>n(1,l=e))),o(e,ee,(e=>n(4,i=e))),o(e,cn,(e=>n(2,a=e))),e.$$.update=()=>{9&e.$$.dirty&&!r&&s&&gn(s),19&e.$$.dirty&&!l&&r&&i&&hn(r,i)},[r,l,a,s,i]}class Fn extends K{constructor(e){super(),Q(this,e,Bn,Jn,l,{})}}const{Map:Wn}=R;function Yn(e,t,n){const r=e.slice();return r[8]=t[n],r}function Qn(e,t,n){const r=e.slice();return r[11]=t[n],r}function Kn(e){let t,n,r=[],s=new Wn,l=e[0];const o=e=>e[8].id;for(let t=0;t<l.length;t+=1){let n=Yn(e,l,t),i=o(n);s.set(i,r[t]=tr(i,n))}return{c(){t=d("p");for(let e=0;e<r.length;e+=1)r[e].c();v(t,"class","maps svelte-1pnvguw")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){15&n&&(l=e[0],H(),r=J(r,n,o,1,e,l,s,t,G,tr,null,Yn),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)D(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)U(r[e]);n=!1},d(e){e&&f(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Xn(t){let n;return{c(){n=d("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function Vn(e){let t,n,r;return n=new an({props:{player:e[1],score:e[1].mapScores.get(e[8].id)[0]}}),{c(){t=d("div"),B(n.$$.fragment),v(t,"class","my-qualifier svelte-1pnvguw")},m(e,s){u(e,t,s),F(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.player=e[1]),3&t&&(r.score=e[1].mapScores.get(e[8].id)[0]),n.$set(r)},i(e){r||(D(n.$$.fragment,e),r=!0)},o(e){U(n.$$.fragment,e),r=!1},d(e){e&&f(t),W(n)}}}function Zn(e){let t,n,r=[],s=new Wn,l=Array.from(e[8].players.values());const o=e=>e[11].id;for(let t=0;t<l.length;t+=1){let n=Qn(e,l,t),i=o(n);s.set(i,r[t]=er(i,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=h()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);u(e,t,s),n=!0},p(e,n){1&n&&(l=Array.from(e[8].players.values()),H(),r=J(r,n,o,1,e,l,s,t.parentNode,G,er,t,Qn),E())},i(e){if(!n){for(let e=0;e<l.length;e+=1)D(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)U(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&f(t)}}}function er(e,t){let n,r,s;return r=new an({props:{player:t[11],score:t[11].mapScores.get(t[8].id)[0]}}),{key:e,first:null,c(){n=h(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),F(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.player=t[11]),1&n&&(s.score=t[11].mapScores.get(t[8].id)[0]),r.$set(s)},i(e){s||(D(r.$$.fragment,e),s=!0)},o(e){U(r.$$.fragment,e),s=!1},d(e){e&&f(n),W(r,e)}}}function tr(e,t){let n,r,s,l,o,i,a,p,b,w,k,x,S=t[2][t[8].id]?"Show":"Hide";r=new Gt({props:{map:t[8]}});let _=t[1]&&Vn(t);function q(){return t[7](t[8])}let T=!t[2][t[8].id]&&Zn(t);return{key:e,first:null,c(){n=h(),B(r.$$.fragment),s=g(),_&&_.c(),l=g(),o=d("a"),i=m(S),a=m(" scores"),p=g(),T&&T.c(),b=h(),v(o,"href","javascript:void(0)"),this.first=n},m(e,t){u(e,n,t),F(r,e,t),u(e,s,t),_&&_.m(e,t),u(e,l,t),u(e,o,t),c(o,i),c(o,a),u(e,p,t),T&&T.m(e,t),u(e,b,t),w=!0,k||(x=$(o,"click",q),k=!0)},p(e,n){t=e;const s={};1&n&&(s.map=t[8]),r.$set(s),t[1]?_?(_.p(t,n),2&n&&D(_,1)):(_=Vn(t),_.c(),D(_,1),_.m(l.parentNode,l)):_&&(H(),U(_,1,1,(()=>{_=null})),E()),(!w||5&n)&&S!==(S=t[2][t[8].id]?"Show":"Hide")&&y(i,S),t[2][t[8].id]?T&&(H(),U(T,1,1,(()=>{T=null})),E()):T?(T.p(t,n),5&n&&D(T,1)):(T=Zn(t),T.c(),D(T,1),T.m(b.parentNode,b))},i(e){w||(D(r.$$.fragment,e),D(_),D(T),w=!0)},o(e){U(r.$$.fragment,e),U(_),U(T),w=!1},d(e){e&&f(n),W(r,e),e&&f(s),_&&_.d(e),e&&f(l),e&&f(o),e&&f(p),T&&T.d(e),e&&f(b),k=!1,x()}}}function nr(e){let t,n,r,s,l,o;const i=[Xn,Kn],a=[];function c(e,t){return e[0]?1:0}return r=c(e),s=a[r]=i[r](e),{c(){t=d("div"),t.innerHTML='<a href="#/qualifiers">Player rankings</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers!maps">Regular players</a>',n=g(),s.c(),l=h(),v(t,"class","links svelte-1pnvguw")},m(e,s){u(e,t,s),u(e,n,s),a[r].m(e,s),u(e,l,s),o=!0},p(e,[t]){let n=r;r=c(e),r===n?a[r].p(e,t):(H(),U(a[n],1,1,(()=>{a[n]=null})),E(),s=a[r],s?s.p(e,t):(s=a[r]=i[r](e),s.c()),D(s,1),s.m(l.parentNode,l))},i(e){o||(D(s),o=!0)},o(e){U(s),o=!1},d(e){e&&f(t),e&&f(n),a[r].d(e),e&&f(l)}}}function rr(e,t,n){let r,s,l,i,a;o(e,fn,(e=>n(0,r=e))),o(e,te,(e=>n(4,s=e))),o(e,dn,(e=>n(1,l=e))),o(e,pn,(e=>n(5,i=e))),o(e,ee,(e=>n(6,a=e)));let c={};const u=e=>{n(2,c=Object.assign(Object.assign({},c),{[e.id]:!c[e.id]}))};return e.$$.update=()=>{17&e.$$.dirty&&!r&&s&&gn(s),98&e.$$.dirty&&!l&&i&&a&&hn(i,a)},[r,l,c,u,s,i,a,e=>u(e)]}class sr extends K{constructor(e){super(),Q(this,e,rr,nr,l,{})}}function lr(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function or(e){let t,n,r,s,l;return s=new Ln({props:{position:e[1].position,player:e[1],maps:e[2]}}),{c(){t=d("div"),n=d("h1"),n.textContent="Your placement",r=g(),B(s.$$.fragment),v(t,"class","my-qualifier svelte-buidrs")},m(e,o){u(e,t,o),c(t,n),c(t,r),F(s,t,null),l=!0},p(e,t){const n={};2&t&&(n.position=e[1].position),2&t&&(n.player=e[1]),4&t&&(n.maps=e[2]),s.$set(n)},i(e){l||(D(s.$$.fragment,e),l=!0)},o(e){U(s.$$.fragment,e),l=!1},d(e){e&&f(t),W(s)}}}function ir(e){let t,n,r,s,l=[],o=new Map,i=e[0];const a=e=>e[5].id;for(let t=0;t<i.length;t+=1){let n=lr(e,i,t),r=a(n);o.set(r,l[t]=cr(r,n))}return{c(){t=d("div"),n=d("h1"),n.textContent="Elite players",r=g();for(let e=0;e<l.length;e+=1)l[e].c();v(t,"class","players svelte-buidrs")},m(e,o){u(e,t,o),c(t,n),c(t,r);for(let e=0;e<l.length;e+=1)l[e].m(t,null);s=!0},p(e,n){5&n&&(i=e[0],H(),l=J(l,n,a,1,e,i,o,t,G,cr,null,lr),E())},i(e){if(!s){for(let e=0;e<i.length;e+=1)D(l[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)U(l[e]);s=!1},d(e){e&&f(t);for(let e=0;e<l.length;e+=1)l[e].d()}}}function ar(t){let n;return{c(){n=d("p"),n.textContent="Loading qualifier scores...",v(n,"class","lobbies")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function cr(e,t){let n,r,s;return r=new Ln({props:{position:t[7]+1,player:t[5],maps:t[2]}}),{key:e,first:null,c(){n=h(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),F(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.position=t[7]+1),1&n&&(s.player=t[5]),4&n&&(s.maps=t[2]),r.$set(s)},i(e){s||(D(r.$$.fragment,e),s=!0)},o(e){U(r.$$.fragment,e),s=!1},d(e){e&&f(n),W(r,e)}}}function ur(e){let t,n,r,s,l,o,i,a=e[1]&&or(e);const c=[ar,ir],p=[];function m(e,t){return e[0]?1:0}return s=m(e),l=p[s]=c[s](e),{c(){t=d("div"),t.innerHTML='<a href="#/qualifiers!maps">Rankings per map</a> \n  <a href="#/qualifiers!lobbies">Qualifier lobbies</a> \n  <a href="#/qualifiers">Regular players</a>',n=g(),a&&a.c(),r=g(),l.c(),o=h(),v(t,"class","links svelte-buidrs")},m(e,l){u(e,t,l),u(e,n,l),a&&a.m(e,l),u(e,r,l),p[s].m(e,l),u(e,o,l),i=!0},p(e,[t]){e[1]?a?(a.p(e,t),2&t&&D(a,1)):(a=or(e),a.c(),D(a,1),a.m(r.parentNode,r)):a&&(H(),U(a,1,1,(()=>{a=null})),E());let n=s;s=m(e),s===n?p[s].p(e,t):(H(),U(p[n],1,1,(()=>{p[n]=null})),E(),l=p[s],l?l.p(e,t):(l=p[s]=c[s](e),l.c()),D(l,1),l.m(o.parentNode,o))},i(e){i||(D(a),D(l),i=!0)},o(e){U(a),U(l),i=!1},d(e){e&&f(t),e&&f(n),a&&a.d(e),e&&f(r),p[s].d(e),e&&f(o)}}}function fr(e,t,n){let r,s,l,i,a;return o(e,pn,(e=>n(0,r=e))),o(e,te,(e=>n(3,s=e))),o(e,dn,(e=>n(1,l=e))),o(e,ee,(e=>n(4,i=e))),o(e,fn,(e=>n(2,a=e))),e.$$.update=()=>{9&e.$$.dirty&&!r&&s&&gn(s),19&e.$$.dirty&&!l&&r&&i&&hn(r,i)},[r,l,a,s,i]}class pr extends K{constructor(e){super(),Q(this,e,fr,ur,l,{})}}function dr(e,t,n){const r=e.slice();return r[13]=t[n],r[15]=n,r}function mr(e,t,n){const r=e.slice();return r[16]=t[n],r}function gr(e,t,n){const r=e.slice();return r[19]=t[n],r[15]=n,r}function hr(e,t,n){const r=e.slice();return r[16]=t[n],r[22]=n,r}function $r(e){let t,n,r,s,l=e[16].username+"";function o(){return e[11](e[15],e[22])}return{c(){t=d("div"),n=m(l),v(t,"class","player")},m(e,l){u(e,t,l),c(t,n),r||(s=$(t,"click",o),r=!0)},p(t,r){e=t,1&r&&l!==(l=e[16].username+"")&&y(n,l)},d(e){e&&f(t),r=!1,s()}}}function vr(e){let t,n,r,s,l,o,i,a,h=e[15]+1+"";function y(){return e[10](e[15])}let w=e[19],k=[];for(let t=0;t<w.length;t+=1)k[t]=$r(hr(e,w,t));return{c(){t=d("div"),n=d("h3"),r=m("Group "),s=m(h),l=g();for(let e=0;e<k.length;e+=1)k[e].c();o=g(),v(t,"class","group svelte-c6gifs"),b(t,"active",e[2]==e[15])},m(e,f){u(e,t,f),c(t,n),c(n,r),c(n,s),c(t,l);for(let e=0;e<k.length;e+=1)k[e].m(t,null);c(t,o),i||(a=$(n,"click",y),i=!0)},p(n,r){if(e=n,65&r){let n;for(w=e[19],n=0;n<w.length;n+=1){const s=hr(e,w,n);k[n]?k[n].p(s,r):(k[n]=$r(s),k[n].c(),k[n].m(t,o))}for(;n<k.length;n+=1)k[n].d(1);k.length=w.length}4&r&&b(t,"active",e[2]==e[15])},d(e){e&&f(t),p(k,e),i=!1,a()}}}function yr(e){let t,n;return t=new Ln({props:{position:e[1].position,player:e[1],maps:e[4]}}),{c(){B(t.$$.fragment)},m(e,r){F(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.position=e[1].position),2&n&&(r.player=e[1]),16&n&&(r.maps=e[4]),t.$set(r)},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function br(e){let t;return{c(){t=m("Roll")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function wr(e,t){let n,r;return{key:e,first:null,c(){n=d("img"),v(n,"alt",""),n.src!==(r=t[16].avatar)&&v(n,"src",r),v(n,"class","svelte-c6gifs"),this.first=n},m(e,t){u(e,n,t)},p(e,s){t=e,8&s&&n.src!==(r=t[16].avatar)&&v(n,"src",r)},d(e){e&&f(n)}}}function kr(e){let t,n,r,s,l,o,i=["Top","High","Low","Bottom"][e[15]]+"",a=[],p=new Map,h=e[13];const $=e=>e[16].id;for(let t=0;t<h.length;t+=1){let n=mr(e,h,t),r=$(n);p.set(r,a[t]=wr(r,n))}return{c(){t=d("div"),n=d("h3"),r=m(i),s=m(" seed"),l=g();for(let e=0;e<a.length;e+=1)a[e].c();o=g(),v(t,"class","seed svelte-c6gifs")},m(e,i){u(e,t,i),c(t,n),c(n,r),c(n,s),c(t,l);for(let e=0;e<a.length;e+=1)a[e].m(t,null);c(t,o)},p(e,n){8&n&&(h=e[13],a=J(a,n,$,1,e,h,p,t,I,wr,o,mr))},d(e){e&&f(t);for(let e=0;e<a.length;e+=1)a[e].d()}}}function xr(e){let t,n,r,s,l,o,i,a,h,b,w,k,x,S,_,q,T,C=e[2]+1+"",N=e[0],M=[];for(let t=0;t<N.length;t+=1)M[t]=vr(gr(e,N,t));let O=e[1]&&yr(e);b=new ke({props:{$$slots:{default:[br]},$$scope:{ctx:e}}}),b.$on("click",e[5]);let j=e[3],L=[];for(let t=0;t<j.length;t+=1)L[t]=kr(dr(e,j,t));return{c(){t=d("div");for(let e=0;e<M.length;e+=1)M[e].c();n=g(),r=d("div"),s=m("Current group: "),l=d("b"),o=m("Group "),i=m(C),a=g(),O&&O.c(),h=g(),B(b.$$.fragment),w=g(),k=d("div");for(let e=0;e<L.length;e+=1)L[e].c();x=g(),S=d("button"),S.textContent="panic",v(t,"class","groups svelte-c6gifs"),v(r,"class","spotlight svelte-c6gifs"),v(k,"class","seeds svelte-c6gifs")},m(f,p){u(f,t,p);for(let e=0;e<M.length;e+=1)M[e].m(t,null);u(f,n,p),u(f,r,p),c(r,s),c(r,l),c(l,o),c(l,i),c(r,a),O&&O.m(r,null),c(r,h),F(b,r,null),u(f,w,p),u(f,k,p);for(let e=0;e<L.length;e+=1)L[e].m(k,null);u(f,x,p),u(f,S,p),_=!0,q||(T=$(S,"click",e[12]),q=!0)},p(e,[n]){if(69&n){let r;for(N=e[0],r=0;r<N.length;r+=1){const s=gr(e,N,r);M[r]?M[r].p(s,n):(M[r]=vr(s),M[r].c(),M[r].m(t,null))}for(;r<M.length;r+=1)M[r].d(1);M.length=N.length}(!_||4&n)&&C!==(C=e[2]+1+"")&&y(i,C),e[1]?O?(O.p(e,n),2&n&&D(O,1)):(O=yr(e),O.c(),D(O,1),O.m(r,h)):O&&(H(),U(O,1,1,(()=>{O=null})),E());const s={};if(8388608&n&&(s.$$scope={dirty:n,ctx:e}),b.$set(s),8&n){let t;for(j=e[3],t=0;t<j.length;t+=1){const r=dr(e,j,t);L[t]?L[t].p(r,n):(L[t]=kr(r),L[t].c(),L[t].m(k,null))}for(;t<L.length;t+=1)L[t].d(1);L.length=j.length}},i(e){_||(D(O),D(b.$$.fragment,e),_=!0)},o(e){U(O),U(b.$$.fragment,e),_=!1},d(e){e&&f(t),p(M,e),e&&f(n),e&&f(r),O&&O.d(),W(b),e&&f(w),e&&f(k),p(L,e),e&&f(x),e&&f(S),q=!1,T()}}}function Sr(e,t,n){let r,s,l,i;o(e,un,(e=>n(8,s=e))),o(e,te,(e=>n(9,l=e))),o(e,cn,(e=>n(4,i=e)));let a,c=new Array(32).fill(0).map((()=>[{id:"",username:"-"},{id:"",username:"-"},{id:"",username:"-"},{id:"",username:"-"}])),u=new Set,f=0;const p=(e,t)=>{u.delete(c[e][t].id),n(7,u=new Set([...u])),n(0,c[e][t]={id:"",username:"-"},c),localStorage.setItem("groups",JSON.stringify(c)),localStorage.setItem("selectedPlayers",JSON.stringify(Array.from(u.values())))};x((()=>{const e=localStorage.getItem("groups");e&&n(0,c=JSON.parse(e));const t=localStorage.getItem("selectedPlayers");if(t){JSON.parse(t).forEach((e=>u.add(e)))}}));return e.$$.update=()=>{768&e.$$.dirty&&!s&&l&&gn(l),384&e.$$.dirty&&n(3,r=s?[s.slice(0,32).filter((e=>!u.has(e.id))),s.slice(32,64).filter((e=>!u.has(e.id))),s.slice(64,96).filter((e=>!u.has(e.id))),s.slice(96,128).filter((e=>!u.has(e.id)))]:[])},[c,a,f,r,i,()=>{const e=r.find((e=>e.length)),t=e[Math.random()*e.length>>0];n(1,a=t),n(7,u=new Set([...u,t.id])),n(0,c[f][c[f].findIndex((e=>"-"==e.username))]={id:t.id,username:t.username},c),localStorage.setItem("groups",JSON.stringify(c)),localStorage.setItem("selectedPlayers",JSON.stringify(Array.from(u.values()))),n(2,f=31==f?0:f+1)},p,u,s,l,e=>n(2,f=e),(e,t)=>p(e,t),()=>{localStorage.clear()}]}class _r extends K{constructor(e){super(),Q(this,e,Sr,xr,l,{})}}function qr(e){let t,n,r,s,l,o,i,a,p,m,h;t=new ye({}),s=new Ce({}),o=new ze({props:{stages:e[1]}});const $=[Pr,Lr,jr,Or,Mr,Nr,Cr],y=[];function b(e,t){return"players"==e[0]?0:"countries"==e[0]?1:"qualifiers"==e[0]?2:"qualifiers!maps"==e[0]?3:"qualifiers!elite"==e[0]?4:"qualifiers!elite!maps"==e[0]?5:"qualifiers!lobbies"==e[0]?6:-1}return~(p=b(e))&&(m=y[p]=$[p](e)),{c(){B(t.$$.fragment),n=g(),r=d("div"),B(s.$$.fragment),l=g(),B(o.$$.fragment),i=g(),a=d("div"),m&&m.c(),v(a,"class","page svelte-ucquck"),v(r,"class","body svelte-ucquck")},m(e,f){F(t,e,f),u(e,n,f),u(e,r,f),F(s,r,null),c(r,l),F(o,r,null),c(r,i),c(r,a),~p&&y[p].m(a,null),h=!0},p(e,t){const n={};2&t&&(n.stages=e[1]),o.$set(n);let r=p;p=b(e),p!==r&&(m&&(H(),U(y[r],1,1,(()=>{y[r]=null})),E()),~p?(m=y[p],m||(m=y[p]=$[p](e),m.c()),D(m,1),m.m(a,null)):m=null)},i(e){h||(D(t.$$.fragment,e),D(s.$$.fragment,e),D(o.$$.fragment,e),D(m),h=!0)},o(e){U(t.$$.fragment,e),U(s.$$.fragment,e),U(o.$$.fragment,e),U(m),h=!1},d(e){W(t,e),e&&f(n),e&&f(r),W(s),W(o),~p&&y[p].d()}}}function Tr(t){let n,r;return n=new _r({}),{c(){B(n.$$.fragment)},m(e,t){F(n,e,t),r=!0},p:e,i(e){r||(D(n.$$.fragment,e),r=!0)},o(e){U(n.$$.fragment,e),r=!1},d(e){W(n,e)}}}function Cr(e){let t,n,r,s;return t=new sn({}),r=new Ve({}),{c(){B(t.$$.fragment),n=g(),B(r.$$.fragment)},m(e,l){F(t,e,l),u(e,n,l),F(r,e,l),s=!0},i(e){s||(D(t.$$.fragment,e),D(r.$$.fragment,e),s=!0)},o(e){U(t.$$.fragment,e),U(r.$$.fragment,e),s=!1},d(e){W(t,e),e&&f(n),W(r,e)}}}function Nr(e){let t,n;return t=new sr({}),{c(){B(t.$$.fragment)},m(e,r){F(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Mr(e){let t,n;return t=new pr({}),{c(){B(t.$$.fragment)},m(e,r){F(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Or(e){let t,n;return t=new Cn({}),{c(){B(t.$$.fragment)},m(e,r){F(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function jr(e){let t,n;return t=new Fn({}),{c(){B(t.$$.fragment)},m(e,r){F(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Lr(e){let t,n;return t=new bt({}),{c(){B(t.$$.fragment)},m(e,r){F(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Pr(e){let t,n;return t=new ft({}),{c(){B(t.$$.fragment)},m(e,r){F(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){W(t,e)}}}function Ar(e){let t,n,r,s;const l=[Tr,qr],o=[];function i(e,t){return"scuffed!drawing"==e[0]?0:1}return t=i(e),n=o[t]=l[t](e),{c(){n.c(),r=h()},m(e,n){o[t].m(e,n),u(e,r,n),s=!0},p(e,[s]){let a=t;t=i(e),t===a?o[t].p(e,s):(H(),U(o[a],1,1,(()=>{o[a]=null})),E(),n=o[t],n?n.p(e,s):(n=o[t]=l[t](e),n.c()),D(n,1),n.m(r.parentNode,r))},i(e){s||(D(n),s=!0)},o(e){U(n),s=!1},d(e){o[t].d(e),e&&f(r)}}}function zr(e,t,n){let r,s;return o(e,oe,(e=>n(0,r=e))),o(e,le,(e=>n(1,s=e))),[r,s]}return new class extends K{constructor(e){super(),Q(this,e,zr,Ar,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
