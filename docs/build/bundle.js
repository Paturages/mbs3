var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function a(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function i(e,t,n,r,s,l,o){const i=function(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}(t,r,s,l);if(i){const s=a(t,n,r,o);e.p(s,i)}}function c(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function h(){return m(" ")}function g(){return m("")}function $(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function y(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function v(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function b(e,t,n){e.classList[n?"add":"remove"](t)}let w;function k(e){w=e}const _=[],x=[],T=[],C=[],S=Promise.resolve();let M=!1;function q(e){T.push(e)}let z=!1;const L=new Set;function N(){if(!z){z=!0;do{for(let e=0;e<_.length;e+=1){const t=_[e];k(t),O(t.$$)}for(k(null),_.length=0;x.length;)x.pop()();for(let e=0;e<T.length;e+=1){const t=T[e];L.has(t)||(L.add(t),t())}T.length=0}while(_.length);for(;C.length;)C.pop()();M=!1,z=!1,L.clear()}}function O(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(q)}}const P=new Set;let j;function D(){j={r:0,c:[],p:j}}function U(){j.r||r(j.c),j=j.p}function A(e,t){e&&e.i&&(P.delete(e),e.i(t))}function E(e,t,n,r){if(e&&e.o){if(P.has(e))return;P.add(e),j.c.push((()=>{P.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const H="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function R(e,t){e.d(1),t.delete(e.key)}function G(e,t){E(e,1,1,(()=>{t.delete(e.key)}))}function I(e,t,n,r,s,l,o,a,i,c,u,f){let d=e.length,p=l.length,m=d;const h={};for(;m--;)h[e[m].key]=m;const g=[],$=new Map,y=new Map;for(m=p;m--;){const e=f(s,l,m),a=n(e);let i=o.get(a);i?r&&i.p(e,t):(i=c(a,e),i.c()),$.set(a,g[m]=i),a in h&&y.set(a,Math.abs(m-h[a]))}const v=new Set,b=new Set;function w(e){A(e,1),e.m(a,u),o.set(e.key,e),u=e.first,p--}for(;d&&p;){const t=g[p-1],n=e[d-1],r=t.key,s=n.key;t===n?(u=t.first,d--,p--):$.has(s)?!o.has(r)||v.has(r)?w(t):b.has(s)?d--:y.get(r)>y.get(s)?(b.add(r),w(t)):(v.add(s),d--):(i(n,o),d--)}for(;d--;){const t=e[d];$.has(t.key)||i(t,o)}for(;p;)w(g[p-1]);return g}function B(e){e&&e.c()}function J(e,n,l,o){const{fragment:a,on_mount:i,on_destroy:c,after_update:u}=e.$$;a&&a.m(n,l),o||q((()=>{const n=i.map(t).filter(s);c?c.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(q)}function F(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function W(e,t){-1===e.$$.dirty[0]&&(_.push(e),M||(M=!0,S.then(N)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function K(t,s,l,o,a,i,c=[-1]){const u=w;k(t);const d=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let p=!1;if(d.ctx=l?l(t,s.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return d.ctx&&a(d.ctx[e],d.ctx[e]=s)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](s),p&&W(t,e)),n})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!o&&o(d.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);d.fragment&&d.fragment.l(e),e.forEach(f)}else d.fragment&&d.fragment.c();s.intro&&A(t.$$.fragment),J(t,s.target,s.anchor,s.customElement),N()}k(u)}class Q{$destroy(){F(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Y=[];function X(t,n=e){let r;const s=[];function o(e){if(l(t,e)&&(t=e,r)){const e=!Y.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),Y.push(n,t)}if(e){for(let e=0;e<Y.length;e+=2)Y[e][0](Y[e+1]);Y.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(l,a=e){const i=[l,a];return s.push(i),1===s.length&&(r=n(o)||e),l(t),()=>{const e=s.indexOf(i);-1!==e&&s.splice(e,1),0===s.length&&(r(),r=null)}}}}const{API_URL:V}={API_URL:"https://api.mbs3.fightthe.pw",UI_URL:"https://mbs3.fightthe.pw",isProd:!0},Z=X(null),ee=X(null),te=X([]),ne=X([]),re=X([]),se=X([]),le=X(null),oe=new Set(["players","countries","qualifiers"]),ae=()=>{const{hash:e}=location,[,t]=e.split("/");oe.has(t)?le.set(t):(le.set("home"),"#/"!=e&&(location.hash="#/"))};window.addEventListener("hashchange",ae),ae();const ie=(e,t={headers:{}})=>fetch(`${V}${e}`,Object.assign(Object.assign({},t),{headers:Object.assign({Authorization:ce?`Bearer ${ce}`:void 0},t.headers)})).then((e=>e.json()));let ce;function ue(t){let n,r;return{c(){n=p("a"),r=m("Login"),y(n,"href",t[3])},m(e,t){u(e,n,t),c(n,r)},p:e,d(e){e&&f(n)}}}function fe(e){let t,n,r,s,l,o,a,i,d,g,b,w=e[0].username+"",k=e[0].player&&de(),_=e[0].referee&&pe(),x=e[0].commentator&&me(),T=e[0].streamer&&he();return{c(){t=m("Logged in as\r\n      "),n=p("b"),r=m(w),s=m(" -\r\n      "),k&&k.c(),l=h(),_&&_.c(),o=h(),x&&x.c(),a=h(),T&&T.c(),i=h(),d=p("a"),d.textContent="Log out",y(d,"href","#/")},m(f,p){u(f,t,p),u(f,n,p),c(n,r),u(f,s,p),k&&k.m(f,p),u(f,l,p),_&&_.m(f,p),u(f,o,p),x&&x.m(f,p),u(f,a,p),T&&T.m(f,p),u(f,i,p),u(f,d,p),g||(b=$(d,"click",e[2]),g=!0)},p(e,t){1&t&&w!==(w=e[0].username+"")&&v(r,w),e[0].player?k||(k=de(),k.c(),k.m(l.parentNode,l)):k&&(k.d(1),k=null),e[0].referee?_||(_=pe(),_.c(),_.m(o.parentNode,o)):_&&(_.d(1),_=null),e[0].commentator?x||(x=me(),x.c(),x.m(a.parentNode,a)):x&&(x.d(1),x=null),e[0].streamer?T||(T=he(),T.c(),T.m(i.parentNode,i)):T&&(T.d(1),T=null)},d(e){e&&f(t),e&&f(n),e&&f(s),k&&k.d(e),e&&f(l),_&&_.d(e),e&&f(o),x&&x.d(e),e&&f(a),T&&T.d(e),e&&f(i),e&&f(d),g=!1,b()}}}function de(e){let t;return{c(){t=m("Player -")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function pe(e){let t;return{c(){t=m("Referee -")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function me(e){let t;return{c(){t=m("Commentator -")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function he(e){let t;return{c(){t=m("Streamer -")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function ge(t){let n,r,s,l,o,a;function i(e,t){return e[0]?fe:e[1].length?ue:void 0}let d=i(t),m=d&&d(t);return{c(){n=p("div"),r=p("a"),r.innerHTML='<div class="logo svelte-swbai7"><img alt="" src="/images/logo.png" class="svelte-swbai7"/></div> \n    <h1 class="svelte-swbai7"><img alt="Mania Beginner&#39;s Showdown" src="/images/title.png" class="svelte-swbai7"/> \n      <div class="three svelte-swbai7"><span class="svelte-swbai7">3</span></div></h1>',s=h(),l=p("div"),l.innerHTML='<div class="host-title svelte-swbai7">Hosted by</div>\n    Paturages &amp; Davvy',o=h(),a=p("div"),m&&m.c(),y(r,"href","#/"),y(l,"class","hosts svelte-swbai7"),y(a,"class","me svelte-swbai7"),y(n,"class","banner svelte-swbai7")},m(e,t){u(e,n,t),c(n,r),c(n,s),c(n,l),c(n,o),c(n,a),m&&m.m(a,null)},p(e,[t]){d===(d=i(e))&&m?m.p(e,t):(m&&m.d(1),m=d&&d(e),m&&(m.c(),m.m(a,null)))},i:e,o:e,d(e){e&&f(n),m&&m.d()}}}function $e(e,t,n){let r,s;o(e,Z,(e=>n(0,r=e))),o(e,te,(e=>n(1,s=e)));var l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function o(e){try{i(r.next(e))}catch(e){l(e)}}function a(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}i((r=r.apply(e,t||[])).next())}))};return[r,s,()=>l(void 0,void 0,void 0,(function*(){yield fetch("https://api.mbs3.fightthe.pw/auth/logout",{method:"POST",credentials:"include"}),location.reload()})),"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw"]}(async()=>{const{data:e}=await ie("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  stages(sort: "sort") {\n    slug\n    name\n    date_start\n    date_end\n    link\n  }\n  players(sort: "ranking", limit: -1) {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n    ranking\n    pp\n    qualifier {\n      name\n      time\n    }\n  }\n  referees {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n  commentators {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n  streamers {\n    id\n    username\n    discord\n    country\n    country_code\n    avatar\n    timezone\n  }\n}'})});se.set(e.stages),ee.set(e.players);const t=new Map(e.players.map((e=>[e.id,e])));te.set(e.referees);const n=new Map(e.referees.map((e=>[e.id,e])));ne.set(e.commentators);const r=new Map(e.commentators.map((e=>[e.id,e])));re.set(e.streamers);const s=new Map(e.streamers.map((e=>[e.id,e]))),l=await fetch(`${V}/auth/refresh`,{method:"POST",credentials:"include"});if(200==l.status){const e=await l.json();ce=e.data.access_token;const{data:{first_name:o,email:a,avatar:i}}=await ie("/users/me?fields=first_name,email");let c=!1;const u=-(new Date).getTimezoneOffset()/60,f=t.get(a);f&&(c=!f.timezone||!f.timezone.endsWith(String(u)));const d=n.get(a);d&&!c&&(c=!d.timezone||!d.timezone.endsWith(String(u)));const p=r.get(a);p&&!c&&(c=!p.timezone||!p.timezone.endsWith(String(u)));const m=s.get(a);m&&!c&&(c=!m.timezone||!m.timezone.endsWith(String(u))),Z.set({avatar:i,username:o,id:a,player:f,referee:d,commentator:p,streamer:m,qualifier:null==f?void 0:f.qualifier}),c&&await ie("/custom/profile/timezone",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({offset:(new Date).getTimezoneOffset()})})}})();class ye extends Q{constructor(e){super(),K(this,e,$e,ge,l,{})}}function ve(e){let t,n,r,s,l,o,d;const m=e[3].default,h=function(e,t,n,r){if(e){const s=a(e,t,n,r);return e[0](s)}}(m,e,e[2],null);return{c(){t=p("span"),n=p("a"),r=p("div"),h&&h.c(),y(r,"class","text svelte-hih935"),y(n,"href",e[0]),y(n,"target",e[1]),y(n,"rel",s="_blank"===e[1]?"noopener":void 0),y(n,"class","link svelte-hih935"),y(t,"class","button")},m(s,a){u(s,t,a),c(t,n),c(n,r),h&&h.m(r,null),l=!0,o||(d=$(n,"click",e[4]),o=!0)},p(e,[t]){h&&h.p&&4&t&&i(h,m,e,e[2],t,null,null),(!l||1&t)&&y(n,"href",e[0]),(!l||2&t)&&y(n,"target",e[1]),(!l||2&t&&s!==(s="_blank"===e[1]?"noopener":void 0))&&y(n,"rel",s)},i(e){l||(A(h,e),l=!0)},o(e){E(h,e),l=!1},d(e){e&&f(t),h&&h.d(e),o=!1,d()}}}function be(e,t,n){let{$$slots:r={},$$scope:s}=t,{href:l}=t,{target:o=""}=t;return e.$$set=e=>{"href"in e&&n(0,l=e.href),"target"in e&&n(1,o=e.target),"$$scope"in e&&n(2,s=e.$$scope)},[l,o,s,r,function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}(e,t)}]}class we extends Q{constructor(e){super(),K(this,e,be,ve,l,{href:0,target:1})}}function ke(e){let t;return{c(){t=m("Forum post")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function _e(e){let t;return{c(){t=m("Discord")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function xe(e){let t;return{c(){t=m("Players")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Te(e){let t;return{c(){t=m("Countries")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Ce(e){let t,n,r,s,l,o,a,i,d,m,g,$,v,b;return s=new we({props:{href:"https://osu.ppy.sh/community/forums/topics/1280306",target:"_blank",$$slots:{default:[ke]},$$scope:{ctx:e}}}),a=new we({props:{href:"https://discord.gg/uNSqksR",target:"_blank",$$slots:{default:[_e]},$$scope:{ctx:e}}}),m=new we({props:{href:"#/players",$$slots:{default:[xe]},$$scope:{ctx:e}}}),v=new we({props:{href:"#/countries",$$slots:{default:[Te]},$$scope:{ctx:e}}}),{c(){t=p("nav"),n=p("ul"),r=p("li"),B(s.$$.fragment),l=h(),o=p("li"),B(a.$$.fragment),i=h(),d=p("li"),B(m.$$.fragment),g=h(),$=p("li"),B(v.$$.fragment),y(r,"class","svelte-rtylg"),y(o,"class","svelte-rtylg"),y(d,"class","svelte-rtylg"),y($,"class","svelte-rtylg"),y(n,"class","svelte-rtylg")},m(e,f){u(e,t,f),c(t,n),c(n,r),J(s,r,null),c(n,l),c(n,o),J(a,o,null),c(n,i),c(n,d),J(m,d,null),c(n,g),c(n,$),J(v,$,null),b=!0},p(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const r={};1&t&&(r.$$scope={dirty:t,ctx:e}),a.$set(r);const l={};1&t&&(l.$$scope={dirty:t,ctx:e}),m.$set(l);const o={};1&t&&(o.$$scope={dirty:t,ctx:e}),v.$set(o)},i(e){b||(A(s.$$.fragment,e),A(a.$$.fragment,e),A(m.$$.fragment,e),A(v.$$.fragment,e),b=!0)},o(e){E(s.$$.fragment,e),E(a.$$.fragment,e),E(m.$$.fragment,e),E(v.$$.fragment,e),b=!1},d(e){e&&f(t),F(s),F(a),F(m),F(v)}}}class Se extends Q{constructor(e){super(),K(this,e,null,Ce,l,{})}}function Me(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function qe(e){let t;return{c(){t=m("Loading...")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function ze(e){let t,n=e[3].name+"";return{c(){t=m(n)},m(e,n){u(e,t,n)},p(e,r){1&r&&n!==(n=e[3].name+"")&&v(t,n)},d(e){e&&f(t)}}}function Le(e){let t,n,r,s=e[3].name+"";return{c(){t=p("a"),n=m(s),y(t,"href",r=e[3].link)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[3].name+"")&&v(n,s),1&l&&r!==(r=e[3].link)&&y(t,"href",r)},d(e){e&&f(t)}}}function Ne(e,t){let n,r,s,l,o,a,i,d,g,$=t[2](t[3].date_start)+"",w=t[2](t[3].date_end)+"";function k(e,t){return e[3].link?Le:ze}let _=k(t),x=_(t);return{key:e,first:null,c(){n=p("div"),r=p("div"),x.c(),s=h(),l=p("div"),o=m($),a=h(),i=p("div"),d=m(w),g=h(),y(r,"class","stage-name svelte-1xzsd"),y(l,"class","stage-date svelte-1xzsd"),y(i,"class","stage-date svelte-1xzsd"),y(n,"class","stage svelte-1xzsd"),b(n,"active",!t[5]||t[0][t[5]-1].date_end<t[1]),this.first=n},m(e,t){u(e,n,t),c(n,r),x.m(r,null),c(n,s),c(n,l),c(l,o),c(n,a),c(n,i),c(i,d),c(n,g)},p(e,s){_===(_=k(t=e))&&x?x.p(t,s):(x.d(1),x=_(t),x&&(x.c(),x.m(r,null))),1&s&&$!==($=t[2](t[3].date_start)+"")&&v(o,$),1&s&&w!==(w=t[2](t[3].date_end)+"")&&v(d,w),3&s&&b(n,"active",!t[5]||t[0][t[5]-1].date_end<t[1])},d(e){e&&f(n),x.d()}}}function Oe(t){let n,r=[],s=new Map,l=t[0];const o=e=>e[3].slug;for(let e=0;e<l.length;e+=1){let n=Me(t,l,e),a=o(n);s.set(a,r[e]=Ne(a,n))}let a=null;return l.length||(a=qe()),{c(){n=p("div");for(let e=0;e<r.length;e+=1)r[e].c();a&&a.c(),y(n,"class","schedule svelte-1xzsd")},m(e,t){u(e,n,t);for(let e=0;e<r.length;e+=1)r[e].m(n,null);a&&a.m(n,null)},p(e,[t]){7&t&&(l=e[0],r=I(r,t,o,1,e,l,s,n,R,Ne,null,Me),l.length?a&&(a.d(1),a=null):a||(a=qe(),a.c(),a.m(n,null)))},i:e,o:e,d(e){e&&f(n);for(let e=0;e<r.length;e+=1)r[e].d();a&&a.d()}}}function Pe(e,t,n){let{stages:r=[]}=t;const s=(new Date).toISOString();return e.$$set=e=>{"stages"in e&&n(0,r=e.stages)},[r,s,e=>new Date(e).toUTCString().replace(" 00:00:00 GMT","")]}class je extends Q{constructor(e){super(),K(this,e,Pe,Oe,l,{stages:0})}}function De(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function Ue(e,t,n){const r=e.slice();return r[6]=t[n],r[5]=n,r}function Ae(e,t,n){const r=e.slice();return r[8]=t[n],r[5]=n,r}function Ee(e){let t;return{c(){t=m("Hosts")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function He(e){let t;return{c(){t=m("Graphic Designer")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Re(e){let t;return{c(){t=m("Mappool selectors")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Ge(e){let t;return{c(){t=m("Donators")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Ie(e){let t;return{c(){t=m("Referees")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Be(e){let t,n,r,s,l=e[8].username+"";return{c(){t=p("a"),n=m(l),s=h(),y(t,"href",r=`https://osu.ppy.sh/users/${e[8].id}`),y(t,"target","_blank"),y(t,"rel","noopener"),y(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){1&s&&l!==(l=e[8].username+"")&&v(n,l),1&s&&r!==(r=`https://osu.ppy.sh/users/${e[8].id}`)&&y(t,"href",r)},d(e){e&&f(t),e&&f(s)}}}function Je(e){let t;return{c(){t=m("Streamers")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Fe(e){let t,n,r,s,l=e[6].username+"";return{c(){t=p("a"),n=m(l),s=h(),y(t,"href",r=`https://osu.ppy.sh/users/${e[6].id}`),y(t,"target","_blank"),y(t,"rel","noopener"),y(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){2&s&&l!==(l=e[6].username+"")&&v(n,l),2&s&&r!==(r=`https://osu.ppy.sh/users/${e[6].id}`)&&y(t,"href",r)},d(e){e&&f(t),e&&f(s)}}}function We(e){let t;return{c(){t=m("Commentators")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function Ke(e){let t,n,r,s,l=e[3].username+"";return{c(){t=p("a"),n=m(l),s=h(),y(t,"href",r=`https://osu.ppy.sh/users/${e[3].id}`),y(t,"target","_blank"),y(t,"rel","noopener"),y(t,"class","svelte-1psdwt3")},m(e,r){u(e,t,r),c(t,n),u(e,s,r)},p(e,s){4&s&&l!==(l=e[3].username+"")&&v(n,l),4&s&&r!==(r=`https://osu.ppy.sh/users/${e[3].id}`)&&y(t,"href",r)},d(e){e&&f(t),e&&f(s)}}}function Qe(e){let t,n,r,s,l,o,a,i,m,g,$,v,b,w,k,_,x,T,C,S,M,q,z,L,N,O,P,j,D,U,H,R,G,I,W;n=new we({props:{$$slots:{default:[Ee]},$$scope:{ctx:e}}}),a=new we({props:{$$slots:{default:[He]},$$scope:{ctx:e}}}),v=new we({props:{$$slots:{default:[Re]},$$scope:{ctx:e}}}),x=new we({props:{$$slots:{default:[Ge]},$$scope:{ctx:e}}}),q=new we({props:{$$slots:{default:[Ie]},$$scope:{ctx:e}}});let K=e[0],Q=[];for(let t=0;t<K.length;t+=1)Q[t]=Be(Ae(e,K,t));P=new we({props:{$$slots:{default:[Je]},$$scope:{ctx:e}}});let Y=e[1],X=[];for(let t=0;t<Y.length;t+=1)X[t]=Fe(Ue(e,Y,t));R=new we({props:{$$slots:{default:[We]},$$scope:{ctx:e}}});let V=e[2],Z=[];for(let t=0;t<V.length;t+=1)Z[t]=Ke(De(e,V,t));return{c(){t=p("div"),B(n.$$.fragment),r=h(),s=p("div"),s.innerHTML='<a href="https://osu.ppy.sh/users/1375479" target="_blank" rel="noopener" class="svelte-1psdwt3">Paturages</a>  \n    <a href="https://osu.ppy.sh/users/10047413" target="_blank" rel="noopener" class="svelte-1psdwt3">Davvy</a>',l=h(),o=p("div"),B(a.$$.fragment),i=h(),m=p("div"),m.innerHTML='<a href="https://osu.ppy.sh/users/9148286" target="_blank" rel="noopener" class="svelte-1psdwt3">E-M-i</a>',g=h(),$=p("div"),B(v.$$.fragment),b=h(),w=p("div"),w.innerHTML='<a href="https://osu.ppy.sh/users/1375479" target="_blank" rel="noopener" class="svelte-1psdwt3">Paturages</a>  \n    <a href="https://osu.ppy.sh/users/10047413" target="_blank" rel="noopener" class="svelte-1psdwt3">Davvy</a>  \n    <a href="https://osu.ppy.sh/users/11253722" target="_blank" rel="noopener" class="svelte-1psdwt3">DannyPX</a>  \n    <a href="https://osu.ppy.sh/users/11626065" target="_blank" rel="noopener" class="svelte-1psdwt3">guden</a>  \n    <a href="https://osu.ppy.sh/users/2124783" target="_blank" rel="noopener" class="svelte-1psdwt3">Kamikaze</a>  \n    <a href="https://osu.ppy.sh/users/8976576" target="_blank" rel="noopener" class="svelte-1psdwt3">-mint-</a>  \n    <a href="https://osu.ppy.sh/users/8642224" target="_blank" rel="noopener" class="svelte-1psdwt3">Konohana Lucia</a>',k=h(),_=p("div"),B(x.$$.fragment),T=h(),C=p("div"),C.innerHTML='<a href="https://osu.ppy.sh/users/8642224" target="_blank" rel="noopener" class="svelte-1psdwt3">Konohana Lucia</a>',S=h(),M=p("div"),B(q.$$.fragment),z=h(),L=p("div");for(let e=0;e<Q.length;e+=1)Q[e].c();N=h(),O=p("div"),B(P.$$.fragment),j=h(),D=p("div");for(let e=0;e<X.length;e+=1)X[e].c();U=h(),H=p("div"),B(R.$$.fragment),G=h(),I=p("div");for(let e=0;e<Z.length;e+=1)Z[e].c();y(s,"class","container svelte-1psdwt3"),y(t,"class","section svelte-1psdwt3"),y(m,"class","container svelte-1psdwt3"),y(o,"class","section svelte-1psdwt3"),y(w,"class","container svelte-1psdwt3"),y($,"class","section svelte-1psdwt3"),y(C,"class","container svelte-1psdwt3"),y(_,"class","section svelte-1psdwt3"),y(L,"class","container svelte-1psdwt3"),y(M,"class","section svelte-1psdwt3"),y(D,"class","container svelte-1psdwt3"),y(O,"class","section svelte-1psdwt3"),y(I,"class","container svelte-1psdwt3"),y(H,"class","section svelte-1psdwt3")},m(e,f){u(e,t,f),J(n,t,null),c(t,r),c(t,s),u(e,l,f),u(e,o,f),J(a,o,null),c(o,i),c(o,m),u(e,g,f),u(e,$,f),J(v,$,null),c($,b),c($,w),u(e,k,f),u(e,_,f),J(x,_,null),c(_,T),c(_,C),u(e,S,f),u(e,M,f),J(q,M,null),c(M,z),c(M,L);for(let e=0;e<Q.length;e+=1)Q[e].m(L,null);u(e,N,f),u(e,O,f),J(P,O,null),c(O,j),c(O,D);for(let e=0;e<X.length;e+=1)X[e].m(D,null);u(e,U,f),u(e,H,f),J(R,H,null),c(H,G),c(H,I);for(let e=0;e<Z.length;e+=1)Z[e].m(I,null);W=!0},p(e,[t]){const r={};1024&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};1024&t&&(s.$$scope={dirty:t,ctx:e}),a.$set(s);const l={};1024&t&&(l.$$scope={dirty:t,ctx:e}),v.$set(l);const o={};1024&t&&(o.$$scope={dirty:t,ctx:e}),x.$set(o);const i={};if(1024&t&&(i.$$scope={dirty:t,ctx:e}),q.$set(i),1&t){let n;for(K=e[0],n=0;n<K.length;n+=1){const r=Ae(e,K,n);Q[n]?Q[n].p(r,t):(Q[n]=Be(r),Q[n].c(),Q[n].m(L,null))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=K.length}const c={};if(1024&t&&(c.$$scope={dirty:t,ctx:e}),P.$set(c),2&t){let n;for(Y=e[1],n=0;n<Y.length;n+=1){const r=Ue(e,Y,n);X[n]?X[n].p(r,t):(X[n]=Fe(r),X[n].c(),X[n].m(D,null))}for(;n<X.length;n+=1)X[n].d(1);X.length=Y.length}const u={};if(1024&t&&(u.$$scope={dirty:t,ctx:e}),R.$set(u),4&t){let n;for(V=e[2],n=0;n<V.length;n+=1){const r=De(e,V,n);Z[n]?Z[n].p(r,t):(Z[n]=Ke(r),Z[n].c(),Z[n].m(I,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=V.length}},i(e){W||(A(n.$$.fragment,e),A(a.$$.fragment,e),A(v.$$.fragment,e),A(x.$$.fragment,e),A(q.$$.fragment,e),A(P.$$.fragment,e),A(R.$$.fragment,e),W=!0)},o(e){E(n.$$.fragment,e),E(a.$$.fragment,e),E(v.$$.fragment,e),E(x.$$.fragment,e),E(q.$$.fragment,e),E(P.$$.fragment,e),E(R.$$.fragment,e),W=!1},d(e){e&&f(t),F(n),e&&f(l),e&&f(o),F(a),e&&f(g),e&&f($),F(v),e&&f(k),e&&f(_),F(x),e&&f(S),e&&f(M),F(q),d(Q,e),e&&f(N),e&&f(O),F(P),d(X,e),e&&f(U),e&&f(H),F(R),d(Z,e)}}}function Ye(e,t,n){let r,s,l;return o(e,te,(e=>n(0,r=e))),o(e,re,(e=>n(1,s=e))),o(e,ne,(e=>n(2,l=e))),[r,s,l]}class Xe extends Q{constructor(e){super(),K(this,e,Ye,Qe,l,{})}}function Ve(t){let n,r,s,l,o,a,i,d,g,$,b,w,k,_,x,T,C,S,M,q=t[0].username+"",z=t[0].country+"",L=t[0].ranking+"",N=Number(t[0].pp).toFixed(2)+"";return{c(){n=p("a"),r=p("div"),s=p("img"),o=h(),a=p("div"),i=m(q),d=h(),g=p("div"),$=m(z),b=h(),w=p("div"),k=m(L),_=h(),x=p("div"),T=m("("),C=m(N),S=m(" pp)"),y(s,"class","avatar svelte-18mwkz8"),s.src!==(l=t[0].avatar)&&y(s,"src",l),y(s,"alt",""),y(r,"class","avatar svelte-18mwkz8"),y(g,"class","country svelte-18mwkz8"),y(a,"class","name svelte-18mwkz8"),y(x,"class","pp svelte-18mwkz8"),y(w,"class","ranking svelte-18mwkz8"),y(n,"class","player svelte-18mwkz8"),y(n,"href",M=`https://osu.ppy.sh/users/${t[0].id}`),y(n,"target","_blank"),y(n,"rel","noopener")},m(e,t){u(e,n,t),c(n,r),c(r,s),c(n,o),c(n,a),c(a,i),c(a,d),c(a,g),c(g,$),c(n,b),c(n,w),c(w,k),c(w,_),c(w,x),c(x,T),c(x,C),c(x,S)},p(e,[t]){1&t&&s.src!==(l=e[0].avatar)&&y(s,"src",l),1&t&&q!==(q=e[0].username+"")&&v(i,q),1&t&&z!==(z=e[0].country+"")&&v($,z),1&t&&L!==(L=e[0].ranking+"")&&v(k,L),1&t&&N!==(N=Number(e[0].pp).toFixed(2)+"")&&v(C,N),1&t&&M!==(M=`https://osu.ppy.sh/users/${e[0].id}`)&&y(n,"href",M)},i:e,o:e,d(e){e&&f(n)}}}function Ze(e,t,n){let{player:r}=t;return e.$$set=e=>{"player"in e&&n(0,r=e.player)},[r]}class et extends Q{constructor(e){super(),K(this,e,Ze,Ve,l,{player:0})}}function tt(e,t,n){const r=e.slice();return r[4]=t[n],r}function nt(e){let t,n,r,s,l,o,a;const i=[lt,st],d=[];function h(e,t){return e[0]?0:1}return n=h(e),r=d[n]=i[n](e),{c(){t=p("p"),r.c(),s=m("\r\n    Don't forget to\r\n    "),l=p("a"),l.textContent="join the Discord server",o=m("\r\n    (this is also required!)"),y(l,"href","https://discord.gg/uNSqksR"),y(l,"target","_blank"),y(l,"rel","noopener"),y(t,"class","confirm svelte-g74cd1")},m(e,r){u(e,t,r),d[n].m(t,null),c(t,s),c(t,l),c(t,o),a=!0},p(e,l){let o=n;n=h(e),n===o?d[n].p(e,l):(D(),E(d[o],1,1,(()=>{d[o]=null})),U(),r=d[n],r?r.p(e,l):(r=d[n]=i[n](e),r.c()),A(r,1),r.m(t,s))},i(e){a||(A(r),a=!0)},o(e){E(r),a=!1},d(e){e&&f(t),d[n].d()}}}function rt(e){let t,n,r;return n=new we({props:{href:"https://api.mbs3.fightthe.pw/auth/oauth/osu?redirect=https://mbs3.fightthe.pw",$$slots:{default:[at]},$$scope:{ctx:e}}}),{c(){t=p("p"),B(n.$$.fragment),y(t,"class","register svelte-g74cd1")},m(e,s){u(e,t,s),J(n,t,null),r=!0},p(e,t){const r={};128&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(A(n.$$.fragment,e),r=!0)},o(e){E(n.$$.fragment,e),r=!1},d(e){e&&f(t),F(n)}}}function st(e){let t,n;return t=new we({props:{href:"javascript:void(0)",$$slots:{default:[ot]},$$scope:{ctx:e}}}),t.$on("click",e[3]),{c(){B(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function lt(t){let n;return{c(){n=m("Registering...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function ot(e){let t;return{c(){t=m("Confirm registration")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function at(e){let t;return{c(){t=m("Register")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function it(e){let t,n,r,s,l,o,a=e[2].length+"",i=[],d=new Map,$=e[2];const b=e=>e[4].id;for(let t=0;t<$.length;t+=1){let n=tt(e,$,t),r=b(n);d.set(r,i[t]=ft(r,n))}let w=null;return $.length||(w=ut()),{c(){t=p("div"),n=m("Total players: "),r=m(a),s=h();for(let e=0;e<i.length;e+=1)i[e].c();l=g(),w&&w.c(),y(t,"class","stats")},m(e,a){u(e,t,a),c(t,n),c(t,r),u(e,s,a);for(let t=0;t<i.length;t+=1)i[t].m(e,a);u(e,l,a),w&&w.m(e,a),o=!0},p(e,t){(!o||4&t)&&a!==(a=e[2].length+"")&&v(r,a),4&t&&($=e[2],D(),i=I(i,t,b,1,e,$,d,l.parentNode,G,ft,l,tt),U(),$.length?w&&(w.d(1),w=null):w||(w=ut(),w.c(),w.m(l.parentNode,l)))},i(e){if(!o){for(let e=0;e<$.length;e+=1)A(i[e]);o=!0}},o(e){for(let e=0;e<i.length;e+=1)E(i[e]);o=!1},d(e){e&&f(t),e&&f(s);for(let t=0;t<i.length;t+=1)i[t].d(e);e&&f(l),w&&w.d(e)}}}function ct(t){let n;return{c(){n=m("Loading players...")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function ut(e){let t;return{c(){t=m("No players registered yet!")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function ft(e,t){let n,r,s;return r=new et({props:{player:t[4]}}),{key:e,first:null,c(){n=g(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),J(r,e,t),s=!0},p(e,n){t=e;const s={};4&n&&(s.player=t[4]),r.$set(s)},i(e){s||(A(r.$$.fragment,e),s=!0)},o(e){E(r.$$.fragment,e),s=!1},d(e){e&&f(n),F(r,e)}}}function dt(e){let t,n,r,s,l,o,a;const i=[rt,nt],c=[];function d(e,t){return e[1]?e[1].player?-1:1:0}~(t=d(e))&&(n=c[t]=i[t](e));const m=[ct,it],g=[];function $(e,t){return e[2]?1:0}return l=$(e),o=g[l]=m[l](e),{c(){n&&n.c(),r=h(),s=p("p"),o.c(),y(s,"class","players svelte-g74cd1")},m(e,n){~t&&c[t].m(e,n),u(e,r,n),u(e,s,n),g[l].m(s,null),a=!0},p(e,[a]){let u=t;t=d(e),t===u?~t&&c[t].p(e,a):(n&&(D(),E(c[u],1,1,(()=>{c[u]=null})),U()),~t?(n=c[t],n?n.p(e,a):(n=c[t]=i[t](e),n.c()),A(n,1),n.m(r.parentNode,r)):n=null);let f=l;l=$(e),l===f?g[l].p(e,a):(D(),E(g[f],1,1,(()=>{g[f]=null})),U(),o=g[l],o?o.p(e,a):(o=g[l]=m[l](e),o.c()),A(o,1),o.m(s,null))},i(e){a||(A(n),A(o),a=!0)},o(e){E(n),E(o),a=!1},d(e){~t&&c[t].d(e),e&&f(r),e&&f(s),g[l].d()}}}function pt(e,t,n){let r,s;o(e,Z,(e=>n(1,r=e))),o(e,ee,(e=>n(2,s=e)));let l=!1;return[l,r,s,async()=>{n(0,l=!0);const e=-(new Date).getTimezoneOffset()/60,t=await ie("/items/players",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r.id,timezone:`UTC${e>0?"+":""}${e}`})});t.errors?alert(t.errors[0].message):(Z.set({...r,player:t.data}),ee.set(s.concat([t.data]).sort(((e,t)=>t.ranking-e.ranking)))),n(0,l=!1)}]}class mt extends Q{constructor(e){super(),K(this,e,pt,dt,l,{})}}function ht(e,t,n){const r=e.slice();return r[5]=t[n].players,r[6]=t[n].country,r}function gt(e,t,n){const r=e.slice();return r[9]=t[n],r}function $t(e){let t;return{c(){t=m("Loading...")},m(e,n){u(e,t,n)},d(e){e&&f(t)}}}function yt(e){let t,n,r,s=e[5],l=[];for(let t=0;t<s.length;t+=1)l[t]=vt(gt(e,s,t));const o=e=>E(l[e],1,1,(()=>{l[e]=null}));return{c(){t=p("div");for(let e=0;e<l.length;e+=1)l[e].c();n=h(),y(t,"class","players svelte-1q27u36")},m(e,s){u(e,t,s);for(let e=0;e<l.length;e+=1)l[e].m(t,null);c(t,n),r=!0},p(e,r){if(2&r){let a;for(s=e[5],a=0;a<s.length;a+=1){const o=gt(e,s,a);l[a]?(l[a].p(o,r),A(l[a],1)):(l[a]=vt(o),l[a].c(),A(l[a],1),l[a].m(t,n))}for(D(),a=s.length;a<l.length;a+=1)o(a);U()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)A(l[e]);r=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)E(l[e]);r=!1},d(e){e&&f(t),d(l,e)}}}function vt(e){let t,n;return t=new et({props:{player:e[9]}}),{c(){B(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.player=e[9]),t.$set(r)},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function bt(e,t){let n,r,s,l,o,a,i,d,b,w,k,_,x,T,C,S=t[6]+"",M=t[5].length+"",q=1==t[5].length?"":"s",z=t[0]==t[6]?"▼":"►";function L(){return t[4](t[6])}let N=t[0]==t[6]&&yt(t);return{key:e,first:null,c(){n=p("div"),r=p("div"),s=m(S),l=m(": "),o=m(M),a=m(" player"),i=m(q),d=h(),b=p("div"),w=m(z),k=h(),N&&N.c(),_=g(),y(r,"class","label svelte-1q27u36"),y(b,"class","pointer"),y(n,"class","country svelte-1q27u36"),this.first=n},m(e,t){u(e,n,t),c(n,r),c(r,s),c(r,l),c(r,o),c(r,a),c(r,i),c(n,d),c(n,b),c(b,w),u(e,k,t),N&&N.m(e,t),u(e,_,t),x=!0,T||(C=$(n,"click",L),T=!0)},p(e,n){t=e,(!x||2&n)&&S!==(S=t[6]+"")&&v(s,S),(!x||2&n)&&M!==(M=t[5].length+"")&&v(o,M),(!x||2&n)&&q!==(q=1==t[5].length?"":"s")&&v(i,q),(!x||3&n)&&z!==(z=t[0]==t[6]?"▼":"►")&&v(w,z),t[0]==t[6]?N?(N.p(t,n),3&n&&A(N,1)):(N=yt(t),N.c(),A(N,1),N.m(_.parentNode,_)):N&&(D(),E(N,1,1,(()=>{N=null})),U())},i(e){x||(A(N),x=!0)},o(e){E(N),x=!1},d(e){e&&f(n),e&&f(k),N&&N.d(e),e&&f(_),T=!1,C()}}}function wt(e){let t,n,r=[],s=new Map,l=e[1];const o=e=>e[6];for(let t=0;t<l.length;t+=1){let n=ht(e,l,t),a=o(n);s.set(a,r[t]=bt(a,n))}let a=null;return l.length||(a=$t()),{c(){t=p("div");for(let e=0;e<r.length;e+=1)r[e].c();a&&a.c(),y(t,"class","countries svelte-1q27u36")},m(e,s){u(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);a&&a.m(t,null),n=!0},p(e,[n]){7&n&&(l=e[1],D(),r=I(r,n,o,1,e,l,s,t,G,bt,null,ht),U(),l.length?a&&(a.d(1),a=null):a||(a=$t(),a.c(),a.m(t,null)))},i(e){if(!n){for(let e=0;e<l.length;e+=1)A(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)E(r[e]);n=!1},d(e){e&&f(t);for(let e=0;e<r.length;e+=1)r[e].d();a&&a.d()}}}function kt(e,t,n){let r,s,l;o(e,ee,(e=>n(3,s=e)));const a=e=>n(0,l=l==e?null:e);return e.$$.update=()=>{8&e.$$.dirty&&n(1,r=Object.values((null==s?void 0:s.reduce(((e,t)=>(e[t.country]||(e[t.country]={country:t.country,players:[]}),e[t.country].players.push(t),e)),{}))||{}).sort(((e,t)=>e.players.length<t.players.length?1:-1)))},[l,r,a,s,e=>a(e)]}class _t extends Q{constructor(e){super(),K(this,e,kt,wt,l,{})}}function xt(e,t,n){const r=e.slice();return r[8]=t[n],r}function Tt(e){let t,n=e[0].name+"";return{c(){t=m(n)},m(e,n){u(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&v(t,n)},d(e){e&&f(t)}}}function Ct(e){let t,n,r,s=e[0].name+"";return{c(){t=p("a"),n=m(s),y(t,"href",r=e[0].link),y(t,"target","_blank"),y(t,"rel","noopener")},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].name+"")&&v(n,s),1&l&&r!==(r=e[0].link)&&y(t,"href",r)},d(e){e&&f(t)}}}function St(t){let n;return{c(){n=m("To be defined")},m(e,t){u(e,n,t)},p:e,d(e){e&&f(n)}}}function Mt(e){let t,n,r,s=e[0].referee.username+"";return{c(){t=p("a"),n=m(s),y(t,"href",r=`https://osu.ppy.sh/users/${e[0].referee.id}`)},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].referee.username+"")&&v(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].referee.id}`)&&y(t,"href",r)},d(e){e&&f(t)}}}function qt(e){let t,n,r,s,l,o,a,i=(e[0].available_referees.map(Ut).join(", ")||"None")+"";function c(e,t){return e[2]?Nt:e[4]?Lt:zt}let d=c(e),$=d(e);return{c(){t=p("br"),n=h(),r=p("b"),r.textContent="Available referees",s=m(":\r\n        "),l=m(i),o=m(" -\r\n        "),$.c(),a=g()},m(e,i){u(e,t,i),u(e,n,i),u(e,r,i),u(e,s,i),u(e,l,i),u(e,o,i),$.m(e,i),u(e,a,i)},p(e,t){1&t&&i!==(i=(e[0].available_referees.map(Ut).join(", ")||"None")+"")&&v(l,i),d===(d=c(e))&&$?$.p(e,t):($.d(1),$=d(e),$&&($.c(),$.m(a.parentNode,a)))},d(e){e&&f(t),e&&f(n),e&&f(r),e&&f(s),e&&f(l),e&&f(o),$.d(e),e&&f(a)}}}function zt(t){let n,r,s;return{c(){n=p("a"),n.textContent="Add yourself as available",y(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=$(n,"click",t[5]),r=!0)},p:e,d(e){e&&f(n),r=!1,s()}}}function Lt(t){let n,r,s;return{c(){n=p("a"),n.textContent="Remove yourself",y(n,"href","javascript:void(0)")},m(e,l){u(e,n,l),r||(s=$(n,"click",t[5]),r=!0)},p:e,d(e){e&&f(n),r=!1,s()}}}function Nt(t){let n;return{c(){n=m("Processing...")},m(e,t){u(e,n,t)},p:e,d(e){e&&f(n)}}}function Ot(t){let n;return{c(){n=p("a"),n.textContent="Free spot!",y(n,"class","svelte-17tm4k2")},m(e,t){u(e,n,t)},p:e,d(e){e&&f(n)}}}function Pt(e){let t,n,r,s=e[0].players[e[8]].username+"";return{c(){t=p("a"),n=m(s),y(t,"href",r=`https://osu.ppy.sh/users/${e[0].players[e[8]].id}`),y(t,"class","svelte-17tm4k2")},m(e,r){u(e,t,r),c(t,n)},p(e,l){1&l&&s!==(s=e[0].players[e[8]].username+"")&&v(n,s),1&l&&r!==(r=`https://osu.ppy.sh/users/${e[0].players[e[8]].id}`)&&y(t,"href",r)},d(e){e&&f(t)}}}function jt(e){let t;function n(e,t){return e[0].players[e[8]]?Pt:Ot}let r=n(e),s=r(e);return{c(){s.c(),t=g()},m(e,n){s.m(e,n),u(e,t,n)},p(e,l){r===(r=n(e))&&s?s.p(e,l):(s.d(1),s=r(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&f(t)}}}function Dt(t){let n,r,s,l,o,a,i,g,$,b,w,k,_,x,T,C,S,M,q=t[3].toUTCString().replace(":00 GMT"," UTC+0")+"",z=t[3].toTimeString().replace(":00 GMT"," UTC")+"";function L(e,t){return e[0].link?Ct:Tt}let N=L(t),O=N(t);function P(e,t){return e[0].referee?Mt:St}let j=P(t),D=j(t),U=t[1]&&qt(t),A=[0,1,2,3,4,5,6,7],E=[];for(let e=0;e<8;e+=1)E[e]=jt(xt(t,A,e));return{c(){n=p("div"),r=p("div"),O.c(),s=h(),l=p("div"),o=p("div"),a=m(q),i=h(),g=p("div"),$=m("Your local time: "),b=p("b"),w=m(z),k=h(),_=p("div"),x=p("b"),x.textContent="Referee",T=m(":\r\n      "),D.c(),C=h(),U&&U.c(),S=h(),M=p("div");for(let e=0;e<8;e+=1)E[e].c();y(r,"class","name svelte-17tm4k2"),y(o,"class","utc svelte-17tm4k2"),y(g,"class","time svelte-17tm4k2"),y(_,"class","referee svelte-17tm4k2"),y(M,"class","players svelte-17tm4k2"),y(l,"class","body"),y(n,"class","lobby svelte-17tm4k2")},m(e,t){u(e,n,t),c(n,r),O.m(r,null),c(n,s),c(n,l),c(l,o),c(o,a),c(l,i),c(l,g),c(g,$),c(g,b),c(b,w),c(l,k),c(l,_),c(_,x),c(_,T),D.m(_,null),c(_,C),U&&U.m(_,null),c(l,S),c(l,M);for(let e=0;e<8;e+=1)E[e].m(M,null)},p(e,[t]){if(N===(N=L(e))&&O?O.p(e,t):(O.d(1),O=N(e),O&&(O.c(),O.m(r,null))),8&t&&q!==(q=e[3].toUTCString().replace(":00 GMT"," UTC+0")+"")&&v(a,q),8&t&&z!==(z=e[3].toTimeString().replace(":00 GMT"," UTC")+"")&&v(w,z),j===(j=P(e))&&D?D.p(e,t):(D.d(1),D=j(e),D&&(D.c(),D.m(_,C))),e[1]?U?U.p(e,t):(U=qt(e),U.c(),U.m(_,null)):U&&(U.d(1),U=null),1&t){let n;for(A=[0,1,2,3,4,5,6,7],n=0;n<8;n+=1){const r=xt(e,A,n);E[n]?E[n].p(r,t):(E[n]=jt(r),E[n].c(),E[n].m(M,null))}for(;n<8;n+=1)E[n].d(1)}},i:e,o:e,d(e){e&&f(n),O.d(),D.d(),U&&U.d(),d(E,e)}}}const Ut=({referee:e})=>e.username;function At(e,t,n){let r,s,l;o(e,Z,(e=>n(6,l=e)));var a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function o(e){try{i(r.next(e))}catch(e){l(e)}}function a(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}i((r=r.apply(e,t||[])).next())}))};let i,{lobby:c}=t,{toggleAvailable:u}=t;return e.$$set=e=>{"lobby"in e&&n(0,c=e.lobby),"toggleAvailable"in e&&n(1,u=e.toggleAvailable)},e.$$.update=()=>{1&e.$$.dirty&&n(3,r=new Date(c.time)),67&e.$$.dirty&&n(4,s=u&&c.available_referees.find((({referee:e})=>e.id==l.id)))},[c,u,i,r,s,()=>a(void 0,void 0,void 0,(function*(){n(2,i=!0),yield u(),n(2,i=!1)})),l]}class Et extends Q{constructor(e){super(),K(this,e,At,Dt,l,{lobby:0,toggleAvailable:1})}}function Ht(t){let n,r,s,l,o,a,i,d,g,$,w,k,_,x,T,C,S,M,q,z,L,N,O,P,j,D,U,A,E,H,R,G,I,B,J,F,W,K,Q,Y,X,V,Z,ee=t[0].artist+"",te=t[0].name+"",ne=t[0].difficulty+"",re=t[0].category+"",se=t[0].charter+"",le=t[0].sr+"",oe=t[0].length+"",ae=t[0].bpm+"",ie=t[0].od+"",ce=t[0].hp+"";return{c(){n=p("div"),r=p("div"),s=p("div"),l=p("a"),o=m(ee),a=m(" - "),i=m(te),d=p("br"),g=m(ne),w=h(),k=p("div"),_=m(re),x=h(),T=p("div"),C=p("div"),S=m("Mapset by "),M=p("a"),q=m(se),L=h(),N=p("div"),O=p("span"),P=m("⭐ "),j=m(le),D=h(),U=p("span"),A=m("⏰ "),E=m(oe),H=h(),R=p("span"),G=m("🎵 "),I=m(ae),B=m(" BPM"),J=h(),F=p("span"),W=m("🎯 OD "),K=m(ie),Q=h(),Y=p("span"),X=m("❤️ HP "),V=m(ce),y(l,"class","name svelte-ttf8w6"),y(l,"href",$=`https://osu.ppy.sh/beatmaps/${t[0].id}`),y(l,"target","_blank"),y(l,"rel","noopener"),y(k,"class","category svelte-ttf8w6"),y(s,"class","header svelte-ttf8w6"),y(M,"href",z=`https://osu.ppy.sh/users/${t[0].charter_id}`),y(M,"class","svelte-ttf8w6"),y(C,"class","mapper"),y(O,"class","stat-item svelte-ttf8w6"),y(U,"class","stat-item svelte-ttf8w6"),y(R,"class","stat-item svelte-ttf8w6"),y(F,"class","stat-item svelte-ttf8w6"),y(Y,"class","stat-item svelte-ttf8w6"),y(N,"class","stats svelte-ttf8w6"),y(T,"class","body svelte-ttf8w6"),y(r,"class","container svelte-ttf8w6"),y(n,"class","map svelte-ttf8w6"),y(n,"style",Z=`background-image:url(${t[0].cover})`),b(n,"rice",t[0].category.toLowerCase().match(/rice|tech/)),b(n,"ln",t[0].category.toLowerCase().includes("ln")),b(n,"hybrid",t[0].category.toLowerCase().includes("hybrid")),b(n,"tiebreaker",t[0].category.toLowerCase().includes("tiebreaker"))},m(e,t){u(e,n,t),c(n,r),c(r,s),c(s,l),c(l,o),c(l,a),c(l,i),c(l,d),c(l,g),c(s,w),c(s,k),c(k,_),c(r,x),c(r,T),c(T,C),c(C,S),c(C,M),c(M,q),c(T,L),c(T,N),c(N,O),c(O,P),c(O,j),c(N,D),c(N,U),c(U,A),c(U,E),c(N,H),c(N,R),c(R,G),c(R,I),c(R,B),c(N,J),c(N,F),c(F,W),c(F,K),c(N,Q),c(N,Y),c(Y,X),c(Y,V)},p(e,[t]){1&t&&ee!==(ee=e[0].artist+"")&&v(o,ee),1&t&&te!==(te=e[0].name+"")&&v(i,te),1&t&&ne!==(ne=e[0].difficulty+"")&&v(g,ne),1&t&&$!==($=`https://osu.ppy.sh/beatmaps/${e[0].id}`)&&y(l,"href",$),1&t&&re!==(re=e[0].category+"")&&v(_,re),1&t&&se!==(se=e[0].charter+"")&&v(q,se),1&t&&z!==(z=`https://osu.ppy.sh/users/${e[0].charter_id}`)&&y(M,"href",z),1&t&&le!==(le=e[0].sr+"")&&v(j,le),1&t&&oe!==(oe=e[0].length+"")&&v(E,oe),1&t&&ae!==(ae=e[0].bpm+"")&&v(I,ae),1&t&&ie!==(ie=e[0].od+"")&&v(K,ie),1&t&&ce!==(ce=e[0].hp+"")&&v(V,ce),1&t&&Z!==(Z=`background-image:url(${e[0].cover})`)&&y(n,"style",Z),1&t&&b(n,"rice",e[0].category.toLowerCase().match(/rice|tech/)),1&t&&b(n,"ln",e[0].category.toLowerCase().includes("ln")),1&t&&b(n,"hybrid",e[0].category.toLowerCase().includes("hybrid")),1&t&&b(n,"tiebreaker",e[0].category.toLowerCase().includes("tiebreaker"))},i:e,o:e,d(e){e&&f(n)}}}function Rt(e,t,n){let{map:r}=t;return e.$$set=e=>{"map"in e&&n(0,r=e.map)},[r]}class Gt extends Q{constructor(e){super(),K(this,e,Rt,Ht,l,{map:0})}}const It=X(null),Bt=X(null),{Map:Jt}=H;function Ft(e,t,n){const r=e.slice();return r[7]=t[n],r}function Wt(e,t,n){const r=e.slice();return r[10]=t[n],r}function Kt(e){let t,n,r,s,l,o,a,i,d,h,g,$,b,w,k,_,x,T,C,S,M,q,z,L,N,O,P,j,D,U,A,E,H,R,G=e[0].qualifier.name+"",I=e[2].toUTCString().replace(":00 GMT"," UTC+0")+"",B=e[2].toTimeString().replace(":00 GMT"," UTC")+"";return{c(){t=p("p"),n=m("You are in "),r=p("b"),s=m("Lobby "),l=m(G),o=m(" happening on\r\n  "),a=p("b"),i=m(I),d=p("br"),h=m("\r\n  (converted to your local time: "),g=p("b"),$=m(B),b=m(").\r\n  "),w=p("br"),k=p("br"),_=m("\r\n  The referee will ping you on Discord (make sure you are in our Discord) "),x=p("b"),x.textContent="15 minutes",T=m(" before the time"),C=p("br"),S=m("\r\n  and will invite you in the multiplayer lobby "),M=p("b"),M.textContent="5 minutes",q=m(" before the time. Make sure you are logged in the game by then!\r\n  "),z=p("br"),L=p("br"),N=m("\r\n  Once you are in the game, you will play all maps "),O=p("b"),O.textContent="2 times",P=m(":"),j=p("br"),D=m("\r\n  the best score on each map will count in the final qualifiers leaderboard and determine your seed.\r\n  "),U=p("br"),A=p("br"),E=m('\r\n  If you need to reschedule your qualifier, please ask for it in the #reschedules channel in the Discord\r\n  specifying a lobby name with a "free spot" in it (e.g. "Q5", "Q18", ...).'),H=p("br"),R=m("\r\n  If there is no lobby that suits you, please specify a time instead: we will try to organize a special extra lobby."),y(t,"class","intro svelte-1tup9m7")},m(e,f){u(e,t,f),c(t,n),c(t,r),c(r,s),c(r,l),c(t,o),c(t,a),c(a,i),c(t,d),c(t,h),c(t,g),c(g,$),c(t,b),c(t,w),c(t,k),c(t,_),c(t,x),c(t,T),c(t,C),c(t,S),c(t,M),c(t,q),c(t,z),c(t,L),c(t,N),c(t,O),c(t,P),c(t,j),c(t,D),c(t,U),c(t,A),c(t,E),c(t,H),c(t,R)},p(e,t){1&t&&G!==(G=e[0].qualifier.name+"")&&v(l,G),4&t&&I!==(I=e[2].toUTCString().replace(":00 GMT"," UTC+0")+"")&&v(i,I),4&t&&B!==(B=e[2].toTimeString().replace(":00 GMT"," UTC")+"")&&v($,B)},d(e){e&&f(t)}}}function Qt(e){let t,n,r,s,l=[],o=new Jt,a=[],i=new Jt,c=e[3];const d=e=>e[10].id;for(let t=0;t<c.length;t+=1){let n=Wt(e,c,t),r=d(n);o.set(r,l[t]=Xt(r,n))}let m=e[1];const g=e=>e[7].name;for(let t=0;t<m.length;t+=1){let n=Ft(e,m,t),r=g(n);i.set(r,a[t]=Vt(r,n))}return{c(){t=p("p");for(let e=0;e<l.length;e+=1)l[e].c();n=h(),r=p("p");for(let e=0;e<a.length;e+=1)a[e].c();y(t,"class","maps svelte-1tup9m7"),y(r,"class","lobbies svelte-1tup9m7")},m(e,o){u(e,t,o);for(let e=0;e<l.length;e+=1)l[e].m(t,null);u(e,n,o),u(e,r,o);for(let e=0;e<a.length;e+=1)a[e].m(r,null);s=!0},p(e,n){8&n&&(c=e[3],D(),l=I(l,n,d,1,e,c,o,t,G,Xt,null,Wt),U()),19&n&&(m=e[1],D(),a=I(a,n,g,1,e,m,i,r,G,Vt,null,Ft),U())},i(e){if(!s){for(let e=0;e<c.length;e+=1)A(l[e]);for(let e=0;e<m.length;e+=1)A(a[e]);s=!0}},o(e){for(let e=0;e<l.length;e+=1)E(l[e]);for(let e=0;e<a.length;e+=1)E(a[e]);s=!1},d(e){e&&f(t);for(let e=0;e<l.length;e+=1)l[e].d();e&&f(n),e&&f(r);for(let e=0;e<a.length;e+=1)a[e].d()}}}function Yt(t){let n;return{c(){n=p("p"),n.textContent="Loading qualifier lobbies...",y(n,"class","lobbies svelte-1tup9m7")},m(e,t){u(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function Xt(e,t){let n,r,s;return r=new Gt({props:{map:t[10]}}),{key:e,first:null,c(){n=g(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),J(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.map=t[10]),r.$set(s)},i(e){s||(A(r.$$.fragment,e),s=!0)},o(e){E(r.$$.fragment,e),s=!1},d(e){e&&f(n),F(r,e)}}}function Vt(e,t){let n,r,s;return r=new Et({props:{lobby:t[7],toggleAvailable:t[0]?.referee&&t[4](t[7])}}),{key:e,first:null,c(){n=g(),B(r.$$.fragment),this.first=n},m(e,t){u(e,n,t),J(r,e,t),s=!0},p(e,n){t=e;const s={};2&n&&(s.lobby=t[7]),3&n&&(s.toggleAvailable=t[0]?.referee&&t[4](t[7])),r.$set(s)},i(e){s||(A(r.$$.fragment,e),s=!0)},o(e){E(r.$$.fragment,e),s=!1},d(e){e&&f(n),F(r,e)}}}function Zt(e){let t,n,r,s,l,o=e[0]?.qualifier&&Kt(e);const a=[Yt,Qt],i=[];function c(e,t){return e[1]?1:0}return n=c(e),r=i[n]=a[n](e),{c(){o&&o.c(),t=h(),r.c(),s=g()},m(e,r){o&&o.m(e,r),u(e,t,r),i[n].m(e,r),u(e,s,r),l=!0},p(e,[l]){e[0]?.qualifier?o?o.p(e,l):(o=Kt(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null);let u=n;n=c(e),n===u?i[n].p(e,l):(D(),E(i[u],1,1,(()=>{i[u]=null})),U(),r=i[n],r?r.p(e,l):(r=i[n]=a[n](e),r.c()),A(r,1),r.m(s.parentNode,s))},i(e){l||(A(r),l=!0)},o(e){E(r),l=!1},d(e){o&&o.d(e),e&&f(t),i[n].d(e),e&&f(s)}}}function en(e,t,n){let r,s,l,a;o(e,It,(e=>n(1,s=e))),o(e,Z,(e=>n(0,l=e))),o(e,Bt,(e=>n(3,a=e)));var i,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,l){function o(e){try{i(r.next(e))}catch(e){l(e)}}function a(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}i((r=r.apply(e,t||[])).next())}))};s||(async()=>{const{data:e}=await ie("/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n  maps(\n    filter: {\n      stage: {\n        slug: {\n          _eq: "qualifiers"\n        }\n      }\n    }\n    sort: "order"\n  ) {\n    id\n    artist\n    name\n    difficulty\n    charter\n    charter_id\n    category\n    bpm\n    length\n    od\n    hp\n    sr\n    rice\n    ln\n    cover\n  }\n  qualifier_lobbies(sort: "time") {\n    name\n    link\n    players {\n      id\n      username\n    }\n    time\n    referee {\n      id\n      username\n    }\n    available_referees {\n      rel_id: id\n      referee: referees_id {\n        id\n        username\n      }\n    }\n  }\n}'})});It.set(e.qualifier_lobbies),Bt.set(e.maps)})();return e.$$.update=()=>{33&e.$$.dirty&&n(2,r=new Date(null===n(5,i=null==l?void 0:l.qualifier)||void 0===i?void 0:i.time))},[l,s,r,a,e=>()=>c(void 0,void 0,void 0,(function*(){const t=e.available_referees.find((({referee:e})=>e.id==l.id)),n=yield ie(`/items/qualifier_lobbies/${e.name}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({available_referees:t?{delete:[t.rel_id]}:{create:[{referees_id:l.id}]}})});n.errors?alert(n.errors[0].message):It.set(s.map((r=>(r.name!=e.name||(t?r.available_referees=r.available_referees.filter((({referee:e})=>e.id!=l.id)):r.available_referees.push({rel_id:n.data.available_referees.pop(),referee:l.referee})),r))))})),i]}class tn extends Q{constructor(e){super(),K(this,e,en,Zt,l,{})}}function nn(e){let t,n;return t=new Xe({}),{c(){B(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function rn(e){let t,n;return t=new tn({}),{c(){B(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function sn(e){let t,n;return t=new _t({}),{c(){B(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function ln(e){let t,n;return t=new mt({}),{c(){B(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){E(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function on(e){let t,n,r,s,l,o,a,i,d,m,g;t=new ye({}),s=new Se({}),o=new je({props:{stages:e[0]}});const $=[ln,sn,rn,nn],v=[];function b(e,t){return"players"==e[1]?0:"countries"==e[1]?1:"qualifiers"==e[1]?2:3}return d=b(e),m=v[d]=$[d](e),{c(){B(t.$$.fragment),n=h(),r=p("div"),B(s.$$.fragment),l=h(),B(o.$$.fragment),a=h(),i=p("div"),m.c(),y(i,"class","page svelte-ucquck"),y(r,"class","body svelte-ucquck")},m(e,f){J(t,e,f),u(e,n,f),u(e,r,f),J(s,r,null),c(r,l),J(o,r,null),c(r,a),c(r,i),v[d].m(i,null),g=!0},p(e,[t]){const n={};1&t&&(n.stages=e[0]),o.$set(n);let r=d;d=b(e),d!==r&&(D(),E(v[r],1,1,(()=>{v[r]=null})),U(),m=v[d],m||(m=v[d]=$[d](e),m.c()),A(m,1),m.m(i,null))},i(e){g||(A(t.$$.fragment,e),A(s.$$.fragment,e),A(o.$$.fragment,e),A(m),g=!0)},o(e){E(t.$$.fragment,e),E(s.$$.fragment,e),E(o.$$.fragment,e),E(m),g=!1},d(e){F(t,e),e&&f(n),e&&f(r),F(s),F(o),v[d].d()}}}function an(e,t,n){let r,s;return o(e,se,(e=>n(0,r=e))),o(e,le,(e=>n(1,s=e))),[r,s]}return new class extends Q{constructor(e){super(),K(this,e,an,on,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
